var gp=Object.defineProperty;var mp=(t,e,n)=>e in t?gp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var re=(t,e,n)=>mp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qc={exports:{}},Bl={},Gc={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=Symbol.for("react.element"),yp=Symbol.for("react.portal"),_p=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),Sp=Symbol.for("react.profiler"),xp=Symbol.for("react.provider"),Ep=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),kp=Symbol.for("react.memo"),Cp=Symbol.for("react.lazy"),ma=Symbol.iterator;function Lp(t){return t===null||typeof t!="object"?null:(t=ma&&t[ma]||t["@@iterator"],typeof t=="function"?t:null)}var Yc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qc=Object.assign,Kc={};function rr(t,e,n){this.props=t,this.context=e,this.refs=Kc,this.updater=n||Yc}rr.prototype.isReactComponent={};rr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xc(){}Xc.prototype=rr.prototype;function Js(t,e,n){this.props=t,this.context=e,this.refs=Kc,this.updater=n||Yc}var bs=Js.prototype=new Xc;bs.constructor=Js;qc(bs,rr.prototype);bs.isPureReactComponent=!0;var va=Array.isArray,Zc=Object.prototype.hasOwnProperty,eu={current:null},Jc={key:!0,ref:!0,__self:!0,__source:!0};function bc(t,e,n){var r,i={},l=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(l=""+e.key),e)Zc.call(e,r)&&!Jc.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:fi,type:t,key:l,ref:o,props:i,_owner:eu.current}}function Ip(t,e){return{$$typeof:fi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tu(t){return typeof t=="object"&&t!==null&&t.$$typeof===fi}function Ap(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ya=/\/+/g;function po(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ap(""+t.key):e.toString(36)}function qi(t,e,n,r,i){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fi:case yp:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+po(o,0):r,va(i)?(n="",t!=null&&(n=t.replace(ya,"$&/")+"/"),qi(i,e,n,"",function(c){return c})):i!=null&&(tu(i)&&(i=Ip(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ya,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",va(t))for(var u=0;u<t.length;u++){l=t[u];var a=r+po(l,u);o+=qi(l,e,n,a,i)}else if(a=Lp(t),typeof a=="function")for(t=a.call(t),u=0;!(l=t.next()).done;)l=l.value,a=r+po(l,u++),o+=qi(l,e,n,a,i);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ci(t,e,n){if(t==null)return t;var r=[],i=0;return qi(t,r,"","",function(l){return e.call(n,l,i++)}),r}function Np(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},Ki={transition:null},Op={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:eu};function ef(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ci,forEach:function(t,e,n){Ci(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ci(t,function(){e++}),e},toArray:function(t){return Ci(t,function(e){return e})||[]},only:function(t){if(!tu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=rr;z.Fragment=_p;z.Profiler=Sp;z.PureComponent=Js;z.StrictMode=wp;z.Suspense=Tp;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Op;z.act=ef;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qc({},t.props),i=t.key,l=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,o=eu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(a in e)Zc.call(e,a)&&!Jc.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&u!==void 0?u[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:fi,type:t.type,key:i,ref:l,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:Ep,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xp,_context:t},t.Consumer=t};z.createElement=bc;z.createFactory=function(t){var e=bc.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Pp,render:t}};z.isValidElement=tu;z.lazy=function(t){return{$$typeof:Cp,_payload:{_status:-1,_result:t},_init:Np}};z.memo=function(t,e){return{$$typeof:kp,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=Ki.transition;Ki.transition={};try{t()}finally{Ki.transition=e}};z.unstable_act=ef;z.useCallback=function(t,e){return xe.current.useCallback(t,e)};z.useContext=function(t){return xe.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};z.useEffect=function(t,e){return xe.current.useEffect(t,e)};z.useId=function(){return xe.current.useId()};z.useImperativeHandle=function(t,e,n){return xe.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return xe.current.useMemo(t,e)};z.useReducer=function(t,e,n){return xe.current.useReducer(t,e,n)};z.useRef=function(t){return xe.current.useRef(t)};z.useState=function(t){return xe.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return xe.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return xe.current.useTransition()};z.version="18.3.1";Gc.exports=z;var O=Gc.exports;const Mp=vp(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp=O,Rp=Symbol.for("react.element"),Up=Symbol.for("react.fragment"),Dp=Object.prototype.hasOwnProperty,Fp=zp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bp={key:!0,ref:!0,__self:!0,__source:!0};function tf(t,e,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Dp.call(e,r)&&!Bp.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Rp,type:t,key:l,ref:o,props:i,_owner:Fp.current}}Bl.Fragment=Up;Bl.jsx=tf;Bl.jsxs=tf;Qc.exports=Bl;var B=Qc.exports,Wo={},nf={exports:{}},Ue={},rf={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,N){var M=C.length;C.push(N);e:for(;0<M;){var ee=M-1>>>1,oe=C[ee];if(0<i(oe,N))C[ee]=N,C[M]=oe,M=ee;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var N=C[0],M=C.pop();if(M!==N){C[0]=M;e:for(var ee=0,oe=C.length,Ti=oe>>>1;ee<Ti;){var Kt=2*(ee+1)-1,ho=C[Kt],Xt=Kt+1,ki=C[Xt];if(0>i(ho,M))Xt<oe&&0>i(ki,ho)?(C[ee]=ki,C[Xt]=M,ee=Xt):(C[ee]=ho,C[Kt]=M,ee=Kt);else if(Xt<oe&&0>i(ki,M))C[ee]=ki,C[Xt]=M,ee=Xt;else break e}}return N}function i(C,N){var M=C.sortIndex-N.sortIndex;return M!==0?M:C.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var a=[],c=[],f=1,m=null,g=3,v=!1,w=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=C)r(c),N.sortIndex=N.expirationTime,e(a,N);else break;N=n(c)}}function y(C){if(_=!1,h(C),!w)if(n(a)!==null)w=!0,co(x);else{var N=n(c);N!==null&&fo(y,N.startTime-C)}}function x(C,N){w=!1,_&&(_=!1,p(L),L=-1),v=!0;var M=g;try{for(h(N),m=n(a);m!==null&&(!(m.expirationTime>N)||C&&!Ne());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,g=m.priorityLevel;var oe=ee(m.expirationTime<=N);N=t.unstable_now(),typeof oe=="function"?m.callback=oe:m===n(a)&&r(a),h(N)}else r(a);m=n(a)}if(m!==null)var Ti=!0;else{var Kt=n(c);Kt!==null&&fo(y,Kt.startTime-N),Ti=!1}return Ti}finally{m=null,g=M,v=!1}}var P=!1,k=null,L=-1,D=5,A=-1;function Ne(){return!(t.unstable_now()-A<D)}function pr(){if(k!==null){var C=t.unstable_now();A=C;var N=!0;try{N=k(!0,C)}finally{N?gr():(P=!1,k=null)}}else P=!1}var gr;if(typeof d=="function")gr=function(){d(pr)};else if(typeof MessageChannel<"u"){var ga=new MessageChannel,pp=ga.port2;ga.port1.onmessage=pr,gr=function(){pp.postMessage(null)}}else gr=function(){I(pr,0)};function co(C){k=C,P||(P=!0,gr())}function fo(C,N){L=I(function(){C(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,co(x))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(g){case 1:case 2:case 3:var N=3;break;default:N=g}var M=g;g=N;try{return C()}finally{g=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,N){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=g;g=C;try{return N()}finally{g=M}},t.unstable_scheduleCallback=function(C,N,M){var ee=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ee+M:ee):M=ee,C){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=M+oe,C={id:f++,callback:N,priorityLevel:C,startTime:M,expirationTime:oe,sortIndex:-1},M>ee?(C.sortIndex=M,e(c,C),n(a)===null&&C===n(c)&&(_?(p(L),L=-1):_=!0,fo(y,M-ee))):(C.sortIndex=oe,e(a,C),w||v||(w=!0,co(x))),C},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(C){var N=g;return function(){var M=g;g=N;try{return C.apply(this,arguments)}finally{g=M}}}})(lf);rf.exports=lf;var jp=rf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=O,Re=jp;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var of=new Set,Wr={};function gn(t,e){Wn(t,e),Wn(t+"Capture",e)}function Wn(t,e){for(Wr[t]=e,t=0;t<e.length;t++)of.add(e[t])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=Object.prototype.hasOwnProperty,$p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_a={},wa={};function Hp(t){return Qo.call(wa,t)?!0:Qo.call(_a,t)?!1:$p.test(t)?wa[t]=!0:(_a[t]=!0,!1)}function Wp(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qp(t,e,n,r){if(e===null||typeof e>"u"||Wp(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,n,r,i,l,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var nu=/[\-:]([a-z])/g;function ru(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nu,ru);pe[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nu,ru);pe[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nu,ru);pe[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function iu(t,e,n,r){var i=pe.hasOwnProperty(e)?pe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qp(e,n,i,r)&&(n=null),r||i===null?Hp(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xt=Vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Li=Symbol.for("react.element"),xn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),lu=Symbol.for("react.strict_mode"),Go=Symbol.for("react.profiler"),sf=Symbol.for("react.provider"),uf=Symbol.for("react.context"),ou=Symbol.for("react.forward_ref"),Yo=Symbol.for("react.suspense"),qo=Symbol.for("react.suspense_list"),su=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),af=Symbol.for("react.offscreen"),Sa=Symbol.iterator;function vr(t){return t===null||typeof t!="object"?null:(t=Sa&&t[Sa]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,go;function kr(t){if(go===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);go=e&&e[1]||""}return`
`+go+t}var mo=!1;function vo(t,e){if(!t||mo)return"";mo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,u=l.length-1;1<=o&&0<=u&&i[o]!==l[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==l[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==l[u]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=u);break}}}finally{mo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kr(t):""}function Gp(t){switch(t.tag){case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 2:case 15:return t=vo(t.type,!1),t;case 11:return t=vo(t.type.render,!1),t;case 1:return t=vo(t.type,!0),t;default:return""}}function Ko(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case En:return"Fragment";case xn:return"Portal";case Go:return"Profiler";case lu:return"StrictMode";case Yo:return"Suspense";case qo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uf:return(t.displayName||"Context")+".Consumer";case sf:return(t._context.displayName||"Context")+".Provider";case ou:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case su:return e=t.displayName||null,e!==null?e:Ko(t.type)||"Memo";case Pt:e=t._payload,t=t._init;try{return Ko(t(e))}catch{}}return null}function Yp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ko(e);case 8:return e===lu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qp(t){var e=cf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ii(t){t._valueTracker||(t._valueTracker=qp(t))}function ff(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ul(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xo(t,e){var n=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function df(t,e){e=e.checked,e!=null&&iu(t,"checked",e,!1)}function Zo(t,e){df(t,e);var n=Vt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jo(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jo(t,e.type,Vt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ea(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jo(t,e,n){(e!=="number"||ul(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cr=Array.isArray;function Un(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(Cr(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vt(n)}}function hf(t,e){var n=Vt(e.value),r=Vt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ta(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function es(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ai,gf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ai=Ai||document.createElement("div"),Ai.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ai.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kp=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(t){Kp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Or[e]=Or[t]})});function mf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Or.hasOwnProperty(t)&&Or[t]?(""+e).trim():e+"px"}function vf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Xp=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ts(t,e){if(e){if(Xp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function ns(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function uu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var is=null,Dn=null,Fn=null;function ka(t){if(t=pi(t)){if(typeof is!="function")throw Error(S(280));var e=t.stateNode;e&&(e=Wl(e),is(t.stateNode,t.type,e))}}function yf(t){Dn?Fn?Fn.push(t):Fn=[t]:Dn=t}function _f(){if(Dn){var t=Dn,e=Fn;if(Fn=Dn=null,ka(t),e)for(t=0;t<e.length;t++)ka(e[t])}}function wf(t,e){return t(e)}function Sf(){}var yo=!1;function xf(t,e,n){if(yo)return t(e,n);yo=!0;try{return wf(t,e,n)}finally{yo=!1,(Dn!==null||Fn!==null)&&(Sf(),_f())}}function Gr(t,e){var n=t.stateNode;if(n===null)return null;var r=Wl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var ls=!1;if(yt)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){ls=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{ls=!1}function Zp(t,e,n,r,i,l,o,u,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Mr=!1,al=null,cl=!1,os=null,Jp={onError:function(t){Mr=!0,al=t}};function bp(t,e,n,r,i,l,o,u,a){Mr=!1,al=null,Zp.apply(Jp,arguments)}function eg(t,e,n,r,i,l,o,u,a){if(bp.apply(this,arguments),Mr){if(Mr){var c=al;Mr=!1,al=null}else throw Error(S(198));cl||(cl=!0,os=c)}}function mn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ef(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ca(t){if(mn(t)!==t)throw Error(S(188))}function tg(t){var e=t.alternate;if(!e){if(e=mn(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Ca(i),t;if(l===r)return Ca(i),e;l=l.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=l;break}if(u===r){o=!0,r=i,n=l;break}u=u.sibling}if(!o){for(u=l.child;u;){if(u===n){o=!0,n=l,r=i;break}if(u===r){o=!0,r=l,n=i;break}u=u.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function Pf(t){return t=tg(t),t!==null?Tf(t):null}function Tf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tf(t);if(e!==null)return e;t=t.sibling}return null}var kf=Re.unstable_scheduleCallback,La=Re.unstable_cancelCallback,ng=Re.unstable_shouldYield,rg=Re.unstable_requestPaint,te=Re.unstable_now,ig=Re.unstable_getCurrentPriorityLevel,au=Re.unstable_ImmediatePriority,Cf=Re.unstable_UserBlockingPriority,fl=Re.unstable_NormalPriority,lg=Re.unstable_LowPriority,Lf=Re.unstable_IdlePriority,jl=null,ut=null;function og(t){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(jl,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:ag,sg=Math.log,ug=Math.LN2;function ag(t){return t>>>=0,t===0?32:31-(sg(t)/ug|0)|0}var Ni=64,Oi=4194304;function Lr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,l=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=Lr(u):(l&=o,l!==0&&(r=Lr(l)))}else o=n&~i,o!==0?r=Lr(o):l!==0&&(r=Lr(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,l=e&-e,i>=l||i===16&&(l&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xe(e),i=1<<n,r|=t[n],e&=~i;return r}function cg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,l=t.pendingLanes;0<l;){var o=31-Xe(l),u=1<<o,a=i[o];a===-1?(!(u&n)||u&r)&&(i[o]=cg(u,e)):a<=e&&(t.expiredLanes|=u),l&=~u}}function ss(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function If(){var t=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),t}function _o(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function di(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=n}function dg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xe(n),l=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~l}}function cu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xe(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $=0;function Af(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nf,fu,Of,Mf,zf,us=!1,Mi=[],Ot=null,Mt=null,zt=null,Yr=new Map,qr=new Map,Ct=[],hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ia(t,e){switch(t){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Yr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(e.pointerId)}}function _r(t,e,n,r,i,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},e!==null&&(e=pi(e),e!==null&&fu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pg(t,e,n,r,i){switch(e){case"focusin":return Ot=_r(Ot,t,e,n,r,i),!0;case"dragenter":return Mt=_r(Mt,t,e,n,r,i),!0;case"mouseover":return zt=_r(zt,t,e,n,r,i),!0;case"pointerover":var l=i.pointerId;return Yr.set(l,_r(Yr.get(l)||null,t,e,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,qr.set(l,_r(qr.get(l)||null,t,e,n,r,i)),!0}return!1}function Rf(t){var e=en(t.target);if(e!==null){var n=mn(e);if(n!==null){if(e=n.tag,e===13){if(e=Ef(n),e!==null){t.blockedOn=e,zf(t.priority,function(){Of(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=as(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rs=r,n.target.dispatchEvent(r),rs=null}else return e=pi(n),e!==null&&fu(e),t.blockedOn=n,!1;e.shift()}return!0}function Aa(t,e,n){Xi(t)&&n.delete(e)}function gg(){us=!1,Ot!==null&&Xi(Ot)&&(Ot=null),Mt!==null&&Xi(Mt)&&(Mt=null),zt!==null&&Xi(zt)&&(zt=null),Yr.forEach(Aa),qr.forEach(Aa)}function wr(t,e){t.blockedOn===e&&(t.blockedOn=null,us||(us=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,gg)))}function Kr(t){function e(i){return wr(i,t)}if(0<Mi.length){wr(Mi[0],t);for(var n=1;n<Mi.length;n++){var r=Mi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ot!==null&&wr(Ot,t),Mt!==null&&wr(Mt,t),zt!==null&&wr(zt,t),Yr.forEach(e),qr.forEach(e),n=0;n<Ct.length;n++)r=Ct[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ct.length&&(n=Ct[0],n.blockedOn===null);)Rf(n),n.blockedOn===null&&Ct.shift()}var Bn=xt.ReactCurrentBatchConfig,hl=!0;function mg(t,e,n,r){var i=$,l=Bn.transition;Bn.transition=null;try{$=1,du(t,e,n,r)}finally{$=i,Bn.transition=l}}function vg(t,e,n,r){var i=$,l=Bn.transition;Bn.transition=null;try{$=4,du(t,e,n,r)}finally{$=i,Bn.transition=l}}function du(t,e,n,r){if(hl){var i=as(t,e,n,r);if(i===null)Io(t,e,r,pl,n),Ia(t,r);else if(pg(i,t,e,n,r))r.stopPropagation();else if(Ia(t,r),e&4&&-1<hg.indexOf(t)){for(;i!==null;){var l=pi(i);if(l!==null&&Nf(l),l=as(t,e,n,r),l===null&&Io(t,e,r,pl,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Io(t,e,r,null,n)}}var pl=null;function as(t,e,n,r){if(pl=null,t=uu(r),t=en(t),t!==null)if(e=mn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ef(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pl=t,null}function Uf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ig()){case au:return 1;case Cf:return 4;case fl:case lg:return 16;case Lf:return 536870912;default:return 16}default:return 16}}var At=null,hu=null,Zi=null;function Df(){if(Zi)return Zi;var t,e=hu,n=e.length,r,i="value"in At?At.value:At.textContent,l=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[l-r];r++);return Zi=i.slice(t,1<r?1-r:void 0)}function Ji(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Na(){return!1}function De(t){function e(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?zi:Na,this.isPropagationStopped=Na,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),e}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=De(ir),hi=J({},ir,{view:0,detail:0}),yg=De(hi),wo,So,Sr,Vl=J({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sr&&(Sr&&t.type==="mousemove"?(wo=t.screenX-Sr.screenX,So=t.screenY-Sr.screenY):So=wo=0,Sr=t),wo)},movementY:function(t){return"movementY"in t?t.movementY:So}}),Oa=De(Vl),_g=J({},Vl,{dataTransfer:0}),wg=De(_g),Sg=J({},hi,{relatedTarget:0}),xo=De(Sg),xg=J({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Eg=De(xg),Pg=J({},ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tg=De(Pg),kg=J({},ir,{data:0}),Ma=De(kg),Cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ig[t])?!!e[t]:!1}function gu(){return Ag}var Ng=J({},hi,{key:function(t){if(t.key){var e=Cg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ji(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(t){return t.type==="keypress"?Ji(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ji(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Og=De(Ng),Mg=J({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=De(Mg),zg=J({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),Rg=De(zg),Ug=J({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dg=De(Ug),Fg=J({},Vl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bg=De(Fg),jg=[9,13,27,32],mu=yt&&"CompositionEvent"in window,zr=null;yt&&"documentMode"in document&&(zr=document.documentMode);var Vg=yt&&"TextEvent"in window&&!zr,Ff=yt&&(!mu||zr&&8<zr&&11>=zr),Ra=" ",Ua=!1;function Bf(t,e){switch(t){case"keyup":return jg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pn=!1;function $g(t,e){switch(t){case"compositionend":return jf(e);case"keypress":return e.which!==32?null:(Ua=!0,Ra);case"textInput":return t=e.data,t===Ra&&Ua?null:t;default:return null}}function Hg(t,e){if(Pn)return t==="compositionend"||!mu&&Bf(t,e)?(t=Df(),Zi=hu=At=null,Pn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ff&&e.locale!=="ko"?null:e.data;default:return null}}var Wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Da(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wg[t.type]:e==="textarea"}function Vf(t,e,n,r){yf(r),e=gl(e,"onChange"),0<e.length&&(n=new pu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rr=null,Xr=null;function Qg(t){Jf(t,0)}function $l(t){var e=Cn(t);if(ff(e))return t}function Gg(t,e){if(t==="change")return e}var $f=!1;if(yt){var Eo;if(yt){var Po="oninput"in document;if(!Po){var Fa=document.createElement("div");Fa.setAttribute("oninput","return;"),Po=typeof Fa.oninput=="function"}Eo=Po}else Eo=!1;$f=Eo&&(!document.documentMode||9<document.documentMode)}function Ba(){Rr&&(Rr.detachEvent("onpropertychange",Hf),Xr=Rr=null)}function Hf(t){if(t.propertyName==="value"&&$l(Xr)){var e=[];Vf(e,Xr,t,uu(t)),xf(Qg,e)}}function Yg(t,e,n){t==="focusin"?(Ba(),Rr=e,Xr=n,Rr.attachEvent("onpropertychange",Hf)):t==="focusout"&&Ba()}function qg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $l(Xr)}function Kg(t,e){if(t==="click")return $l(e)}function Xg(t,e){if(t==="input"||t==="change")return $l(e)}function Zg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Je=typeof Object.is=="function"?Object.is:Zg;function Zr(t,e){if(Je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qo.call(e,i)||!Je(t[i],e[i]))return!1}return!0}function ja(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Va(t,e){var n=ja(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ja(n)}}function Wf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qf(){for(var t=window,e=ul();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ul(t.document)}return e}function vu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Jg(t){var e=Qf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wf(n.ownerDocument.documentElement,n)){if(r!==null&&vu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!t.extend&&l>r&&(i=r,r=l,l=i),i=Va(n,l);var o=Va(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bg=yt&&"documentMode"in document&&11>=document.documentMode,Tn=null,cs=null,Ur=null,fs=!1;function $a(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fs||Tn==null||Tn!==ul(r)||(r=Tn,"selectionStart"in r&&vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ur&&Zr(Ur,r)||(Ur=r,r=gl(cs,"onSelect"),0<r.length&&(e=new pu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tn)))}function Ri(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var kn={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},To={},Gf={};yt&&(Gf=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function Hl(t){if(To[t])return To[t];if(!kn[t])return t;var e=kn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gf)return To[t]=e[n];return t}var Yf=Hl("animationend"),qf=Hl("animationiteration"),Kf=Hl("animationstart"),Xf=Hl("transitionend"),Zf=new Map,Ha="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){Zf.set(t,e),gn(e,[t])}for(var ko=0;ko<Ha.length;ko++){var Co=Ha[ko],em=Co.toLowerCase(),tm=Co[0].toUpperCase()+Co.slice(1);Qt(em,"on"+tm)}Qt(Yf,"onAnimationEnd");Qt(qf,"onAnimationIteration");Qt(Kf,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(Xf,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Wa(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eg(r,e,void 0,t),t.currentTarget=null}function Jf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],a=u.instance,c=u.currentTarget;if(u=u.listener,a!==l&&i.isPropagationStopped())break e;Wa(i,u,c),l=a}else for(o=0;o<r.length;o++){if(u=r[o],a=u.instance,c=u.currentTarget,u=u.listener,a!==l&&i.isPropagationStopped())break e;Wa(i,u,c),l=a}}}if(cl)throw t=os,cl=!1,os=null,t}function G(t,e){var n=e[ms];n===void 0&&(n=e[ms]=new Set);var r=t+"__bubble";n.has(r)||(bf(e,t,2,!1),n.add(r))}function Lo(t,e,n){var r=0;e&&(r|=4),bf(n,t,r,e)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Jr(t){if(!t[Ui]){t[Ui]=!0,of.forEach(function(n){n!=="selectionchange"&&(nm.has(n)||Lo(n,!1,t),Lo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ui]||(e[Ui]=!0,Lo("selectionchange",!1,e))}}function bf(t,e,n,r){switch(Uf(e)){case 1:var i=mg;break;case 4:i=vg;break;default:i=du}n=i.bind(null,e,n,t),i=void 0,!ls||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Io(t,e,n,r,i){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;u!==null;){if(o=en(u),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}u=u.parentNode}}r=r.return}xf(function(){var c=l,f=uu(n),m=[];e:{var g=Zf.get(t);if(g!==void 0){var v=pu,w=t;switch(t){case"keypress":if(Ji(n)===0)break e;case"keydown":case"keyup":v=Og;break;case"focusin":w="focus",v=xo;break;case"focusout":w="blur",v=xo;break;case"beforeblur":case"afterblur":v=xo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Rg;break;case Yf:case qf:case Kf:v=Eg;break;case Xf:v=Dg;break;case"scroll":v=yg;break;case"wheel":v=Bg;break;case"copy":case"cut":case"paste":v=Tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=za}var _=(e&4)!==0,I=!_&&t==="scroll",p=_?g!==null?g+"Capture":null:g;_=[];for(var d=c,h;d!==null;){h=d;var y=h.stateNode;if(h.tag===5&&y!==null&&(h=y,p!==null&&(y=Gr(d,p),y!=null&&_.push(br(d,y,h)))),I)break;d=d.return}0<_.length&&(g=new v(g,w,null,n,f),m.push({event:g,listeners:_}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==rs&&(w=n.relatedTarget||n.fromElement)&&(en(w)||w[_t]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?en(w):null,w!==null&&(I=mn(w),w!==I||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(_=Oa,y="onMouseLeave",p="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(_=za,y="onPointerLeave",p="onPointerEnter",d="pointer"),I=v==null?g:Cn(v),h=w==null?g:Cn(w),g=new _(y,d+"leave",v,n,f),g.target=I,g.relatedTarget=h,y=null,en(f)===c&&(_=new _(p,d+"enter",w,n,f),_.target=h,_.relatedTarget=I,y=_),I=y,v&&w)t:{for(_=v,p=w,d=0,h=_;h;h=wn(h))d++;for(h=0,y=p;y;y=wn(y))h++;for(;0<d-h;)_=wn(_),d--;for(;0<h-d;)p=wn(p),h--;for(;d--;){if(_===p||p!==null&&_===p.alternate)break t;_=wn(_),p=wn(p)}_=null}else _=null;v!==null&&Qa(m,g,v,_,!1),w!==null&&I!==null&&Qa(m,I,w,_,!0)}}e:{if(g=c?Cn(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var x=Gg;else if(Da(g))if($f)x=Xg;else{x=qg;var P=Yg}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(x=Kg);if(x&&(x=x(t,c))){Vf(m,x,n,f);break e}P&&P(t,g,c),t==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&Jo(g,"number",g.value)}switch(P=c?Cn(c):window,t){case"focusin":(Da(P)||P.contentEditable==="true")&&(Tn=P,cs=c,Ur=null);break;case"focusout":Ur=cs=Tn=null;break;case"mousedown":fs=!0;break;case"contextmenu":case"mouseup":case"dragend":fs=!1,$a(m,n,f);break;case"selectionchange":if(bg)break;case"keydown":case"keyup":$a(m,n,f)}var k;if(mu)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Pn?Bf(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Ff&&n.locale!=="ko"&&(Pn||L!=="onCompositionStart"?L==="onCompositionEnd"&&Pn&&(k=Df()):(At=f,hu="value"in At?At.value:At.textContent,Pn=!0)),P=gl(c,L),0<P.length&&(L=new Ma(L,t,null,n,f),m.push({event:L,listeners:P}),k?L.data=k:(k=jf(n),k!==null&&(L.data=k)))),(k=Vg?$g(t,n):Hg(t,n))&&(c=gl(c,"onBeforeInput"),0<c.length&&(f=new Ma("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=k))}Jf(m,e)})}function br(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Gr(t,n),l!=null&&r.unshift(br(t,l,i)),l=Gr(t,e),l!=null&&r.push(br(t,l,i))),t=t.return}return r}function wn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qa(t,e,n,r,i){for(var l=e._reactName,o=[];n!==null&&n!==r;){var u=n,a=u.alternate,c=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&c!==null&&(u=c,i?(a=Gr(n,l),a!=null&&o.unshift(br(n,a,u))):i||(a=Gr(n,l),a!=null&&o.push(br(n,a,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rm=/\r\n?/g,im=/\u0000|\uFFFD/g;function Ga(t){return(typeof t=="string"?t:""+t).replace(rm,`
`).replace(im,"")}function Di(t,e,n){if(e=Ga(e),Ga(t)!==e&&n)throw Error(S(425))}function ml(){}var ds=null,hs=null;function ps(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gs=typeof setTimeout=="function"?setTimeout:void 0,lm=typeof clearTimeout=="function"?clearTimeout:void 0,Ya=typeof Promise=="function"?Promise:void 0,om=typeof queueMicrotask=="function"?queueMicrotask:typeof Ya<"u"?function(t){return Ya.resolve(null).then(t).catch(sm)}:gs;function sm(t){setTimeout(function(){throw t})}function Ao(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Kr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Kr(e)}function Rt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qa(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lr=Math.random().toString(36).slice(2),it="__reactFiber$"+lr,ei="__reactProps$"+lr,_t="__reactContainer$"+lr,ms="__reactEvents$"+lr,um="__reactListeners$"+lr,am="__reactHandles$"+lr;function en(t){var e=t[it];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_t]||n[it]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qa(t);t!==null;){if(n=t[it])return n;t=qa(t)}return e}t=n,n=t.parentNode}return null}function pi(t){return t=t[it]||t[_t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function Wl(t){return t[ei]||null}var vs=[],Ln=-1;function Gt(t){return{current:t}}function q(t){0>Ln||(t.current=vs[Ln],vs[Ln]=null,Ln--)}function Q(t,e){Ln++,vs[Ln]=t.current,t.current=e}var $t={},ye=Gt($t),Ce=Gt(!1),sn=$t;function Qn(t,e){var n=t.type.contextTypes;if(!n)return $t;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Le(t){return t=t.childContextTypes,t!=null}function vl(){q(Ce),q(ye)}function Ka(t,e,n){if(ye.current!==$t)throw Error(S(168));Q(ye,e),Q(Ce,n)}function ed(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(S(108,Yp(t)||"Unknown",i));return J({},n,r)}function yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$t,sn=ye.current,Q(ye,t),Q(Ce,Ce.current),!0}function Xa(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=ed(t,e,sn),r.__reactInternalMemoizedMergedChildContext=t,q(Ce),q(ye),Q(ye,t)):q(Ce),Q(Ce,n)}var pt=null,Ql=!1,No=!1;function td(t){pt===null?pt=[t]:pt.push(t)}function cm(t){Ql=!0,td(t)}function Yt(){if(!No&&pt!==null){No=!0;var t=0,e=$;try{var n=pt;for($=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pt=null,Ql=!1}catch(i){throw pt!==null&&(pt=pt.slice(t+1)),kf(au,Yt),i}finally{$=e,No=!1}}return null}var In=[],An=0,_l=null,wl=0,Fe=[],Be=0,un=null,gt=1,mt="";function Jt(t,e){In[An++]=wl,In[An++]=_l,_l=t,wl=e}function nd(t,e,n){Fe[Be++]=gt,Fe[Be++]=mt,Fe[Be++]=un,un=t;var r=gt;t=mt;var i=32-Xe(r)-1;r&=~(1<<i),n+=1;var l=32-Xe(e)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gt=1<<32-Xe(e)+i|n<<i|r,mt=l+t}else gt=1<<l|n<<i|r,mt=t}function yu(t){t.return!==null&&(Jt(t,1),nd(t,1,0))}function _u(t){for(;t===_l;)_l=In[--An],In[An]=null,wl=In[--An],In[An]=null;for(;t===un;)un=Fe[--Be],Fe[Be]=null,mt=Fe[--Be],Fe[Be]=null,gt=Fe[--Be],Fe[Be]=null}var ze=null,Me=null,K=!1,qe=null;function rd(t,e){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Za(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ze=t,Me=Rt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ze=t,Me=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=un!==null?{id:gt,overflow:mt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ze=t,Me=null,!0):!1;default:return!1}}function ys(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _s(t){if(K){var e=Me;if(e){var n=e;if(!Za(t,e)){if(ys(t))throw Error(S(418));e=Rt(n.nextSibling);var r=ze;e&&Za(t,e)?rd(r,n):(t.flags=t.flags&-4097|2,K=!1,ze=t)}}else{if(ys(t))throw Error(S(418));t.flags=t.flags&-4097|2,K=!1,ze=t}}}function Ja(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ze=t}function Fi(t){if(t!==ze)return!1;if(!K)return Ja(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ps(t.type,t.memoizedProps)),e&&(e=Me)){if(ys(t))throw id(),Error(S(418));for(;e;)rd(t,e),e=Rt(e.nextSibling)}if(Ja(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Me=Rt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Me=null}}else Me=ze?Rt(t.stateNode.nextSibling):null;return!0}function id(){for(var t=Me;t;)t=Rt(t.nextSibling)}function Gn(){Me=ze=null,K=!1}function wu(t){qe===null?qe=[t]:qe.push(t)}var fm=xt.ReactCurrentBatchConfig;function xr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var i=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(o){var u=i.refs;o===null?delete u[l]:u[l]=o},e._stringRef=l,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function Bi(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ba(t){var e=t._init;return e(t._payload)}function ld(t){function e(p,d){if(t){var h=p.deletions;h===null?(p.deletions=[d],p.flags|=16):h.push(d)}}function n(p,d){if(!t)return null;for(;d!==null;)e(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function i(p,d){return p=Bt(p,d),p.index=0,p.sibling=null,p}function l(p,d,h){return p.index=h,t?(h=p.alternate,h!==null?(h=h.index,h<d?(p.flags|=2,d):h):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function u(p,d,h,y){return d===null||d.tag!==6?(d=Fo(h,p.mode,y),d.return=p,d):(d=i(d,h),d.return=p,d)}function a(p,d,h,y){var x=h.type;return x===En?f(p,d,h.props.children,y,h.key):d!==null&&(d.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Pt&&ba(x)===d.type)?(y=i(d,h.props),y.ref=xr(p,d,h),y.return=p,y):(y=ll(h.type,h.key,h.props,null,p.mode,y),y.ref=xr(p,d,h),y.return=p,y)}function c(p,d,h,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=Bo(h,p.mode,y),d.return=p,d):(d=i(d,h.children||[]),d.return=p,d)}function f(p,d,h,y,x){return d===null||d.tag!==7?(d=ln(h,p.mode,y,x),d.return=p,d):(d=i(d,h),d.return=p,d)}function m(p,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Fo(""+d,p.mode,h),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Li:return h=ll(d.type,d.key,d.props,null,p.mode,h),h.ref=xr(p,null,d),h.return=p,h;case xn:return d=Bo(d,p.mode,h),d.return=p,d;case Pt:var y=d._init;return m(p,y(d._payload),h)}if(Cr(d)||vr(d))return d=ln(d,p.mode,h,null),d.return=p,d;Bi(p,d)}return null}function g(p,d,h,y){var x=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return x!==null?null:u(p,d,""+h,y);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Li:return h.key===x?a(p,d,h,y):null;case xn:return h.key===x?c(p,d,h,y):null;case Pt:return x=h._init,g(p,d,x(h._payload),y)}if(Cr(h)||vr(h))return x!==null?null:f(p,d,h,y,null);Bi(p,h)}return null}function v(p,d,h,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(h)||null,u(d,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Li:return p=p.get(y.key===null?h:y.key)||null,a(d,p,y,x);case xn:return p=p.get(y.key===null?h:y.key)||null,c(d,p,y,x);case Pt:var P=y._init;return v(p,d,h,P(y._payload),x)}if(Cr(y)||vr(y))return p=p.get(h)||null,f(d,p,y,x,null);Bi(d,y)}return null}function w(p,d,h,y){for(var x=null,P=null,k=d,L=d=0,D=null;k!==null&&L<h.length;L++){k.index>L?(D=k,k=null):D=k.sibling;var A=g(p,k,h[L],y);if(A===null){k===null&&(k=D);break}t&&k&&A.alternate===null&&e(p,k),d=l(A,d,L),P===null?x=A:P.sibling=A,P=A,k=D}if(L===h.length)return n(p,k),K&&Jt(p,L),x;if(k===null){for(;L<h.length;L++)k=m(p,h[L],y),k!==null&&(d=l(k,d,L),P===null?x=k:P.sibling=k,P=k);return K&&Jt(p,L),x}for(k=r(p,k);L<h.length;L++)D=v(k,p,L,h[L],y),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?L:D.key),d=l(D,d,L),P===null?x=D:P.sibling=D,P=D);return t&&k.forEach(function(Ne){return e(p,Ne)}),K&&Jt(p,L),x}function _(p,d,h,y){var x=vr(h);if(typeof x!="function")throw Error(S(150));if(h=x.call(h),h==null)throw Error(S(151));for(var P=x=null,k=d,L=d=0,D=null,A=h.next();k!==null&&!A.done;L++,A=h.next()){k.index>L?(D=k,k=null):D=k.sibling;var Ne=g(p,k,A.value,y);if(Ne===null){k===null&&(k=D);break}t&&k&&Ne.alternate===null&&e(p,k),d=l(Ne,d,L),P===null?x=Ne:P.sibling=Ne,P=Ne,k=D}if(A.done)return n(p,k),K&&Jt(p,L),x;if(k===null){for(;!A.done;L++,A=h.next())A=m(p,A.value,y),A!==null&&(d=l(A,d,L),P===null?x=A:P.sibling=A,P=A);return K&&Jt(p,L),x}for(k=r(p,k);!A.done;L++,A=h.next())A=v(k,p,L,A.value,y),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?L:A.key),d=l(A,d,L),P===null?x=A:P.sibling=A,P=A);return t&&k.forEach(function(pr){return e(p,pr)}),K&&Jt(p,L),x}function I(p,d,h,y){if(typeof h=="object"&&h!==null&&h.type===En&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Li:e:{for(var x=h.key,P=d;P!==null;){if(P.key===x){if(x=h.type,x===En){if(P.tag===7){n(p,P.sibling),d=i(P,h.props.children),d.return=p,p=d;break e}}else if(P.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Pt&&ba(x)===P.type){n(p,P.sibling),d=i(P,h.props),d.ref=xr(p,P,h),d.return=p,p=d;break e}n(p,P);break}else e(p,P);P=P.sibling}h.type===En?(d=ln(h.props.children,p.mode,y,h.key),d.return=p,p=d):(y=ll(h.type,h.key,h.props,null,p.mode,y),y.ref=xr(p,d,h),y.return=p,p=y)}return o(p);case xn:e:{for(P=h.key;d!==null;){if(d.key===P)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(p,d.sibling),d=i(d,h.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else e(p,d);d=d.sibling}d=Bo(h,p.mode,y),d.return=p,p=d}return o(p);case Pt:return P=h._init,I(p,d,P(h._payload),y)}if(Cr(h))return w(p,d,h,y);if(vr(h))return _(p,d,h,y);Bi(p,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(p,d.sibling),d=i(d,h),d.return=p,p=d):(n(p,d),d=Fo(h,p.mode,y),d.return=p,p=d),o(p)):n(p,d)}return I}var Yn=ld(!0),od=ld(!1),Sl=Gt(null),xl=null,Nn=null,Su=null;function xu(){Su=Nn=xl=null}function Eu(t){var e=Sl.current;q(Sl),t._currentValue=e}function ws(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jn(t,e){xl=t,Su=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ke=!0),t.firstContext=null)}function He(t){var e=t._currentValue;if(Su!==t)if(t={context:t,memoizedValue:e,next:null},Nn===null){if(xl===null)throw Error(S(308));Nn=t,xl.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return e}var tn=null;function Pu(t){tn===null?tn=[t]:tn.push(t)}function sd(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pu(e)):(n.next=i.next,i.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tt=!1;function Tu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ud(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wt(t,n)}return i=r.interleaved,i===null?(e.next=e,Pu(r)):(e.next=i.next,i.next=e),r.interleaved=e,wt(t,n)}function bi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cu(t,n)}}function ec(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=e:l=l.next=e}else i=l=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function El(t,e,n,r){var i=t.updateQueue;Tt=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var a=u,c=a.next;a.next=null,o===null?l=c:o.next=c,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=a))}if(l!==null){var m=i.baseState;o=0,f=c=a=null,u=l;do{var g=u.lane,v=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,_=u;switch(g=e,v=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){m=w.call(v,m,g);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,g=typeof w=="function"?w.call(v,m,g):w,g==null)break e;m=J({},m,g);break e;case 2:Tt=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=v,a=m):f=f.next=v,o|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(a=m),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else l===null&&(i.shared.lanes=0);cn|=o,t.lanes=o,t.memoizedState=m}}function tc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var gi={},at=Gt(gi),ti=Gt(gi),ni=Gt(gi);function nn(t){if(t===gi)throw Error(S(174));return t}function ku(t,e){switch(Q(ni,e),Q(ti,t),Q(at,gi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:es(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=es(e,t)}q(at),Q(at,e)}function qn(){q(at),q(ti),q(ni)}function ad(t){nn(ni.current);var e=nn(at.current),n=es(e,t.type);e!==n&&(Q(ti,t),Q(at,n))}function Cu(t){ti.current===t&&(q(at),q(ti))}var X=Gt(0);function Pl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oo=[];function Lu(){for(var t=0;t<Oo.length;t++)Oo[t]._workInProgressVersionPrimary=null;Oo.length=0}var el=xt.ReactCurrentDispatcher,Mo=xt.ReactCurrentBatchConfig,an=0,Z=null,ie=null,ue=null,Tl=!1,Dr=!1,ri=0,dm=0;function ge(){throw Error(S(321))}function Iu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Je(t[n],e[n]))return!1;return!0}function Au(t,e,n,r,i,l){if(an=l,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,el.current=t===null||t.memoizedState===null?mm:vm,t=n(r,i),Dr){l=0;do{if(Dr=!1,ri=0,25<=l)throw Error(S(301));l+=1,ue=ie=null,e.updateQueue=null,el.current=ym,t=n(r,i)}while(Dr)}if(el.current=kl,e=ie!==null&&ie.next!==null,an=0,ue=ie=Z=null,Tl=!1,e)throw Error(S(300));return t}function Nu(){var t=ri!==0;return ri=0,t}function tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Z.memoizedState=ue=t:ue=ue.next=t,ue}function We(){if(ie===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var e=ue===null?Z.memoizedState:ue.next;if(e!==null)ue=e,ie=t;else{if(t===null)throw Error(S(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?Z.memoizedState=ue=t:ue=ue.next=t}return ue}function ii(t,e){return typeof e=="function"?e(t):e}function zo(t){var e=We(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=ie,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var u=o=null,a=null,c=l;do{var f=c.lane;if((an&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(u=a=m,o=r):a=a.next=m,Z.lanes|=f,cn|=f}c=c.next}while(c!==null&&c!==l);a===null?o=r:a.next=u,Je(r,e.memoizedState)||(ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do l=i.lane,Z.lanes|=l,cn|=l,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ro(t){var e=We(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,l=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=t(l,o.action),o=o.next;while(o!==i);Je(l,e.memoizedState)||(ke=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,r]}function cd(){}function fd(t,e){var n=Z,r=We(),i=e(),l=!Je(r.memoizedState,i);if(l&&(r.memoizedState=i,ke=!0),r=r.queue,Ou(pd.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,li(9,hd.bind(null,n,r,i,e),void 0,null),ae===null)throw Error(S(349));an&30||dd(n,e,i)}return i}function dd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hd(t,e,n,r){e.value=n,e.getSnapshot=r,gd(e)&&md(t)}function pd(t,e,n){return n(function(){gd(e)&&md(t)})}function gd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Je(t,n)}catch{return!0}}function md(t){var e=wt(t,1);e!==null&&Ze(e,t,1,-1)}function nc(t){var e=tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:t},e.queue=t,t=t.dispatch=gm.bind(null,Z,t),[e.memoizedState,t]}function li(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vd(){return We().memoizedState}function tl(t,e,n,r){var i=tt();Z.flags|=t,i.memoizedState=li(1|e,n,void 0,r===void 0?null:r)}function Gl(t,e,n,r){var i=We();r=r===void 0?null:r;var l=void 0;if(ie!==null){var o=ie.memoizedState;if(l=o.destroy,r!==null&&Iu(r,o.deps)){i.memoizedState=li(e,n,l,r);return}}Z.flags|=t,i.memoizedState=li(1|e,n,l,r)}function rc(t,e){return tl(8390656,8,t,e)}function Ou(t,e){return Gl(2048,8,t,e)}function yd(t,e){return Gl(4,2,t,e)}function _d(t,e){return Gl(4,4,t,e)}function wd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sd(t,e,n){return n=n!=null?n.concat([t]):null,Gl(4,4,wd.bind(null,e,t),n)}function Mu(){}function xd(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ed(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pd(t,e,n){return an&21?(Je(n,e)||(n=If(),Z.lanes|=n,cn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ke=!0),t.memoizedState=n)}function hm(t,e){var n=$;$=n!==0&&4>n?n:4,t(!0);var r=Mo.transition;Mo.transition={};try{t(!1),e()}finally{$=n,Mo.transition=r}}function Td(){return We().memoizedState}function pm(t,e,n){var r=Ft(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kd(t))Cd(e,n);else if(n=sd(t,e,n,r),n!==null){var i=Se();Ze(n,t,r,i),Ld(n,e,r)}}function gm(t,e,n){var r=Ft(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kd(t))Cd(e,i);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var o=e.lastRenderedState,u=l(o,n);if(i.hasEagerState=!0,i.eagerState=u,Je(u,o)){var a=e.interleaved;a===null?(i.next=i,Pu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=sd(t,e,i,r),n!==null&&(i=Se(),Ze(n,t,r,i),Ld(n,e,r))}}function kd(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Cd(t,e){Dr=Tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ld(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cu(t,n)}}var kl={readContext:He,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},mm={readContext:He,useCallback:function(t,e){return tt().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:rc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tl(4194308,4,wd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tl(4194308,4,t,e)},useInsertionEffect:function(t,e){return tl(4,2,t,e)},useMemo:function(t,e){var n=tt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pm.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=tt();return t={current:t},e.memoizedState=t},useState:nc,useDebugValue:Mu,useDeferredValue:function(t){return tt().memoizedState=t},useTransition:function(){var t=nc(!1),e=t[0];return t=hm.bind(null,t[1]),tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,i=tt();if(K){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),ae===null)throw Error(S(349));an&30||dd(r,e,n)}i.memoizedState=n;var l={value:n,getSnapshot:e};return i.queue=l,rc(pd.bind(null,r,l,t),[t]),r.flags|=2048,li(9,hd.bind(null,r,l,n,e),void 0,null),n},useId:function(){var t=tt(),e=ae.identifierPrefix;if(K){var n=mt,r=gt;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ri++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vm={readContext:He,useCallback:xd,useContext:He,useEffect:Ou,useImperativeHandle:Sd,useInsertionEffect:yd,useLayoutEffect:_d,useMemo:Ed,useReducer:zo,useRef:vd,useState:function(){return zo(ii)},useDebugValue:Mu,useDeferredValue:function(t){var e=We();return Pd(e,ie.memoizedState,t)},useTransition:function(){var t=zo(ii)[0],e=We().memoizedState;return[t,e]},useMutableSource:cd,useSyncExternalStore:fd,useId:Td,unstable_isNewReconciler:!1},ym={readContext:He,useCallback:xd,useContext:He,useEffect:Ou,useImperativeHandle:Sd,useInsertionEffect:yd,useLayoutEffect:_d,useMemo:Ed,useReducer:Ro,useRef:vd,useState:function(){return Ro(ii)},useDebugValue:Mu,useDeferredValue:function(t){var e=We();return ie===null?e.memoizedState=t:Pd(e,ie.memoizedState,t)},useTransition:function(){var t=Ro(ii)[0],e=We().memoizedState;return[t,e]},useMutableSource:cd,useSyncExternalStore:fd,useId:Td,unstable_isNewReconciler:!1};function Ge(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ss(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:J({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yl={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Se(),i=Ft(t),l=vt(r,i);l.payload=e,n!=null&&(l.callback=n),e=Ut(t,l,i),e!==null&&(Ze(e,t,i,r),bi(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Se(),i=Ft(t),l=vt(r,i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Ut(t,l,i),e!==null&&(Ze(e,t,i,r),bi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Se(),r=Ft(t),i=vt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ut(t,i,r),e!==null&&(Ze(e,t,r,n),bi(e,t,r))}};function ic(t,e,n,r,i,l,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,o):e.prototype&&e.prototype.isPureReactComponent?!Zr(n,r)||!Zr(i,l):!0}function Id(t,e,n){var r=!1,i=$t,l=e.contextType;return typeof l=="object"&&l!==null?l=He(l):(i=Le(e)?sn:ye.current,r=e.contextTypes,l=(r=r!=null)?Qn(t,i):$t),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=l),e}function lc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yl.enqueueReplaceState(e,e.state,null)}function xs(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Tu(t);var l=e.contextType;typeof l=="object"&&l!==null?i.context=He(l):(l=Le(e)?sn:ye.current,i.context=Qn(t,l)),i.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(Ss(t,e,l,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yl.enqueueReplaceState(i,i.state,null),El(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kn(t,e){try{var n="",r=e;do n+=Gp(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:i,digest:null}}function Uo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Es(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _m=typeof WeakMap=="function"?WeakMap:Map;function Ad(t,e,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ll||(Ll=!0,Ms=r),Es(t,e)},n}function Nd(t,e,n){n=vt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Es(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Es(t,e),typeof r!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function oc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _m;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Mm.bind(null,t,e,n),e.then(t,t))}function sc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vt(-1,1),e.tag=2,Ut(n,e,1))),n.lanes|=1),t)}var wm=xt.ReactCurrentOwner,ke=!1;function we(t,e,n,r){e.child=t===null?od(e,null,n,r):Yn(e,t.child,n,r)}function ac(t,e,n,r,i){n=n.render;var l=e.ref;return jn(e,i),r=Au(t,e,n,r,l,i),n=Nu(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(K&&n&&yu(e),e.flags|=1,we(t,e,r,i),e.child)}function cc(t,e,n,r,i){if(t===null){var l=n.type;return typeof l=="function"&&!Vu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,Od(t,e,l,r,i)):(t=ll(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Zr,n(o,r)&&t.ref===e.ref)return St(t,e,i)}return e.flags|=1,t=Bt(l,r),t.ref=e.ref,t.return=e,e.child=t}function Od(t,e,n,r,i){if(t!==null){var l=t.memoizedProps;if(Zr(l,r)&&t.ref===e.ref)if(ke=!1,e.pendingProps=r=l,(t.lanes&i)!==0)t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,St(t,e,i)}return Ps(t,e,n,r,i)}function Md(t,e,n){var r=e.pendingProps,i=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Mn,Oe),Oe|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(Mn,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Q(Mn,Oe),Oe|=r}else l!==null?(r=l.baseLanes|n,e.memoizedState=null):r=n,Q(Mn,Oe),Oe|=r;return we(t,e,i,n),e.child}function zd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ps(t,e,n,r,i){var l=Le(n)?sn:ye.current;return l=Qn(e,l),jn(e,i),n=Au(t,e,n,r,l,i),r=Nu(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(K&&r&&yu(e),e.flags|=1,we(t,e,n,i),e.child)}function fc(t,e,n,r,i){if(Le(n)){var l=!0;yl(e)}else l=!1;if(jn(e,i),e.stateNode===null)nl(t,e),Id(e,n,r),xs(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=He(c):(c=Le(n)?sn:ye.current,c=Qn(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||a!==c)&&lc(e,o,r,c),Tt=!1;var g=e.memoizedState;o.state=g,El(e,r,o,i),a=e.memoizedState,u!==r||g!==a||Ce.current||Tt?(typeof f=="function"&&(Ss(e,n,f,r),a=e.memoizedState),(u=Tt||ic(e,n,u,r,g,a,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ud(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Ge(e.type,u),o.props=c,m=e.pendingProps,g=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=He(a):(a=Le(n)?sn:ye.current,a=Qn(e,a));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==m||g!==a)&&lc(e,o,r,a),Tt=!1,g=e.memoizedState,o.state=g,El(e,r,o,i);var w=e.memoizedState;u!==m||g!==w||Ce.current||Tt?(typeof v=="function"&&(Ss(e,n,v,r),w=e.memoizedState),(c=Tt||ic(e,n,c,r,g,w,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Ts(t,e,n,r,l,i)}function Ts(t,e,n,r,i,l){zd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Xa(e,n,!1),St(t,e,l);r=e.stateNode,wm.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yn(e,t.child,null,l),e.child=Yn(e,null,u,l)):we(t,e,u,l),e.memoizedState=r.state,i&&Xa(e,n,!0),e.child}function Rd(t){var e=t.stateNode;e.pendingContext?Ka(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ka(t,e.context,!1),ku(t,e.containerInfo)}function dc(t,e,n,r,i){return Gn(),wu(i),e.flags|=256,we(t,e,n,r),e.child}var ks={dehydrated:null,treeContext:null,retryLane:0};function Cs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ud(t,e,n){var r=e.pendingProps,i=X.current,l=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Q(X,i&1),t===null)return _s(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,l?(r=e.mode,l=e.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Xl(o,r,0,null),t=ln(t,r,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=Cs(n),e.memoizedState=ks,t):zu(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Sm(t,e,o,r,u,i,n);if(l){l=r.fallback,o=e.mode,i=t.child,u=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Bt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?l=Bt(u,l):(l=ln(l,o,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,o=t.child.memoizedState,o=o===null?Cs(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=t.childLanes&~n,e.memoizedState=ks,r}return l=t.child,t=l.sibling,r=Bt(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zu(t,e){return e=Xl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ji(t,e,n,r){return r!==null&&wu(r),Yn(e,t.child,null,n),t=zu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sm(t,e,n,r,i,l,o){if(n)return e.flags&256?(e.flags&=-257,r=Uo(Error(S(422))),ji(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,i=e.mode,r=Xl({mode:"visible",children:r.children},i,0,null),l=ln(l,i,o,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&Yn(e,t.child,null,o),e.child.memoizedState=Cs(o),e.memoizedState=ks,l);if(!(e.mode&1))return ji(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(S(419)),r=Uo(l,r,void 0),ji(t,e,o,r)}if(u=(o&t.childLanes)!==0,ke||u){if(r=ae,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,wt(t,i),Ze(r,t,i,-1))}return ju(),r=Uo(Error(S(421))),ji(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zm.bind(null,t),i._reactRetry=e,null):(t=l.treeContext,Me=Rt(i.nextSibling),ze=e,K=!0,qe=null,t!==null&&(Fe[Be++]=gt,Fe[Be++]=mt,Fe[Be++]=un,gt=t.id,mt=t.overflow,un=e),e=zu(e,r.children),e.flags|=4096,e)}function hc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ws(t.return,e,n)}function Do(t,e,n,r,i){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function Dd(t,e,n){var r=e.pendingProps,i=r.revealOrder,l=r.tail;if(we(t,e,r.children,n),r=X.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hc(t,n,e);else if(t.tag===19)hc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(X,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Do(e,!1,i,n,l);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Do(e,!0,n,null,l);break;case"together":Do(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Bt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xm(t,e,n){switch(e.tag){case 3:Rd(e),Gn();break;case 5:ad(e);break;case 1:Le(e.type)&&yl(e);break;case 4:ku(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Q(Sl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(X,X.current&1),e.flags|=128,null):n&e.child.childLanes?Ud(t,e,n):(Q(X,X.current&1),t=St(t,e,n),t!==null?t.sibling:null);Q(X,X.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dd(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(X,X.current),r)break;return null;case 22:case 23:return e.lanes=0,Md(t,e,n)}return St(t,e,n)}var Fd,Ls,Bd,jd;Fd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ls=function(){};Bd=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,nn(at.current);var l=null;switch(n){case"input":i=Xo(t,i),r=Xo(t,r),l=[];break;case"select":i=J({},i,{value:void 0}),r=J({},r,{value:void 0}),l=[];break;case"textarea":i=bo(t,i),r=bo(t,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ml)}ts(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wr.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var a=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==u&&(a!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&u[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(l=l||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&G("scroll",t),l||u===a||(l=[])):(l=l||[]).push(c,a))}n&&(l=l||[]).push("style",n);var c=l;(e.updateQueue=c)&&(e.flags|=4)}};jd=function(t,e,n,r){n!==r&&(e.flags|=4)};function Er(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Em(t,e,n){var r=e.pendingProps;switch(_u(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Le(e.type)&&vl(),me(e),null;case 3:return r=e.stateNode,qn(),q(Ce),q(ye),Lu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qe!==null&&(Us(qe),qe=null))),Ls(t,e),me(e),null;case 5:Cu(e);var i=nn(ni.current);if(n=e.type,t!==null&&e.stateNode!=null)Bd(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return me(e),null}if(t=nn(at.current),Fi(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[it]=e,r[ei]=l,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)G(Ir[i],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":xa(r,l),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},G("invalid",r);break;case"textarea":Pa(r,l),G("invalid",r)}ts(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&Di(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&Di(r.textContent,u,t),i=["children",""+u]):Wr.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":Ii(r),Ea(r,l,!0);break;case"textarea":Ii(r),Ta(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ml)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[it]=e,t[ei]=r,Fd(t,e,!1,!1),e.stateNode=t;e:{switch(o=ns(n,r),n){case"dialog":G("cancel",t),G("close",t),i=r;break;case"iframe":case"object":case"embed":G("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)G(Ir[i],t);i=r;break;case"source":G("error",t),i=r;break;case"img":case"image":case"link":G("error",t),G("load",t),i=r;break;case"details":G("toggle",t),i=r;break;case"input":xa(t,r),i=Xo(t,r),G("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=J({},r,{value:void 0}),G("invalid",t);break;case"textarea":Pa(t,r),i=bo(t,r),G("invalid",t);break;default:i=r}ts(n,i),u=i;for(l in u)if(u.hasOwnProperty(l)){var a=u[l];l==="style"?vf(t,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&gf(t,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Qr(t,a):typeof a=="number"&&Qr(t,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Wr.hasOwnProperty(l)?a!=null&&l==="onScroll"&&G("scroll",t):a!=null&&iu(t,l,a,o))}switch(n){case"input":Ii(t),Ea(t,r,!1);break;case"textarea":Ii(t),Ta(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vt(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Un(t,!!r.multiple,l,!1):r.defaultValue!=null&&Un(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)jd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=nn(ni.current),nn(at.current),Fi(e)){if(r=e.stateNode,n=e.memoizedProps,r[it]=e,(l=r.nodeValue!==n)&&(t=ze,t!==null))switch(t.tag){case 3:Di(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Di(r.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[it]=e,e.stateNode=r}return me(e),null;case 13:if(q(X),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&Me!==null&&e.mode&1&&!(e.flags&128))id(),Gn(),e.flags|=98560,l=!1;else if(l=Fi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(S(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(S(317));l[it]=e}else Gn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),l=!1}else qe!==null&&(Us(qe),qe=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?le===0&&(le=3):ju())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return qn(),Ls(t,e),t===null&&Jr(e.stateNode.containerInfo),me(e),null;case 10:return Eu(e.type._context),me(e),null;case 17:return Le(e.type)&&vl(),me(e),null;case 19:if(q(X),l=e.memoizedState,l===null)return me(e),null;if(r=(e.flags&128)!==0,o=l.rendering,o===null)if(r)Er(l,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pl(t),o!==null){for(e.flags|=128,Er(l,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)l=n,t=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,t=o.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(X,X.current&1|2),e.child}t=t.sibling}l.tail!==null&&te()>Xn&&(e.flags|=128,r=!0,Er(l,!1),e.lanes=4194304)}else{if(!r)if(t=Pl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Er(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!K)return me(e),null}else 2*te()-l.renderingStartTime>Xn&&n!==1073741824&&(e.flags|=128,r=!0,Er(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(n=l.last,n!==null?n.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=te(),e.sibling=null,n=X.current,Q(X,r?n&1|2:n&1),e):(me(e),null);case 22:case 23:return Bu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oe&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Pm(t,e){switch(_u(e),e.tag){case 1:return Le(e.type)&&vl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qn(),q(Ce),q(ye),Lu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cu(e),null;case 13:if(q(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Gn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(X),null;case 4:return qn(),null;case 10:return Eu(e.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var Vi=!1,ve=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,T=null;function On(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){b(t,e,r)}else n.current=null}function Is(t,e,n){try{n()}catch(r){b(t,e,r)}}var pc=!1;function km(t,e){if(ds=hl,t=Qf(),vu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,u=-1,a=-1,c=0,f=0,m=t,g=null;t:for(;;){for(var v;m!==n||i!==0&&m.nodeType!==3||(u=o+i),m!==l||r!==0&&m.nodeType!==3||(a=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)g=m,m=v;for(;;){if(m===t)break t;if(g===n&&++c===i&&(u=o),g===l&&++f===r&&(a=o),(v=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=v}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(hs={focusedElem:t,selectionRange:n},hl=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,I=w.memoizedState,p=e.stateNode,d=p.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ge(e.type,_),I);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=e.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(y){b(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return w=pc,pc=!1,w}function Fr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var l=i.destroy;i.destroy=void 0,l!==void 0&&Is(e,n,l)}i=i.next}while(i!==r)}}function ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function As(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vd(t){var e=t.alternate;e!==null&&(t.alternate=null,Vd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[it],delete e[ei],delete e[ms],delete e[um],delete e[am])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $d(t){return t.tag===5||t.tag===3||t.tag===4}function gc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$d(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ns(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ml));else if(r!==4&&(t=t.child,t!==null))for(Ns(t,e,n),t=t.sibling;t!==null;)Ns(t,e,n),t=t.sibling}function Os(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Os(t,e,n),t=t.sibling;t!==null;)Os(t,e,n),t=t.sibling}var fe=null,Ye=!1;function Et(t,e,n){for(n=n.child;n!==null;)Hd(t,e,n),n=n.sibling}function Hd(t,e,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(jl,n)}catch{}switch(n.tag){case 5:ve||On(n,e);case 6:var r=fe,i=Ye;fe=null,Et(t,e,n),fe=r,Ye=i,fe!==null&&(Ye?(t=fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(Ye?(t=fe,n=n.stateNode,t.nodeType===8?Ao(t.parentNode,n):t.nodeType===1&&Ao(t,n),Kr(t)):Ao(fe,n.stateNode));break;case 4:r=fe,i=Ye,fe=n.stateNode.containerInfo,Ye=!0,Et(t,e,n),fe=r,Ye=i;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Is(n,e,o),i=i.next}while(i!==r)}Et(t,e,n);break;case 1:if(!ve&&(On(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){b(n,e,u)}Et(t,e,n);break;case 21:Et(t,e,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,Et(t,e,n),ve=r):Et(t,e,n);break;default:Et(t,e,n)}}function mc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tm),e.forEach(function(r){var i=Rm.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:fe=u.stateNode,Ye=!1;break e;case 3:fe=u.stateNode.containerInfo,Ye=!0;break e;case 4:fe=u.stateNode.containerInfo,Ye=!0;break e}u=u.return}if(fe===null)throw Error(S(160));Hd(l,o,i),fe=null,Ye=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){b(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Wd(e,t),e=e.sibling}function Wd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qe(e,t),et(t),r&4){try{Fr(3,t,t.return),ql(3,t)}catch(_){b(t,t.return,_)}try{Fr(5,t,t.return)}catch(_){b(t,t.return,_)}}break;case 1:Qe(e,t),et(t),r&512&&n!==null&&On(n,n.return);break;case 5:if(Qe(e,t),et(t),r&512&&n!==null&&On(n,n.return),t.flags&32){var i=t.stateNode;try{Qr(i,"")}catch(_){b(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var l=t.memoizedProps,o=n!==null?n.memoizedProps:l,u=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&df(i,l),ns(u,o);var c=ns(u,l);for(o=0;o<a.length;o+=2){var f=a[o],m=a[o+1];f==="style"?vf(i,m):f==="dangerouslySetInnerHTML"?gf(i,m):f==="children"?Qr(i,m):iu(i,f,m,c)}switch(u){case"input":Zo(i,l);break;case"textarea":hf(i,l);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?Un(i,!!l.multiple,v,!1):g!==!!l.multiple&&(l.defaultValue!=null?Un(i,!!l.multiple,l.defaultValue,!0):Un(i,!!l.multiple,l.multiple?[]:"",!1))}i[ei]=l}catch(_){b(t,t.return,_)}}break;case 6:if(Qe(e,t),et(t),r&4){if(t.stateNode===null)throw Error(S(162));i=t.stateNode,l=t.memoizedProps;try{i.nodeValue=l}catch(_){b(t,t.return,_)}}break;case 3:if(Qe(e,t),et(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kr(e.containerInfo)}catch(_){b(t,t.return,_)}break;case 4:Qe(e,t),et(t);break;case 13:Qe(e,t),et(t),i=t.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Du=te())),r&4&&mc(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ve=(c=ve)||f,Qe(e,t),ve=c):Qe(e,t),et(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(T=t,f=t.child;f!==null;){for(m=T=f;T!==null;){switch(g=T,v=g.child,g.tag){case 0:case 11:case 14:case 15:Fr(4,g,g.return);break;case 1:On(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){b(r,n,_)}}break;case 5:On(g,g.return);break;case 22:if(g.memoizedState!==null){yc(m);continue}}v!==null?(v.return=g,T=v):yc(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,c?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=m.stateNode,a=m.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=mf("display",o))}catch(_){b(t,t.return,_)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(_){b(t,t.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qe(e,t),et(t),r&4&&mc(t);break;case 21:break;default:Qe(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($d(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qr(i,""),r.flags&=-33);var l=gc(t);Os(t,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=gc(t);Ns(t,u,o);break;default:throw Error(S(161))}}catch(a){b(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cm(t,e,n){T=t,Qd(t)}function Qd(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var i=T,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vi;if(!o){var u=i.alternate,a=u!==null&&u.memoizedState!==null||ve;u=Vi;var c=ve;if(Vi=o,(ve=a)&&!c)for(T=i;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?_c(i):a!==null?(a.return=o,T=a):_c(i);for(;l!==null;)T=l,Qd(l),l=l.sibling;T=i,Vi=u,ve=c}vc(t)}else i.subtreeFlags&8772&&l!==null?(l.return=i,T=l):vc(t)}}function vc(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ve||ql(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ve)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ge(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&tc(e,l,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tc(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Kr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}ve||e.flags&512&&As(e)}catch(g){b(e,e.return,g)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function yc(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function _c(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ql(4,e)}catch(a){b(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){b(e,i,a)}}var l=e.return;try{As(e)}catch(a){b(e,l,a)}break;case 5:var o=e.return;try{As(e)}catch(a){b(e,o,a)}}}catch(a){b(e,e.return,a)}if(e===t){T=null;break}var u=e.sibling;if(u!==null){u.return=e.return,T=u;break}T=e.return}}var Lm=Math.ceil,Cl=xt.ReactCurrentDispatcher,Ru=xt.ReactCurrentOwner,$e=xt.ReactCurrentBatchConfig,U=0,ae=null,ne=null,he=0,Oe=0,Mn=Gt(0),le=0,oi=null,cn=0,Kl=0,Uu=0,Br=null,Te=null,Du=0,Xn=1/0,dt=null,Ll=!1,Ms=null,Dt=null,$i=!1,Nt=null,Il=0,jr=0,zs=null,rl=-1,il=0;function Se(){return U&6?te():rl!==-1?rl:rl=te()}function Ft(t){return t.mode&1?U&2&&he!==0?he&-he:fm.transition!==null?(il===0&&(il=If()),il):(t=$,t!==0||(t=window.event,t=t===void 0?16:Uf(t.type)),t):1}function Ze(t,e,n,r){if(50<jr)throw jr=0,zs=null,Error(S(185));di(t,n,r),(!(U&2)||t!==ae)&&(t===ae&&(!(U&2)&&(Kl|=n),le===4&&Lt(t,he)),Ie(t,r),n===1&&U===0&&!(e.mode&1)&&(Xn=te()+500,Ql&&Yt()))}function Ie(t,e){var n=t.callbackNode;fg(t,e);var r=dl(t,t===ae?he:0);if(r===0)n!==null&&La(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&La(n),e===1)t.tag===0?cm(wc.bind(null,t)):td(wc.bind(null,t)),om(function(){!(U&6)&&Yt()}),n=null;else{switch(Af(r)){case 1:n=au;break;case 4:n=Cf;break;case 16:n=fl;break;case 536870912:n=Lf;break;default:n=fl}n=bd(n,Gd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gd(t,e){if(rl=-1,il=0,U&6)throw Error(S(327));var n=t.callbackNode;if(Vn()&&t.callbackNode!==n)return null;var r=dl(t,t===ae?he:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Al(t,r);else{e=r;var i=U;U|=2;var l=qd();(ae!==t||he!==e)&&(dt=null,Xn=te()+500,rn(t,e));do try{Nm();break}catch(u){Yd(t,u)}while(!0);xu(),Cl.current=l,U=i,ne!==null?e=0:(ae=null,he=0,e=le)}if(e!==0){if(e===2&&(i=ss(t),i!==0&&(r=i,e=Rs(t,i))),e===1)throw n=oi,rn(t,0),Lt(t,r),Ie(t,te()),n;if(e===6)Lt(t,r);else{if(i=t.current.alternate,!(r&30)&&!Im(i)&&(e=Al(t,r),e===2&&(l=ss(t),l!==0&&(r=l,e=Rs(t,l))),e===1))throw n=oi,rn(t,0),Lt(t,r),Ie(t,te()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:bt(t,Te,dt);break;case 3:if(Lt(t,r),(r&130023424)===r&&(e=Du+500-te(),10<e)){if(dl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Se(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gs(bt.bind(null,t,Te,dt),e);break}bt(t,Te,dt);break;case 4:if(Lt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xe(r);l=1<<o,o=e[o],o>i&&(i=o),r&=~l}if(r=i,r=te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lm(r/1960))-r,10<r){t.timeoutHandle=gs(bt.bind(null,t,Te,dt),r);break}bt(t,Te,dt);break;case 5:bt(t,Te,dt);break;default:throw Error(S(329))}}}return Ie(t,te()),t.callbackNode===n?Gd.bind(null,t):null}function Rs(t,e){var n=Br;return t.current.memoizedState.isDehydrated&&(rn(t,e).flags|=256),t=Al(t,e),t!==2&&(e=Te,Te=n,e!==null&&Us(e)),t}function Us(t){Te===null?Te=t:Te.push.apply(Te,t)}function Im(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!Je(l(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lt(t,e){for(e&=~Uu,e&=~Kl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xe(e),r=1<<n;t[n]=-1,e&=~r}}function wc(t){if(U&6)throw Error(S(327));Vn();var e=dl(t,0);if(!(e&1))return Ie(t,te()),null;var n=Al(t,e);if(t.tag!==0&&n===2){var r=ss(t);r!==0&&(e=r,n=Rs(t,r))}if(n===1)throw n=oi,rn(t,0),Lt(t,e),Ie(t,te()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bt(t,Te,dt),Ie(t,te()),null}function Fu(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(Xn=te()+500,Ql&&Yt())}}function fn(t){Nt!==null&&Nt.tag===0&&!(U&6)&&Vn();var e=U;U|=1;var n=$e.transition,r=$;try{if($e.transition=null,$=1,t)return t()}finally{$=r,$e.transition=n,U=e,!(U&6)&&Yt()}}function Bu(){Oe=Mn.current,q(Mn)}function rn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lm(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(_u(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vl();break;case 3:qn(),q(Ce),q(ye),Lu();break;case 5:Cu(r);break;case 4:qn();break;case 13:q(X);break;case 19:q(X);break;case 10:Eu(r.type._context);break;case 22:case 23:Bu()}n=n.return}if(ae=t,ne=t=Bt(t.current,null),he=Oe=e,le=0,oi=null,Uu=Kl=cn=0,Te=Br=null,tn!==null){for(e=0;e<tn.length;e++)if(n=tn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}tn=null}return t}function Yd(t,e){do{var n=ne;try{if(xu(),el.current=kl,Tl){for(var r=Z.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tl=!1}if(an=0,ue=ie=Z=null,Dr=!1,ri=0,Ru.current=null,n===null||n.return===null){le=1,oi=e,ne=null;break}e:{var l=t,o=n.return,u=n,a=e;if(e=he,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=sc(o);if(v!==null){v.flags&=-257,uc(v,o,u,l,e),v.mode&1&&oc(l,c,e),e=v,a=c;var w=e.updateQueue;if(w===null){var _=new Set;_.add(a),e.updateQueue=_}else w.add(a);break e}else{if(!(e&1)){oc(l,c,e),ju();break e}a=Error(S(426))}}else if(K&&u.mode&1){var I=sc(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),uc(I,o,u,l,e),wu(Kn(a,u));break e}}l=a=Kn(a,u),le!==4&&(le=2),Br===null?Br=[l]:Br.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var p=Ad(l,a,e);ec(l,p);break e;case 1:u=a;var d=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Dt===null||!Dt.has(h)))){l.flags|=65536,e&=-e,l.lanes|=e;var y=Nd(l,u,e);ec(l,y);break e}}l=l.return}while(l!==null)}Xd(n)}catch(x){e=x,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(!0)}function qd(){var t=Cl.current;return Cl.current=kl,t===null?kl:t}function ju(){(le===0||le===3||le===2)&&(le=4),ae===null||!(cn&268435455)&&!(Kl&268435455)||Lt(ae,he)}function Al(t,e){var n=U;U|=2;var r=qd();(ae!==t||he!==e)&&(dt=null,rn(t,e));do try{Am();break}catch(i){Yd(t,i)}while(!0);if(xu(),U=n,Cl.current=r,ne!==null)throw Error(S(261));return ae=null,he=0,le}function Am(){for(;ne!==null;)Kd(ne)}function Nm(){for(;ne!==null&&!ng();)Kd(ne)}function Kd(t){var e=Jd(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Xd(t):ne=e,Ru.current=null}function Xd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Pm(n,e),n!==null){n.flags&=32767,ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,ne=null;return}}else if(n=Em(n,e,Oe),n!==null){ne=n;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);le===0&&(le=5)}function bt(t,e,n){var r=$,i=$e.transition;try{$e.transition=null,$=1,Om(t,e,n,r)}finally{$e.transition=i,$=r}return null}function Om(t,e,n,r){do Vn();while(Nt!==null);if(U&6)throw Error(S(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(dg(t,l),t===ae&&(ne=ae=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,bd(fl,function(){return Vn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=$e.transition,$e.transition=null;var o=$;$=1;var u=U;U|=4,Ru.current=null,km(t,n),Wd(n,t),Jg(hs),hl=!!ds,hs=ds=null,t.current=n,Cm(n),rg(),U=u,$=o,$e.transition=l}else t.current=n;if($i&&($i=!1,Nt=t,Il=i),l=t.pendingLanes,l===0&&(Dt=null),og(n.stateNode),Ie(t,te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ll)throw Ll=!1,t=Ms,Ms=null,t;return Il&1&&t.tag!==0&&Vn(),l=t.pendingLanes,l&1?t===zs?jr++:(jr=0,zs=t):jr=0,Yt(),null}function Vn(){if(Nt!==null){var t=Af(Il),e=$e.transition,n=$;try{if($e.transition=null,$=16>t?16:t,Nt===null)var r=!1;else{if(t=Nt,Nt=null,Il=0,U&6)throw Error(S(331));var i=U;for(U|=4,T=t.current;T!==null;){var l=T,o=l.child;if(T.flags&16){var u=l.deletions;if(u!==null){for(var a=0;a<u.length;a++){var c=u[a];for(T=c;T!==null;){var f=T;switch(f.tag){case 0:case 11:case 15:Fr(8,f,l)}var m=f.child;if(m!==null)m.return=f,T=m;else for(;T!==null;){f=T;var g=f.sibling,v=f.return;if(Vd(f),f===c){T=null;break}if(g!==null){g.return=v,T=g;break}T=v}}}var w=l.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}T=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,T=o;else e:for(;T!==null;){if(l=T,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Fr(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,T=p;break e}T=l.return}}var d=t.current;for(T=d;T!==null;){o=T;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,T=h;else e:for(o=d;T!==null;){if(u=T,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ql(9,u)}}catch(x){b(u,u.return,x)}if(u===o){T=null;break e}var y=u.sibling;if(y!==null){y.return=u.return,T=y;break e}T=u.return}}if(U=i,Yt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(jl,t)}catch{}r=!0}return r}finally{$=n,$e.transition=e}}return!1}function Sc(t,e,n){e=Kn(n,e),e=Ad(t,e,1),t=Ut(t,e,1),e=Se(),t!==null&&(di(t,1,e),Ie(t,e))}function b(t,e,n){if(t.tag===3)Sc(t,t,n);else for(;e!==null;){if(e.tag===3){Sc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dt===null||!Dt.has(r))){t=Kn(n,t),t=Nd(e,t,1),e=Ut(e,t,1),t=Se(),e!==null&&(di(e,1,t),Ie(e,t));break}}e=e.return}}function Mm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&n,ae===t&&(he&n)===n&&(le===4||le===3&&(he&130023424)===he&&500>te()-Du?rn(t,0):Uu|=n),Ie(t,e)}function Zd(t,e){e===0&&(t.mode&1?(e=Oi,Oi<<=1,!(Oi&130023424)&&(Oi=4194304)):e=1);var n=Se();t=wt(t,e),t!==null&&(di(t,e,n),Ie(t,n))}function zm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zd(t,n)}function Rm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Zd(t,n)}var Jd;Jd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ce.current)ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ke=!1,xm(t,e,n);ke=!!(t.flags&131072)}else ke=!1,K&&e.flags&1048576&&nd(e,wl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nl(t,e),t=e.pendingProps;var i=Qn(e,ye.current);jn(e,n),i=Au(null,e,r,t,i,n);var l=Nu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(r)?(l=!0,yl(e)):l=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tu(e),i.updater=Yl,e.stateNode=i,i._reactInternals=e,xs(e,r,t,n),e=Ts(null,e,r,!0,l,n)):(e.tag=0,K&&l&&yu(e),we(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Dm(r),t=Ge(r,t),i){case 0:e=Ps(null,e,r,t,n);break e;case 1:e=fc(null,e,r,t,n);break e;case 11:e=ac(null,e,r,t,n);break e;case 14:e=cc(null,e,r,Ge(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ge(r,i),Ps(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ge(r,i),fc(t,e,r,i,n);case 3:e:{if(Rd(e),t===null)throw Error(S(387));r=e.pendingProps,l=e.memoizedState,i=l.element,ud(t,e),El(e,r,null,n);var o=e.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){i=Kn(Error(S(423)),e),e=dc(t,e,r,n,i);break e}else if(r!==i){i=Kn(Error(S(424)),e),e=dc(t,e,r,n,i);break e}else for(Me=Rt(e.stateNode.containerInfo.firstChild),ze=e,K=!0,qe=null,n=od(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gn(),r===i){e=St(t,e,n);break e}we(t,e,r,n)}e=e.child}return e;case 5:return ad(e),t===null&&_s(e),r=e.type,i=e.pendingProps,l=t!==null?t.memoizedProps:null,o=i.children,ps(r,i)?o=null:l!==null&&ps(r,l)&&(e.flags|=32),zd(t,e),we(t,e,o,n),e.child;case 6:return t===null&&_s(e),null;case 13:return Ud(t,e,n);case 4:return ku(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yn(e,null,r,n):we(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ge(r,i),ac(t,e,r,i,n);case 7:return we(t,e,e.pendingProps,n),e.child;case 8:return we(t,e,e.pendingProps.children,n),e.child;case 12:return we(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,l=e.memoizedProps,o=i.value,Q(Sl,r._currentValue),r._currentValue=o,l!==null)if(Je(l.value,o)){if(l.children===i.children&&!Ce.current){e=St(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){o=l.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=vt(-1,n&-n),a.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),ws(l.return,n,e),u.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===e.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(S(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),ws(o,n,e),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}we(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,jn(e,n),i=He(i),r=r(i),e.flags|=1,we(t,e,r,n),e.child;case 14:return r=e.type,i=Ge(r,e.pendingProps),i=Ge(r.type,i),cc(t,e,r,i,n);case 15:return Od(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ge(r,i),nl(t,e),e.tag=1,Le(r)?(t=!0,yl(e)):t=!1,jn(e,n),Id(e,r,i),xs(e,r,i,n),Ts(null,e,r,!0,t,n);case 19:return Dd(t,e,n);case 22:return Md(t,e,n)}throw Error(S(156,e.tag))};function bd(t,e){return kf(t,e)}function Um(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(t,e,n,r){return new Um(t,e,n,r)}function Vu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dm(t){if(typeof t=="function")return Vu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ou)return 11;if(t===su)return 14}return 2}function Bt(t,e){var n=t.alternate;return n===null?(n=Ve(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ll(t,e,n,r,i,l){var o=2;if(r=t,typeof t=="function")Vu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case En:return ln(n.children,i,l,e);case lu:o=8,i|=8;break;case Go:return t=Ve(12,n,e,i|2),t.elementType=Go,t.lanes=l,t;case Yo:return t=Ve(13,n,e,i),t.elementType=Yo,t.lanes=l,t;case qo:return t=Ve(19,n,e,i),t.elementType=qo,t.lanes=l,t;case af:return Xl(n,i,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sf:o=10;break e;case uf:o=9;break e;case ou:o=11;break e;case su:o=14;break e;case Pt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Ve(o,n,e,i),e.elementType=t,e.type=r,e.lanes=l,e}function ln(t,e,n,r){return t=Ve(7,t,r,e),t.lanes=n,t}function Xl(t,e,n,r){return t=Ve(22,t,r,e),t.elementType=af,t.lanes=n,t.stateNode={isHidden:!1},t}function Fo(t,e,n){return t=Ve(6,t,null,e),t.lanes=n,t}function Bo(t,e,n){return e=Ve(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fm(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $u(t,e,n,r,i,l,o,u,a){return t=new Fm(t,e,n,u,a),e===1?(e=1,l===!0&&(e|=8)):e=0,l=Ve(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(l),t}function Bm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eh(t){if(!t)return $t;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Le(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(Le(n))return ed(t,n,e)}return e}function th(t,e,n,r,i,l,o,u,a){return t=$u(n,r,!0,t,i,l,o,u,a),t.context=eh(null),n=t.current,r=Se(),i=Ft(n),l=vt(r,i),l.callback=e??null,Ut(n,l,i),t.current.lanes=i,di(t,i,r),Ie(t,r),t}function Zl(t,e,n,r){var i=e.current,l=Se(),o=Ft(i);return n=eh(n),e.context===null?e.context=n:e.pendingContext=n,e=vt(l,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ut(i,e,o),t!==null&&(Ze(t,i,o,l),bi(t,i,o)),o}function Nl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hu(t,e){xc(t,e),(t=t.alternate)&&xc(t,e)}function jm(){return null}var nh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wu(t){this._internalRoot=t}Jl.prototype.render=Wu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));Zl(t,e,null,null)};Jl.prototype.unmount=Wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fn(function(){Zl(null,t,null,null)}),e[_t]=null}};function Jl(t){this._internalRoot=t}Jl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ct.length&&e!==0&&e<Ct[n].priority;n++);Ct.splice(n,0,t),n===0&&Rf(t)}};function Qu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ec(){}function Vm(t,e,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var c=Nl(o);l.call(c)}}var o=th(e,r,t,0,null,!1,!1,"",Ec);return t._reactRootContainer=o,t[_t]=o.current,Jr(t.nodeType===8?t.parentNode:t),fn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var c=Nl(a);u.call(c)}}var a=$u(t,0,!1,null,null,!1,!1,"",Ec);return t._reactRootContainer=a,t[_t]=a.current,Jr(t.nodeType===8?t.parentNode:t),fn(function(){Zl(e,a,n,r)}),a}function eo(t,e,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var u=i;i=function(){var a=Nl(o);u.call(a)}}Zl(e,o,t,i)}else o=Vm(n,e,t,i,r);return Nl(o)}Nf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Lr(e.pendingLanes);n!==0&&(cu(e,n|1),Ie(e,te()),!(U&6)&&(Xn=te()+500,Yt()))}break;case 13:fn(function(){var r=wt(t,1);if(r!==null){var i=Se();Ze(r,t,1,i)}}),Hu(t,1)}};fu=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=Se();Ze(e,t,134217728,n)}Hu(t,134217728)}};Of=function(t){if(t.tag===13){var e=Ft(t),n=wt(t,e);if(n!==null){var r=Se();Ze(n,t,e,r)}Hu(t,e)}};Mf=function(){return $};zf=function(t,e){var n=$;try{return $=t,e()}finally{$=n}};is=function(t,e,n){switch(e){case"input":if(Zo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wl(r);if(!i)throw Error(S(90));ff(r),Zo(r,i)}}}break;case"textarea":hf(t,n);break;case"select":e=n.value,e!=null&&Un(t,!!n.multiple,e,!1)}};wf=Fu;Sf=fn;var $m={usingClientEntryPoint:!1,Events:[pi,Cn,Wl,yf,_f,Fu]},Pr={findFiberByHostInstance:en,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hm={bundleType:Pr.bundleType,version:Pr.version,rendererPackageName:Pr.rendererPackageName,rendererConfig:Pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pf(t),t===null?null:t.stateNode},findFiberByHostInstance:Pr.findFiberByHostInstance||jm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hi.isDisabled&&Hi.supportsFiber)try{jl=Hi.inject(Hm),ut=Hi}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$m;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(e))throw Error(S(200));return Bm(t,e,null,n)};Ue.createRoot=function(t,e){if(!Qu(t))throw Error(S(299));var n=!1,r="",i=nh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$u(t,1,!1,null,null,n,!1,r,i),t[_t]=e.current,Jr(t.nodeType===8?t.parentNode:t),new Wu(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=Pf(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return fn(t)};Ue.hydrate=function(t,e,n){if(!bl(e))throw Error(S(200));return eo(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!Qu(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=nh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=th(e,null,t,1,n??null,i,!1,l,o),t[_t]=e.current,Jr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jl(e)};Ue.render=function(t,e,n){if(!bl(e))throw Error(S(200));return eo(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!bl(t))throw Error(S(40));return t._reactRootContainer?(fn(function(){eo(null,null,t,!1,function(){t._reactRootContainer=null,t[_t]=null})}),!0):!1};Ue.unstable_batchedUpdates=Fu;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bl(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return eo(t,e,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function rh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rh)}catch(t){console.error(t)}}rh(),nf.exports=Ue;var Wm=nf.exports,Pc=Wm;Wo.createRoot=Pc.createRoot,Wo.hydrateRoot=Pc.hydrateRoot;const Qm=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M2 2l11 11M1.5 2.5a1 1 0 110-2 1 1 0 010 2zm12 12a1 1 0 110-2 1 1 0 010 2z",stroke:"currentColor"})),Gm=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M13.5.5h-12a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1v-12a1 1 0 00-1-1z",stroke:"currentColor"})),Ym=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M.5 7.5a7 7 0 1014 0 7 7 0 00-14 0z",stroke:"currentColor"})),qm=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M.5.5l6 14 2-6 6-2-14-6z",stroke:"currentColor",strokeLinejoin:"round"})),Km=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M13.5 3.5h.5v-.207l-.146-.147-.354.354zm-3-3l.354-.354L10.707 0H10.5v.5zm-7 4V4H3v.5h.5zm2 0H6V4h-.5v.5zm0 2V7H6v-.5h-.5zm-2 0H3V7h.5v-.5zm8-2h.5V4h-.5v.5zm0 2V7h.5v-.5h-.5zm-2 0H9V7h.5v-.5zm0-2V4H9v.5h.5zm-6 6V10H3v.5h.5zm2 0H6V10h-.5v.5zm0 2v.5H6v-.5h-.5zm-2 0H3v.5h.5v-.5zm6-2V10H9v.5h.5zm0 2H9v.5h.5v-.5zm2 0v.5h.5v-.5h-.5zm0-2h.5V10h-.5v.5zm1 3.5h-10v1h10v-1zM2 13.5v-12H1v12h1zm11-10v10h1v-10h-1zM2.5 1h8V0h-8v1zm7.646-.146l3 3 .708-.708-3-3-.708.708zM2.5 14a.5.5 0 01-.5-.5H1A1.5 1.5 0 002.5 15v-1zm10 1a1.5 1.5 0 001.5-1.5h-1a.5.5 0 01-.5.5v1zM2 1.5a.5.5 0 01.5-.5V0A1.5 1.5 0 001 1.5h1zM3.5 5h2V4h-2v1zM5 4.5v2h1v-2H5zM5.5 6h-2v1h2V6zM4 6.5v-2H3v2h1zm7-2v2h1v-2h-1zm.5 1.5h-2v1h2V6zm-1.5.5v-2H9v2h1zM9.5 5h2V4h-2v1zm-6 6h2v-1h-2v1zm1.5-.5v2h1v-2H5zm.5 1.5h-2v1h2v-1zm-1.5.5v-2H3v2h1zm5-2v2h1v-2H9zm.5 2.5h2v-1h-2v1zm2.5-.5v-2h-1v2h1zm-.5-2.5h-2v1h2v-1zm-6-4h4V5h-4v1zM4 6.5v4h1v-4H4zm6 0v4h1v-4h-1zM5.5 12h4v-1h-4v1z",fill:"currentColor"})),Xm=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M4.5 4.5v-3a1 1 0 011-1h8a1 1 0 011 1v8a1 1 0 01-1 1h-3m-6-6h-3a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1v-3m-6-6V7m0-2.5H7m3.5 6H8m2.5 0V8M8 4.5h2.5V7m-6 1v2.5H7",stroke:"currentColor"})),Zm=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M13.5 3.5h.5v-.207l-.146-.147-.354.354zm-3-3l.354-.354L10.707 0H10.5v.5zm-8 6V6H2v.5h.5zm0 2H2V9h.5v-.5zm2 0H5V8h-.5v.5zm0 2v.5H5v-.5h-.5zm2-1H6v.207l.146.147L6.5 9.5zm1 1l-.354.354.354.353.354-.353L7.5 10.5zm1-1l.354.354L9 9.707V9.5h-.5zm2-3V6H10v.5h.5zm0 4H10v.5h.5v-.5zm2 0v.5h.5v-.5h-.5zM2 5V1.5H1V5h1zm11-1.5V5h1V3.5h-1zM2.5 1h8V0h-8v1zm7.646-.146l3 3 .708-.708-3-3-.708.708zM2 1.5a.5.5 0 01.5-.5V0A1.5 1.5 0 001 1.5h1zM1 12v1.5h1V12H1zm1.5 3h10v-1h-10v1zM14 13.5V12h-1v1.5h1zM12.5 15a1.5 1.5 0 001.5-1.5h-1a.5.5 0 01-.5.5v1zM1 13.5A1.5 1.5 0 002.5 15v-1a.5.5 0 01-.5-.5H1zM5 6H2.5v1H5V6zm-3 .5v2h1v-2H2zM2.5 9h2V8h-2v1zM4 8.5v2h1v-2H4zm.5 1.5H2v1h2.5v-1zM6 6v3.5h1V6H6zm.146 3.854l1 1 .708-.708-1-1-.708.708zm1.708 1l1-1-.708-.708-1 1 .708.708zM9 9.5V6H8v3.5h1zM13 6h-2.5v1H13V6zm-3 .5v4h1v-4h-1zm.5 4.5h2v-1h-2v1zm2.5-.5v-2h-1v2h1z",fill:"currentColor"})),Jm=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M7.5 12L0 4h15l-7.5 8z",fill:"currentColor"})),bm=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M7.5 3l7.5 8H0l7.5-8z",fill:"currentColor"})),e0=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M7.5 4.793L3.293 9h8.414L7.5 4.793z",fill:"currentColor"})),t0=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M7.5 10.207L11.707 6H3.293L7.5 10.207z",fill:"currentColor"})),n0=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M6.5 2.499l-.354-.354-.353.354.353.353L6.5 2.5zm1-.5H7v1h.5v-1zM2 8.495v-.5H1v.5h1zM8.145.146l-1.999 2 .708.706L8.853.854 8.145.146zM6.146 2.852l2 1.999.707-.707-2-1.999-.707.707zM7.5 3C10.537 3 13 5.461 13 8.496h1A6.499 6.499 0 007.5 2v1zM13 8.495a5.499 5.499 0 01-5.5 5.496v1c3.589 0 6.5-2.909 6.5-6.496h-1zM7.5 13.99A5.499 5.499 0 012 8.495H1a6.499 6.499 0 006.5 6.496v-1z",fill:"currentColor"})),r0=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M14 8.495v-.5h-1v.5h1zM7.5 2.999H8v-1h-.5v1zm1-.5l.353.353.354-.353-.354-.354-.353.354zM13 8.495a5.499 5.499 0 01-5.5 5.496v1c3.589 0 6.5-2.909 6.5-6.496h-1zM7.5 13.99A5.499 5.499 0 012 8.495H1a6.499 6.499 0 006.5 6.496v-1zM2 8.495a5.499 5.499 0 015.5-5.496v-1A6.499 6.499 0 001 8.495h1zM6.147.854l2 1.998.706-.707-2-1.999-.706.708zm2 1.291l-2 1.999.706.707 2-1.999-.706-.707z",fill:"currentColor"})),i0=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M5.65 12.477a.5.5 0 10-.3-.954l.3.954zm-3.648-2.96l-.484-.128-.254.968.484.127.254-.968zM9 14.5v.5h1v-.5H9zm.063-4.813l-.054-.497a.5.5 0 00-.299.852l.352-.354zM12.5 5.913h.5V5.91l-.5.002zm-.833-2.007l-.466-.18a.5.5 0 00.112.533l.354-.353zm-.05-2.017l.456-.204a.5.5 0 00-.319-.276l-.137.48zm-2.173.792l-.126.484a.5.5 0 00.398-.064l-.272-.42zm-3.888 0l-.272.42a.5.5 0 00.398.064l-.126-.484zM3.383 1.89l-.137-.48a.5.5 0 00-.32.276l.457.204zm-.05 2.017l.354.353a.5.5 0 00.112-.534l-.466.181zM2.5 5.93H3v-.002l-.5.002zm3.438 3.758l.352.355a.5.5 0 00-.293-.851l-.06.496zM5.5 11H6l-.001-.037L5.5 11zM5 14.5v.5h1v-.5H5zm.35-2.977c-.603.19-.986.169-1.24.085-.251-.083-.444-.25-.629-.49a4.8 4.8 0 01-.27-.402c-.085-.139-.182-.302-.28-.447-.191-.281-.473-.633-.929-.753l-.254.968c.08.02.184.095.355.346.082.122.16.252.258.412.094.152.202.32.327.484.253.33.598.663 1.11.832.51.168 1.116.15 1.852-.081l-.3-.954zm4.65-.585c0-.318-.014-.608-.104-.878-.096-.288-.262-.51-.481-.727l-.705.71c.155.153.208.245.237.333.035.105.053.254.053.562h1zm-.884-.753c.903-.097 1.888-.325 2.647-.982.78-.675 1.237-1.729 1.237-3.29h-1c0 1.359-.39 2.1-.892 2.534-.524.454-1.258.653-2.099.743l.107.995zM13 5.91a3.354 3.354 0 00-.98-2.358l-.707.706c.438.44.685 1.034.687 1.655l1-.003zm-.867-1.824c.15-.384.22-.794.21-1.207l-1 .025a2.12 2.12 0 01-.142.82l.932.362zm.21-1.207a3.119 3.119 0 00-.27-1.195l-.913.408c.115.256.177.532.184.812l1-.025zm-.726-.99c.137-.481.137-.482.136-.482h-.003l-.004-.002a.462.462 0 00-.03-.007 1.261 1.261 0 00-.212-.024 2.172 2.172 0 00-.51.054c-.425.091-1.024.317-1.82.832l.542.84c.719-.464 1.206-.634 1.488-.694a1.2 1.2 0 01.306-.03l-.008-.001a.278.278 0 01-.01-.002l-.006-.002h-.003l-.002-.001c-.001 0-.002 0 .136-.482zm-2.047.307a8.209 8.209 0 00-4.14 0l.252.968a7.209 7.209 0 013.636 0l.252-.968zm-3.743.064c-.797-.514-1.397-.74-1.822-.83a2.17 2.17 0 00-.51-.053 1.259 1.259 0 00-.241.03l-.004.002h-.003l.136.481.137.481h-.001l-.002.001-.003.001a.327.327 0 01-.016.004l-.008.001h.008a1.19 1.19 0 01.298.03c.282.06.769.23 1.488.694l.543-.84zm-2.9-.576a3.12 3.12 0 00-.27 1.195l1 .025a2.09 2.09 0 01.183-.812l-.913-.408zm-.27 1.195c-.01.413.06.823.21 1.207l.932-.362a2.12 2.12 0 01-.143-.82l-1-.025zm.322.673a3.354 3.354 0 00-.726 1.091l.924.38c.118-.285.292-.545.51-.765l-.708-.706zm-.726 1.091A3.354 3.354 0 002 5.93l1-.003c0-.31.06-.616.177-.902l-.924-.38zM2 5.93c0 1.553.458 2.597 1.239 3.268.757.65 1.74.88 2.64.987l.118-.993C5.15 9.09 4.416 8.89 3.89 8.438 3.388 8.007 3 7.276 3 5.928H2zm3.585 3.404c-.5.498-.629 1.09-.584 1.704L6 10.963c-.03-.408.052-.683.291-.921l-.705-.709zM5 11v3.5h1V11H5zm5 3.5V13H9v1.5h1zm0-1.5v-2.063H9V13h1z",fill:"currentColor"})),l0=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M3.5 3.5h8v8m-8-8V0m0 3.5H0m11.5 8h-8V6m8 5.5V15m0-3.5H15",stroke:"currentColor"}));var nt=(t=>(t.Line="Line",t.Square="Square",t.Circle="Circle",t.Direction="Direction",t.VectorDocument="VectorDocument",t.LayersDifference="LayersDifference",t.AntiClockwise="AntiClockwise",t.Clockwise="Clockwise",t.Github="Github",t.Crop="Crop",t.Svg="Svg",t.SolidDown="SolidDown",t.SolidUp="SolidUp",t.SolidUpSmall="SolidUpSmall",t.SolidDownSmall="SolidDownSmall",t))(nt||{});const o0={Line:Qm,Square:Gm,Circle:Ym,Direction:qm,VectorDocument:Km,LayersDifference:Xm,AntiClockwise:n0,Clockwise:r0,Github:i0,Crop:l0,Svg:Zm,SolidDown:Jm,SolidUp:bm,SolidUpSmall:e0,SolidDownSmall:t0},ih=({name:t,className:e})=>{const n=o0[t];return B.jsx("div",{className:"icon w-5"+(e?" "+e:""),children:B.jsx(n,{})})};var W=(t=>(t.Pencil="Pencil",t.Eraser="Eraser",t.Fill="Fill",t.Line="Line",t.Rectangle="Rectangle",t.Circle="Circle",t.Select="Select",t.Pan="Pan",t.Zoom="Zoom",t.Text="Text",t))(W||{});const _e=({label:t,title:e,icon:n,onClick:r,active:i=!1,className:l})=>B.jsx(B.Fragment,{children:B.jsxs("button",{className:"bg-gray-950 text-blue-700 font-semibold py-2 px-2 border border-blue-500 rounded w-10 h-10 flex flex-row justify-center items-center hover:bg-blue-500 hover:text-white hover:border-transparent  data-[active=true]:bg-blue-500 data-[active=true]:text-white data-[active=true]:border-transparent"+(l?" "+l:""),"data-active":i,onClick:r,title:e,children:[n&&B.jsx(ih,{name:n}),t&&B.jsx("span",{children:t})]})}),s0=({label:t,title:e,icon:n,className:r,children:i})=>{const[l,o]=O.useState(!1);return B.jsxs("div",{className:"flex flex-row gap-2 relative"+(r?" "+r:""),children:[B.jsx(_e,{icon:n,label:t,title:e,"data-active":l,onClick:()=>o(!l)}),B.jsx(ih,{name:nt.SolidDownSmall,className:"-rotate-45 absolute -bottom-1 left-6 text-blue-700"}),l&&B.jsx("div",{className:"flex flex-row gap-1",onClick:()=>o(!1),children:i})]})},lh=!0,u0=!1,ol={CCW:-1,CW:1,NOT_ORIENTABLE:0},a0=2*Math.PI,Ol=1,oh=0,rt=2,c0=3,f0=4,d0=1,h0=2,Gu=0,Vr=1,$n=2;var Ml=Object.freeze({__proto__:null,BOUNDARY:rt,CCW:lh,CONTAINS:c0,CW:u0,END_VERTEX:$n,INSIDE:Ol,INTERLACE:f0,NOT_VERTEX:Gu,ORIENTATION:ol,OUTSIDE:oh,OVERLAP_OPPOSITE:h0,OVERLAP_SAME:d0,PIx2:a0,START_VERTEX:Vr});let ct=1e-6;function sh(t){ct=t}function uh(){return ct}const p0=3;function Ds(t){return t<ct&&t>-ct}function dn(t,e){return t-e<ct&&t-e>-ct}function ah(t,e){return t-e>ct}function g0(t,e){return t-e>-ct}function ch(t,e){return t-e<-ct}function m0(t,e){return t-e<ct}var v0=Object.freeze({__proto__:null,DECIMALS:p0,EQ:dn,EQ_0:Ds,GE:g0,GT:ah,LE:m0,LT:ch,getTolerance:uh,setTolerance:sh});let s={Utils:v0,Errors:void 0,Matrix:void 0,Planar_set:void 0,Point:void 0,Vector:void 0,Line:void 0,Circle:void 0,Segment:void 0,Arc:void 0,Box:void 0,Edge:void 0,Face:void 0,Ray:void 0,Ray_shooting:void 0,Multiline:void 0,Polygon:void 0,Distance:void 0,Inversion:void 0};for(let t in Ml)s[t]=Ml[t];Object.defineProperty(s,"DP_TOL",{get:function(){return uh()},set:function(t){sh(t)}});class Y{static get ILLEGAL_PARAMETERS(){return new ReferenceError("Illegal Parameters")}static get ZERO_DIVISION(){return new Error("Zero division")}static get UNRESOLVED_BOUNDARY_CONFLICT(){return new Error("Unresolved boundary conflict in boolean operation")}static get INFINITE_LOOP(){return new Error("Infinite loop")}static get CANNOT_COMPLETE_BOOLEAN_OPERATION(){return new Error("Cannot complete boolean operation")}static get CANNOT_INVOKE_ABSTRACT_METHOD(){return new Error("Abstract method cannot be invoked")}static get OPERATION_IS_NOT_SUPPORTED(){return new Error("Operation is not supported")}static get UNSUPPORTED_SHAPE_TYPE(){return new Error("Unsupported shape type")}}s.Errors=Y;class Yu{constructor(e,n){this.first=e,this.last=n||this.first}[Symbol.iterator](){let e;return{next:()=>(e=e?e.next:this.first,{value:e,done:e===void 0})}}get size(){let e=0;for(let n of this)e++;return e}toArray(e=void 0,n=void 0){let r=[],i=e||this.first,l=n||this.last,o=i;if(o===void 0)return r;do r.push(o),o=o.next;while(o!==l.next);return r}append(e){return this.isEmpty()?this.first=e:(e.prev=this.last,this.last.next=e),this.last=e,this.last.next=void 0,this.first.prev=void 0,this}insert(e,n){if(this.isEmpty())this.first=e,this.last=e;else if(n==null)e.next=this.first,this.first.prev=e,this.first=e;else{let r=n.next;n.next=e,r&&(r.prev=e),e.prev=n,e.next=r,this.last===n&&(this.last=e)}return this.last.next=void 0,this.first.prev=void 0,this}remove(e){return e===this.first&&e===this.last?(this.first=void 0,this.last=void 0):(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this.first&&(this.first=e.next),e===this.last&&(this.last=e.prev)),this}isEmpty(){return this.first===void 0}static testInfiniteLoop(e){let n=e,r=e;do{if(n!=e&&n===r)throw Y.INFINITE_LOOP;n=n.next,r=r.next.next}while(n!=e)}}const Tc={stroke:"black"};class y0{constructor(e=Tc){for(const n in e)this[n]=e[n];this.stroke=e.stroke??Tc.stroke}toAttributesString(){return Object.keys(this).reduce((e,n)=>e+(this[n]!==void 0?this.toAttrString(n,this[n]):""),"")}toAttrString(e,n){const r=e==="className"?"class":this.convertCamelToKebabCase(e);return n===null?`${r} `:`${r}="${n.toString()}" `}convertCamelToKebabCase(e){return e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).join("-").toLowerCase()}}function vn(t){return new y0(t).toAttributesString()}function or(t,e){let n=[],[r,i,l]=t.standard,[o,u,a]=e.standard,c=r*u-i*o,f=l*u-i*a,m=r*a-l*o;if(!s.Utils.EQ_0(c)){let g,v;i===0?(g=l/r,v=m/c):u===0?(g=a/o,v=m/c):r===0?(g=f/c,v=l/i):o===0?(g=f/c,v=a/u):(g=f/c,v=m/c),n.push(new s.Point(g,v))}return n}function yn(t,e){let n=[],r=e.pc.projectionOn(t),i=e.pc.distanceTo(r)[0];if(s.Utils.EQ(i,e.r))n.push(r);else if(s.Utils.LT(i,e.r)){let l=Math.sqrt(e.r*e.r-i*i),o,u;o=t.norm.rotate90CCW().multiply(l),u=r.translate(o),n.push(u),o=t.norm.rotate90CW().multiply(l),u=r.translate(o),n.push(u)}return n}function Zn(t,e){let n=[];for(let r of e.toSegments()){let i=mi(r,t);for(let l of i)_h(l,n)||n.push(l)}return n}function to(t,e){let n=[];if(Zn(t,e.box).length===0)return n;let r=new s.Circle(e.pc,e.r),i=yn(t,r);for(let l of i)l.on(e)&&n.push(l);return n}function mi(t,e){let n=[];if(t.ps.on(e)&&n.push(t.ps),t.pe.on(e)&&!t.isZeroLength()&&n.push(t.pe),n.length>0||t.isZeroLength()||t.ps.leftTo(e)&&t.pe.leftTo(e)||!t.ps.leftTo(e)&&!t.pe.leftTo(e))return n;let r=new s.Line(t.ps,t.pe);return or(r,e)}function no(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength())return t.ps.on(e)&&n.push(t.ps),n;if(e.isZeroLength())return e.ps.on(t)&&n.push(e.ps),n;let r=new s.Line(t.ps,t.pe),i=new s.Line(e.ps,e.pe);if(r.incidentTo(i))t.ps.on(e)&&n.push(t.ps),t.pe.on(e)&&n.push(t.pe),e.ps.on(t)&&!e.ps.equalTo(t.ps)&&!e.ps.equalTo(t.pe)&&n.push(e.ps),e.pe.on(t)&&!e.pe.equalTo(t.ps)&&!e.pe.equalTo(t.pe)&&n.push(e.pe);else{let l=or(r,i);l.length>0&&kc(l[0],t)&&kc(l[0],e)&&n.push(l[0])}return n}function kc(t,e){const n=e.box;return s.Utils.LE(t.x,n.xmax)&&s.Utils.GE(t.x,n.xmin)&&s.Utils.LE(t.y,n.ymax)&&s.Utils.GE(t.y,n.ymin)}function ro(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength()){let[l,o]=t.ps.distanceTo(e.pc);return s.Utils.EQ(l,e.r)&&n.push(t.ps),n}let r=new s.Line(t.ps,t.pe),i=yn(r,e);for(let l of i)l.on(t)&&n.push(l);return n}function sr(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength())return t.ps.on(e)&&n.push(t.ps),n;let r=new s.Line(t.ps,t.pe),i=new s.Circle(e.pc,e.r),l=yn(r,i);for(let o of l)o.on(t)&&o.on(e)&&n.push(o);return n}function _0(t,e){let n=[];for(let r of e.toSegments()){let i=no(r,t);for(let l of i)n.push(l)}return n}function fh(t,e){let n=[];if(t.box.not_intersect(e.box))return n;let r=new s.Vector(t.pc,e.pc),i=t.r,l=e.r;if(s.Utils.EQ_0(i)||s.Utils.EQ_0(l))return n;if(s.Utils.EQ_0(r.x)&&s.Utils.EQ_0(r.y)&&s.Utils.EQ(i,l))return n.push(t.pc.translate(-i,0)),n;let o=t.pc.distanceTo(e.pc)[0];if(s.Utils.GT(o,i+l)||s.Utils.LT(o,Math.abs(i-l)))return n;r.x/=o,r.y/=o;let u;if(s.Utils.EQ(o,i+l)||s.Utils.EQ(o,Math.abs(i-l)))return u=t.pc.translate(i*r.x,i*r.y),n.push(u),n;let a=i*i/(2*o)-l*l/(2*o)+o/2,c=t.pc.translate(a*r.x,a*r.y),f=Math.sqrt(i*i-a*a);return u=c.translate(r.rotate90CCW().multiply(f)),n.push(u),u=c.translate(r.rotate90CW().multiply(f)),n.push(u),n}function w0(t,e){let n=[];for(let r of e.toSegments()){let i=ro(r,t);for(let l of i)n.push(l)}return n}function dh(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.pc.equalTo(e.pc)&&s.Utils.EQ(t.r,e.r)){let o;return o=t.start,o.on(e)&&n.push(o),o=t.end,o.on(e)&&n.push(o),o=e.start,o.on(t)&&n.push(o),o=e.end,o.on(t)&&n.push(o),n}let r=new s.Circle(t.pc,t.r),i=new s.Circle(e.pc,e.r),l=r.intersect(i);for(let o of l)o.on(t)&&o.on(e)&&n.push(o);return n}function qu(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(e.pc.equalTo(t.pc)&&s.Utils.EQ(e.r,t.r))return n.push(t.start),n.push(t.end),n;let r=e,i=new s.Circle(t.pc,t.r),l=fh(r,i);for(let o of l)o.on(t)&&n.push(o);return n}function S0(t,e){let n=[];for(let r of e.toSegments()){let i=sr(r,t);for(let l of i)n.push(l)}return n}function hh(t,e){return t.isSegment?no(t.shape,e):sr(e,t.shape)}function ph(t,e){return t.isSegment?sr(t.shape,e):dh(t.shape,e)}function gh(t,e){return t.isSegment?mi(t.shape,e):to(e,t.shape)}function x0(t,e){return t.isSegment?Zu(e,t.shape):Ju(e,t.shape)}function E0(t,e){return t.isSegment?ro(t.shape,e):qu(t.shape,e)}function Ku(t,e){let n=[];for(let r of e.edges)for(let i of hh(r,t))n.push(i);return n}function Xu(t,e){let n=[];for(let r of e.edges)for(let i of ph(r,t))n.push(i);return n}function vi(t,e){let n=[];if(e.isEmpty())return n;for(let r of e.edges)for(let i of gh(r,t))_h(i,n)||n.push(i);return t.sortPoints(n)}function mh(t,e){let n=[];if(e.isEmpty())return n;for(let r of e.edges)for(let i of E0(r,t))n.push(i);return n}function vh(t,e){return t.isSegment?hh(e,t.shape):t.isArc?ph(e,t.shape):t.isLine?gh(e,t.shape):t.isRay?x0(e,t.shape):[]}function yh(t,e){let n=[];if(e.isEmpty()||t.shape.box.not_intersect(e.box))return n;let r=e.edges.search(t.shape.box);for(let i of r)n=[...n,...vh(t,i)];return n}function P0(t,e){let n=[];if(e.isEmpty()||t.size===0)return n;for(let r of t)n=[...n,...yh(r,e)];return n}function T0(t,e){let n=[];if(t.isEmpty()||e.isEmpty()||t.box.not_intersect(e.box))return n;for(let r of t.edges)n=[...n,...yh(r,e)];return n}function k0(t,e){return t instanceof s.Line?vi(t,e):t instanceof s.Segment?Ku(t,e):t instanceof s.Arc?Xu(t,e):[]}function _h(t,e){return e.some(n=>n.equalTo(t))}function Ht(t){return new s.Line(t.start,t.norm)}function Zu(t,e){return mi(e,Ht(t)).filter(n=>t.contains(n))}function Ju(t,e){return to(Ht(t),e).filter(n=>t.contains(n))}function wh(t,e){return yn(Ht(t),e).filter(n=>t.contains(n))}function C0(t,e){return Zn(Ht(t),e).filter(n=>t.contains(n))}function Sh(t,e){return or(Ht(t),e).filter(n=>t.contains(n))}function L0(t,e){return or(Ht(t),Ht(e)).filter(n=>t.contains(n)).filter(n=>e.contains(n))}function xh(t,e){return vi(Ht(t),e).filter(n=>t.contains(n))}function Eh(t,e){if(t.intersect&&t.intersect instanceof Function)return t.intersect(e);throw Y.UNSUPPORTED_SHAPE_TYPE}function yi(t,e){let n=[];for(let r of e)n=[...n,...Eh(r,r.shape)];return n}function I0(t,e){let n=[];for(let r of t)for(let i of e)n=[...n,...Eh(r,i)];return n}let _n=class Ar extends Yu{constructor(...e){if(super(),this.isInfinite=!1,e.length===1&&e[0]instanceof Array&&e[0].length>0){let n=!1;const r=e[0],i=r.length,l=a=>a instanceof s.Segment||a instanceof s.Arc||a instanceof s.Ray||a instanceof s.Line,o=a=>a instanceof s.Segment||a instanceof s.Arc||a instanceof s.Ray,u=a=>a instanceof s.Segment||a instanceof s.Arc;if(n=i===1&&l(r[0])||i>1&&o(r[0])&&o(r[i-1])&&r.slice(1,i-1).every(u),n){this.isInfinite=r.some(a=>a instanceof s.Ray||a instanceof s.Line);for(let a of r){let c=new s.Edge(a);this.append(c)}this.setArcLength()}else throw s.Errors.ILLEGAL_PARAMETERS}}get edges(){return[...this]}get box(){return this.edges.reduce((e,n)=>e.merge(n.box),new s.Box)}get vertices(){let e=this.edges.map(n=>n.start);return e.push(this.last.end),e}get length(){if(this.isEmpty())return 0;if(this.isInfinite)return Number.POSITIVE_INFINITY;let e=0;for(let n of this)e+=n.length;return e}clone(){return new Ar(this.toShapes())}setArcLength(){for(let e of this)this.setOneEdgeArcLength(e)}setOneEdgeArcLength(e){e===this.first?e.arc_length=0:e.arc_length=e.prev.arc_length+e.prev.length}pointAtLength(e){if(e>this.length||e<0||this.isInfinite)return null;let n=null;for(let r of this)if(e>=r.arc_length&&(r===this.last||e<r.next.arc_length)){n=r.pointAtLength(e-r.arc_length);break}return n}addVertex(e,n){let r=n.shape.split(e);if(r[0]===null)return n.prev;if(r[1]===null)return n;let i=new s.Edge(r[0]),l=n.prev;return this.insert(i,l),n.shape=r[1],i}getChain(e,n){let r=[];for(let i=e;i!==n.next;i=i.next)r.push(i);return r}split(e){for(let n of e){let r=this.findEdgeByPoint(n);this.addVertex(n,r)}return this}findEdgeByPoint(e){let n;for(let r of this)if(r.shape.contains(e)){n=r;break}return n}distanceTo(e){if(e instanceof Point){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Line){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Circle){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Segment){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Arc){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Multiline)return s.Distance.multiline2multiline(this,e);throw s.Errors.UNSUPPORTED_SHAPE_TYPE}intersect(e){return e instanceof s.Multiline?I0(this,e):yi(e,this)}contains(e){if(e instanceof s.Point)return this.edges.some(n=>n.shape.contains(e));throw s.Errors.UNSUPPORTED_SHAPE_TYPE}translate(e){return new Ar(this.edges.map(n=>n.shape.translate(e)))}rotate(e=0,n=new s.Point){return new Ar(this.edges.map(r=>r.shape.rotate(e,n)))}transform(e=new s.Matrix){return new Ar(this.edges.map(n=>n.shape.transform(e)))}toShapes(){return this.edges.map(e=>e.shape.clone())}toJSON(){return this.edges.map(e=>e.toJSON())}svgPoints(){return this.vertices.map(e=>`${e.x},${e.y}`).join(" ")}dpath(){let e=`M${this.first.start.x},${this.first.start.y}`;for(let n of this)e+=n.svg();return e}svg(e={}){let n=`
<path ${vn({fill:"none",...e})} d="`;n+=`
M${this.first.start.x},${this.first.start.y}`;for(let r of this)n+=r.svg();return n+=`" >
</path>`,n}};s.Multiline=_n;const A0=(...t)=>new s.Multiline(...t);s.multiline=A0;function Jn(t,e,n){let r=n.length,i=t.shape.split(e);if(i.length===0)return;let l=0;i[0]===null?l=0:i[1]===null?l=t.shape.length:l=i[0].length;let o=Gu;dn(l,0)&&(o|=Vr),dn(l,t.shape.length)&&(o|=$n);let u;l===1/0?u=i[0].coord(e):u=o&$n&&t.next&&t.next.arc_length===0?0:t.arc_length+l,n.push({id:r,pt:e,arc_length:u,edge_before:t,edge_after:void 0,face:t.face,is_vertex:o})}function si(t){t.int_points1_sorted=kt(t.int_points1),t.int_points2_sorted=kt(t.int_points2)}function kt(t){let e=new Map,n=0;for(let i of t)e.has(i.face)||(e.set(i.face,n),n++);for(let i of t)i.faceId=e.get(i.face);return t.slice().sort(N0)}function N0(t,e){return t.faceId<e.faceId?-1:t.faceId>e.faceId?1:t.arc_length<e.arc_length?-1:t.arc_length>e.arc_length?1:0}function bu(t){if(t.int_points1.length<2)return;let e=!1,n,r,i,l;for(let o=0;o<t.int_points1_sorted.length;o++)if(t.int_points1_sorted[o].id!==-1){n=t.int_points1_sorted[o],r=t.int_points2[n.id];for(let u=o+1;u<t.int_points1_sorted.length&&(i=t.int_points1_sorted[u],!!dn(i.arc_length,n.arc_length));u++)i.id!==-1&&(l=t.int_points2[i.id],l.id!==-1&&i.edge_before===n.edge_before&&i.edge_after===n.edge_after&&l.edge_before===r.edge_before&&l.edge_after===r.edge_after&&(i.id=-1,l.id=-1,e=!0))}r=t.int_points2_sorted[0],n=t.int_points1[r.id];for(let o=1;o<t.int_points2_sorted.length;o++){let u=t.int_points2_sorted[o];if(u.id===-1)continue;if(r.id===-1||!dn(u.arc_length,r.arc_length)){r=u,n=t.int_points1[r.id];continue}let a=t.int_points1[u.id];a.edge_before===n.edge_before&&a.edge_after===n.edge_after&&u.edge_before===r.edge_before&&u.edge_after===r.edge_after&&(a.id=-1,u.id=-1,e=!0)}e&&(t.int_points1=t.int_points1.filter(o=>o.id>=0),t.int_points2=t.int_points2.filter(o=>o.id>=0),t.int_points1.forEach((o,u)=>o.id=u),t.int_points2.forEach((o,u)=>o.id=u))}function Fs(t){for(let e of t)e.edge_before&&(e.edge_before.bvStart=void 0,e.edge_before.bvEnd=void 0,e.edge_before.bv=void 0,e.edge_before.overlap=void 0),e.edge_after&&(e.edge_after.bvStart=void 0,e.edge_after.bvEnd=void 0,e.edge_after.bv=void 0,e.edge_after.overlap=void 0);for(let e of t)e.edge_before&&(e.edge_before.bvEnd=rt),e.edge_after&&(e.edge_after.bvStart=rt)}function Bs(t,e){for(let n of t)n.edge_before&&n.edge_before.setInclusion(e),n.edge_after&&n.edge_after.setInclusion(e)}function O0(t){let e,n,r,i=t.int_points1.length;for(let l=0;l<i;l++){let o=t.int_points1_sorted[l];o.face!==e&&(n=l,e=o.face);let u=l,a=bn(t.int_points1_sorted,l,e),c;u+a<i&&t.int_points1_sorted[u+a].face===e?c=u+a:c=n;let f=bn(t.int_points1_sorted,c,e);r=null;for(let p=c;p<c+f;p++){let d=t.int_points1_sorted[p];if(d.face===e&&t.int_points2[d.id].face===t.int_points2[o.id].face){r=d;break}}if(r===null)continue;let m=o.edge_after,g=r.edge_before;if(!(m.bv===rt&&g.bv===rt)||m!==g)continue;let v=t.int_points2[o.id],w=t.int_points2[r.id],_=v.edge_after,I=w.edge_before;_.bv===rt&&I.bv===rt&&_===I||(v=t.int_points2[r.id],w=t.int_points2[o.id],_=v.edge_after,I=w.edge_before),_.bv===rt&&I.bv===rt&&_===I&&m.setOverlap(_)}}function bn(t,e,n){let r,i,l=1;if(t.length===1)return 1;r=t[e];for(let o=e+1;o<t.length&&!(r.face!==n||(i=t[o],!(i.pt.equalTo(r.pt)&&i.edge_before===r.edge_before&&i.edge_after===r.edge_after)));o++)l++;return l}function er(t,e){if(e){for(let n of e){let r=n.edge_before;if(n.is_vertex=Gu,r.shape.start&&r.shape.start.equalTo(n.pt)&&(n.is_vertex|=Vr),r.shape.end&&r.shape.end.equalTo(n.pt)&&(n.is_vertex|=$n),n.is_vertex&Vr){n.edge_before=r.prev,r.prev&&(n.is_vertex=$n);continue}if(n.is_vertex&$n)continue;let i=t.addVertex(n.pt,r);n.edge_before=i}for(let n of e)n.edge_before?n.edge_after=n.edge_before.next:t instanceof _n&&n.is_vertex&Vr&&(n.edge_after=t.first)}}function Cc(t,e,n){const r=t.edge_before,i=e.edge_after,l=n.length;r.next=n[0],n[0].prev=r,n[l-1].next=i,i.prev=n[l-1]}const{INSIDE:ot,OUTSIDE:st,BOUNDARY:se,OVERLAP_SAME:M0,OVERLAP_OPPOSITE:z0}=Ml,{NOT_VERTEX:dy,START_VERTEX:Lc,END_VERTEX:Ic}=Ml,io=1,_i=2,hn=3;function R0(t,e){let[n,r]=wi(t,e,io,!0);return n}function js(t,e){let r=e.clone().reverse(),[i,l]=wi(t,r,hn,!0);return i}function Ph(t,e){let[n,r]=wi(t,e,_i,!0);return n}function Th(t,e){let[n,r]=wi(t,e,_i,!1),i=[];for(let o of n.faces)i=[...i,...[...o.edges].map(u=>u.shape)];let l=[];for(let o of r.faces)l=[...l,...[...o.edges].map(u=>u.shape)];return[i,l]}function Vs(t,e){let[n,r]=wi(t,e,hn,!1),i=[];for(let l of n.faces)i=[...i,...[...l.edges].map(o=>o.shape)];return i}function kh(t,e){let n=t.clone(),r=e.clone(),i=Ch(n,r);si(i),er(n,i.int_points1_sorted),er(r,i.int_points2_sorted),bu(i),si(i);let l=i.int_points1_sorted.map(u=>u.pt),o=i.int_points2_sorted.map(u=>u.pt);return[l,o]}function U0(t,e,n,r){let i=Ac(t,n.int_points1),l=Ac(e,n.int_points2);for(Nc(i,e),Nc(l,t),Fs(n.int_points1),Fs(n.int_points2),Bs(n.int_points1,e),Bs(n.int_points2,t);F0(t,e,n.int_points1,n.int_points1_sorted,n.int_points2,n););O0(n),$s(t,r,n.int_points1_sorted,!0),$s(e,r,n.int_points2_sorted,!1),Oc(t,i,r,!0),Oc(e,l,r,!1)}function D0(t,e,n,r){B0(t,e,r,n.int_points2),j0(t,e,n),Hs(t,n.int_points1),Hs(e,n.int_points2),Ws(t,n.int_points1,n.int_points2),Ws(t,n.int_points2,n.int_points1)}function wi(t,e,n,r){let i=t.clone(),l=e.clone(),o=Ch(i,l);return si(o),er(i,o.int_points1_sorted),er(l,o.int_points2_sorted),bu(o),si(o),U0(i,l,o,n),r&&D0(i,l,o,n),[i,l]}function Ch(t,e){let n={int_points1:[],int_points2:[]};for(let r of t.edges){let i=e.edges.search(r.box);for(let l of i){let o=r.shape.intersect(l.shape);for(let u of o)Jn(r,u,n.int_points1),Jn(l,u,n.int_points2)}}return n}function Ac(t,e){let n=[];for(let r of t.faces)e.find(i=>i.face===r)||n.push(r);return n}function Nc(t,e){for(let n of t)n.first.bv=n.first.bvStart=n.first.bvEnd=void 0,n.first.setInclusion(e)}function F0(t,e,n,r,i,l){let o,u,a,c=r.length,f=!1;for(let m=0;m<c;m++){let g=r[m];g.face!==o&&(u=m,o=g.face);let v=m,w=bn(r,m,o),_;v+w<c&&r[v+w].face===o?_=v+w:_=u;let I=bn(r,_,o);a=null;for(let h=_;h<_+I;h++){let y=r[h];if(y.face===o&&i[y.id].face===i[g.id].face){a=y;break}}if(a===null)continue;let p=g.edge_after,d=a.edge_before;if(p.bv===se&&d.bv!=se){p.bv=d.bv;continue}if(p.bv!=se&&d.bv===se){d.bv=p.bv;continue}if(p.bv===se&&d.bv===se&&p!=d||p.bv===ot&&d.bv===st||p.bv===st&&d.bv===ot){let h=p.next;for(;h!=d;)h.bvStart=void 0,h.bvEnd=void 0,h.bv=void 0,h.setInclusion(e),h=h.next}if(p.bv===se&&d.bv===se&&p!=d){let h=p.next,y;for(;h!=d;){if(h.bv!=se){if(y===void 0)y=h.bv;else if(h.bv!=y)throw Y.UNRESOLVED_BOUNDARY_CONFLICT}h=h.next}y!=null&&(p.bv=y,d.bv=y);continue}if(p.bv===ot&&d.bv===st||p.bv===st&&d.bv===ot){let h=p;for(;h!=d;){if(h.bvStart===p.bv&&h.bvEnd===d.bv){let[y,x]=h.shape.distanceTo(e);if(y<10*s.DP_TOL){Jn(h,x.ps,n);let P=n[n.length-1];if(P.is_vertex&Lc)P.edge_after=h,P.edge_before=h.prev,h.bvStart=se,h.bv=void 0,h.setInclusion(e);else if(P.is_vertex&Ic)P.edge_after=h.next,h.bvEnd=se,h.bv=void 0,h.setInclusion(e);else{let D=e.addVertex(P.pt,h);P.edge_before=D,P.edge_after=D.next,D.setInclusion(e),D.next.bvStart=se,D.next.bvEnd=void 0,D.next.bv=void 0,D.next.setInclusion(e)}let k=e.findEdgeByPoint(x.pe);Jn(k,x.pe,i);let L=i[i.length-1];if(L.is_vertex&Lc)L.edge_after=k,L.edge_before=k.prev;else if(L.is_vertex&Ic)L.edge_after=k.next;else{let D=i.find(Ne=>Ne.edge_after===k),A=e.addVertex(L.pt,k);L.edge_before=A,L.edge_after=A.next,D&&(D.edge_after=A),A.bvStart=void 0,A.bvEnd=se,A.bv=void 0,A.setInclusion(t),A.next.bvStart=se,A.next.bvEnd=void 0,A.next.bv=void 0,A.next.setInclusion(t)}si(l),f=!0;break}}h=h.next}if(f)break;throw Y.UNRESOLVED_BOUNDARY_CONFLICT}}return f}function $s(t,e,n,r){if(!n)return;let i,l,o,u;for(let a=0;a<n.length;a++){if(o=n[a],o.face!==i&&(l=a,i=o.face),i.isEmpty())continue;let c=a,f=bn(n,a,i),m;c+f<n.length&&n[c+f].face===o.face?m=c+f:m=l,u=n[m];let g=m,v=bn(n,g,i),w=o.edge_after,_=u.edge_before;if(w.bv===ot&&_.bv===ot&&e===io||w.bv===st&&_.bv===st&&e===_i||(w.bv===st||_.bv===st)&&e===hn&&!r||(w.bv===ot||_.bv===ot)&&e===hn&&r||w.bv===se&&_.bv===se&&w.overlap&M0&&r||w.bv===se&&_.bv===se&&w.overlap&z0){t.removeChain(i,w,_);for(let I=c;I<c+f;I++)n[I].edge_after=void 0;for(let I=g;I<g+v;I++)n[I].edge_before=void 0}a+=f-1}}function B0(t,e,n,r){for(let i of e.faces){for(let l of i)t.edges.add(l);r.find(l=>l.face===i)===void 0&&t.addFace(i.first,i.last)}}function j0(t,e,n){if(n.int_points1.length!==0)for(let r=0;r<n.int_points1.length;r++){let i=n.int_points1[r],l=n.int_points2[r];if(i.edge_before!==void 0&&i.edge_after===void 0&&l.edge_before===void 0&&l.edge_after!==void 0&&(i.edge_before.next=l.edge_after,l.edge_after.prev=i.edge_before,i.edge_after=l.edge_after,l.edge_before=i.edge_before),l.edge_before!==void 0&&l.edge_after===void 0&&i.edge_before===void 0&&i.edge_after!==void 0&&(l.edge_before.next=i.edge_after,i.edge_after.prev=l.edge_before,l.edge_after=i.edge_after,i.edge_before=l.edge_before),i.edge_before!==void 0&&i.edge_after===void 0)for(let o of n.int_points1_sorted)o!==i&&o.edge_before===void 0&&o.edge_after!==void 0&&o.pt.equalTo(i.pt)&&(i.edge_before.next=o.edge_after,o.edge_after.prev=i.edge_before,i.edge_after=o.edge_after,o.edge_before=i.edge_before);if(l.edge_before!==void 0&&l.edge_after===void 0)for(let o of n.int_points2_sorted)o!==l&&o.edge_before===void 0&&o.edge_after!==void 0&&o.pt.equalTo(l.pt)&&(l.edge_before.next=o.edge_after,o.edge_after.prev=l.edge_before,l.edge_after=o.edge_after,o.edge_before=l.edge_before)}}function Hs(t,e){for(let n of e)t.faces.delete(n.face),n.face=void 0,n.edge_before&&(n.edge_before.face=void 0),n.edge_after&&(n.edge_after.face=void 0)}function Ws(t,e,n){for(let r of e){if(r.edge_before===void 0||r.edge_after===void 0||r.face||r.edge_after.face||r.edge_before.face)continue;let i=r.edge_after,l=r.edge_before;try{Yu.testInfiniteLoop(i)}catch{throw Y.CANNOT_COMPLETE_BOOLEAN_OPERATION}let o=t.addFace(i,l);for(let u of e)u.edge_before&&u.edge_after&&u.edge_before.face===o&&u.edge_after.face===o&&(u.face=o);for(let u of n)u.edge_before&&u.edge_after&&u.edge_before.face===o&&u.edge_after.face===o&&(u.face=o)}}function Oc(t,e,n,r){for(let i of e){let l=i.first.bv;(n===io&&l===ot||n===hn&&l===ot&&r||n===hn&&l===st&&!r||n===_i&&l===st)&&t.deleteFace(i)}}var V0=Object.freeze({__proto__:null,BOOLEAN_INTERSECT:_i,BOOLEAN_SUBTRACT:hn,BOOLEAN_UNION:io,calculateIntersections:kh,innerClip:Th,intersect:Ph,outerClip:Vs,removeNotRelevantChains:$s,removeOldFaces:Hs,restoreFaces:Ws,subtract:js,unify:R0});const $0=RegExp("T.F..FFF.|T.F...F.."),H0=RegExp("T........|.T.......|...T.....|....T...."),W0=RegExp("FT.......|F..T.....|F...T...."),Q0=RegExp("T.F..F..."),G0=RegExp("T.F..F...|.TF..F...|..FT.F...|..F.TF...");class ur{constructor(){this.m=new Array(9).fill(void 0)}get I2I(){return this.m[0]}set I2I(e){this.m[0]=e}get I2B(){return this.m[1]}set I2B(e){this.m[1]=e}get I2E(){return this.m[2]}set I2E(e){this.m[2]=e}get B2I(){return this.m[3]}set B2I(e){this.m[3]=e}get B2B(){return this.m[4]}set B2B(e){this.m[4]=e}get B2E(){return this.m[5]}set B2E(e){this.m[5]=e}get E2I(){return this.m[6]}set E2I(e){this.m[6]=e}get E2B(){return this.m[7]}set E2B(e){this.m[7]=e}get E2E(){return this.m[8]}set E2E(e){this.m[8]=e}toString(){return this.m.map(e=>e instanceof Array&&e.length>0?"T":e instanceof Array&&e.length===0?"F":"*").join("")}equal(){return $0.test(this.toString())}intersect(){return H0.test(this.toString())}touch(){return W0.test(this.toString())}inside(){return Q0.test(this.toString())}covered(){return G0.test(this.toString())}}function $r(t,e){let n,r=new s.Ray(e),i=new s.Line(r.pt,r.norm);const l=new s.Box(r.box.xmin-s.DP_TOL,r.box.ymin-s.DP_TOL,r.box.xmax,r.box.ymax+s.DP_TOL);if(t.box.not_intersect(l))return s.OUTSIDE;let o=t.edges.search(l);if(o.length===0)return s.OUTSIDE;for(let f of o)if(f.shape.contains(e))return s.BOUNDARY;let u=[...t.faces],a=[];for(let f of o)for(let m of r.intersect(f.shape)){if(m.equalTo(e))return s.BOUNDARY;a.push({pt:m,edge:f,face_index:u.indexOf(f.face)})}a.sort((f,m)=>ch(f.pt.x,m.pt.x)?-1:ah(f.pt.x,m.pt.x)?1:f.face_index<m.face_index?-1:f.face_index>m.face_index?1:f.edge.arc_length<m.edge.arc_length?-1:f.edge.arc_length>m.edge.arc_length?1:0);let c=0;for(let f=0;f<a.length;f++){let m=a[f];if(m.pt.equalTo(m.edge.shape.start)){if(f>0&&m.pt.equalTo(a[f-1].pt)&&m.face_index===a[f-1].face_index&&m.edge.prev===a[f-1].edge)continue;let g=m.edge.prev;for(;Ds(g.length);)g=g.prev;let v=g.shape.tangentInEnd(),w=m.pt.translate(v),_=m.edge.shape.tangentInStart(),I=m.pt.translate(_),p=w.leftTo(i),d=I.leftTo(i);(p&&!d||!p&&d)&&c++}else if(m.pt.equalTo(m.edge.shape.end)){if(f>0&&m.pt.equalTo(a[f-1].pt)&&m.face_index===a[f-1].face_index&&m.edge.next===a[f-1].edge)continue;let g=m.edge.next;for(;Ds(g.length);)g=g.next;let v=g.shape.tangentInStart(),w=m.pt.translate(v),_=m.edge.shape.tangentInEnd(),I=m.pt.translate(_),p=w.leftTo(i),d=I.leftTo(i);(p&&!d||!p&&d)&&c++}else if(m.edge.shape instanceof s.Segment)c++;else{let g=m.edge.shape.box;dn(m.pt.y,g.ymin)||dn(m.pt.y,g.ymax)||c++}}return n=c%2===1?Ol:oh,n}function Y0(t,e){return ar(t,e).equal()}function Lh(t,e){return ar(t,e).intersect()}function q0(t,e){return ar(t,e).touch()}function K0(t,e){return!Lh(t,e)}function Ih(t,e){return ar(t,e).inside()}function Ah(t,e){return ar(t,e).covered()}function X0(t,e){return Ih(e,t)}function Nh(t,e){return Ah(e,t)}function ar(t,e){if(t instanceof s.Line&&e instanceof s.Line)return Z0(t,e);if(t instanceof s.Line&&e instanceof s.Circle)return J0(t,e);if(t instanceof s.Line&&e instanceof s.Box)return b0(t,e);if(t instanceof s.Line&&e instanceof s.Polygon)return ev(t,e);if((t instanceof s.Segment||t instanceof s.Arc)&&e instanceof s.Polygon)return Mc(t,e);if((t instanceof s.Segment||t instanceof s.Arc)&&(e instanceof s.Circle||e instanceof s.Box))return Mc(t,new s.Polygon(e));if(t instanceof s.Polygon&&e instanceof s.Polygon)return Wi(t,e);if((t instanceof s.Circle||t instanceof s.Box)&&(e instanceof s.Circle||e instanceof s.Box))return Wi(new s.Polygon(t),new s.Polygon(e));if((t instanceof s.Circle||t instanceof s.Box)&&e instanceof s.Polygon)return Wi(new s.Polygon(t),e);if(t instanceof s.Polygon&&(e instanceof s.Circle||e instanceof s.Box))return Wi(t,new s.Polygon(e))}function Z0(t,e){let n=new ur,r=or(t,e);return r.length===0?t.contains(e.pt)&&e.contains(t.pt)?(n.I2I=[t],n.I2E=[],n.E2I=[]):(n.I2I=[],n.I2E=[t],n.E2I=[e]):(n.I2I=r,n.I2E=t.split(r),n.E2I=e.split(r)),n}function J0(t,e){let n=new ur,r=yn(t,e);if(r.length===0)n.I2I=[],n.I2B=[],n.I2E=[t],n.E2I=[e];else if(r.length===1)n.I2I=[],n.I2B=r,n.I2E=t.split(r),n.E2I=[e];else{let i=new _n([t]),l=t.sortPoints(r);i.split(l);let o=i.toShapes();n.I2I=[o[1]],n.I2B=l,n.I2E=[o[0],o[2]],n.E2I=new s.Polygon([e.toArc()]).cutWithLine(t)}return n}function b0(t,e){let n=new ur,r=Zn(t,e);if(r.length===0)n.I2I=[],n.I2B=[],n.I2E=[t],n.E2I=[e];else if(r.length===1)n.I2I=[],n.I2B=r,n.I2E=t.split(r),n.E2I=[e];else{let i=new _n([t]),l=t.sortPoints(r);i.split(l);let o=i.toShapes();e.toSegments().some(u=>u.contains(r[0])&&u.contains(r[1]))?(n.I2I=[],n.I2B=[o[1]],n.I2E=[o[0],o[2]],n.E2I=[e]):(n.I2I=[o[1]],n.I2B=l,n.I2E=[o[0],o[2]],n.E2I=new s.Polygon(e.toSegments()).cutWithLine(t))}return n}function ev(t,e){let n=new ur,r=vi(t,e),i=new _n([t]),l=r.length>0?r.slice():t.sortPoints(r);return i.split(l),[...i].forEach(o=>o.setInclusion(e)),n.I2I=[...i].filter(o=>o.bv===s.INSIDE).map(o=>o.shape),n.I2B=[...i].slice(1).map(o=>o.bv===s.BOUNDARY?o.shape:o.shape.start),n.I2E=[...i].filter(o=>o.bv===s.OUTSIDE).map(o=>o.shape),n.E2I=e.cutWithLine(t),n}function Mc(t,e){let n=new ur,r=k0(t,e),i=r.length>0?r.slice():t.sortPoints(r),l=new _n([t]);l.split(i),[...l].forEach(o=>o.setInclusion(e)),n.I2I=[...l].filter(o=>o.bv===s.INSIDE).map(o=>o.shape),n.I2B=[...l].slice(1).map(o=>o.bv===s.BOUNDARY?o.shape:o.shape.start),n.I2E=[...l].filter(o=>o.bv===s.OUTSIDE).map(o=>o.shape),n.B2I=[],n.B2B=[],n.B2E=[];for(let o of[t.start,t.end])switch($r(e,o)){case s.INSIDE:n.B2I.push(o);break;case s.BOUNDARY:n.B2B.push(o);break;case s.OUTSIDE:n.B2E.push(o);break}return n}function Wi(t,e){let n=new ur,[r,i]=kh(t,e),l=Ph(t,e),o=js(t,e),u=js(e,t),[a,c]=Th(t,e),f=Vs(t,e),m=Vs(e,t);return n.I2I=l.isEmpty()?[]:[l],n.I2B=c,n.I2E=o.isEmpty()?[]:[o],n.B2I=a,n.B2B=r,n.B2E=f,n.E2I=u.isEmpty()?[]:[u],n.E2B=m,n}var Oh=Object.freeze({__proto__:null,contain:X0,cover:Nh,covered:Ah,disjoint:K0,equal:Y0,inside:Ih,intersect:Lh,relate:ar,touch:q0});class Ke{constructor(e=1,n=0,r=0,i=1,l=0,o=0){this.a=e,this.b=n,this.c=r,this.d=i,this.tx=l,this.ty=o}clone(){return new Ke(this.a,this.b,this.c,this.d,this.tx,this.ty)}transform(e){return[e[0]*this.a+e[1]*this.c+this.tx,e[0]*this.b+e[1]*this.d+this.ty]}multiply(e){return new Ke(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.tx+this.c*e.ty+this.tx,this.b*e.tx+this.d*e.ty+this.ty)}translate(...e){let n,r;if(e.length==1&&!isNaN(e[0].x)&&!isNaN(e[0].y))n=e[0].x,r=e[0].y;else if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")n=e[0],r=e[1];else throw Y.ILLEGAL_PARAMETERS;return this.multiply(new Ke(1,0,0,1,n,r))}rotate(e,n=0,r=0){let i=Math.cos(e),l=Math.sin(e);return this.translate(n,r).multiply(new Ke(i,l,-l,i,0,0)).translate(-n,-r)}scale(e,n){return this.multiply(new Ke(e,0,0,n,0,0))}equalTo(e){return!(!s.Utils.EQ(this.tx,e.tx)||!s.Utils.EQ(this.ty,e.ty)||!s.Utils.EQ(this.a,e.a)||!s.Utils.EQ(this.b,e.b)||!s.Utils.EQ(this.c,e.c)||!s.Utils.EQ(this.d,e.d))}}s.Matrix=Ke;const tv=(...t)=>new s.Matrix(...t);s.matrix=tv;const nv=class Qs{constructor(e,n){this.low=e,this.high=n}clone(){return new Qs(this.low,this.high)}get max(){return this.clone()}less_than(e){return this.low<e.low||this.low===e.low&&this.high<e.high}equal_to(e){return this.low===e.low&&this.high===e.high}intersect(e){return!this.not_intersect(e)}not_intersect(e){return this.high<e.low||e.high<this.low}merge(e){return new Qs(this.low===void 0?e.low:this.low<e.low?this.low:e.low,this.high===void 0?e.high:this.high>e.high?this.high:e.high)}output(){return[this.low,this.high]}static comparable_max(e,n){return e.merge(n)}static comparable_less_than(e,n){return e<n}},ce=0,j=1;class Zt{constructor(e=void 0,n=void 0,r=null,i=null,l=null,o=j){if(this.left=r,this.right=i,this.parent=l,this.color=o,this.item={key:e,value:n},e&&e instanceof Array&&e.length===2&&!Number.isNaN(e[0])&&!Number.isNaN(e[1])){let[u,a]=e;u>a&&([u,a]=[a,u]),this.item.key=new nv(u,a)}this.max=this.item.key?this.item.key.max:void 0}isNil(){return this.item.key===void 0&&this.item.value===void 0&&this.left===null&&this.right===null&&this.color===j}_value_less_than(e){return this.item.value&&e.item.value&&this.item.value.less_than?this.item.value.less_than(e.item.value):this.item.value<e.item.value}less_than(e){return this.item.value===this.item.key&&e.item.value===e.item.key?this.item.key.less_than(e.item.key):this.item.key.less_than(e.item.key)||this.item.key.equal_to(e.item.key)&&this._value_less_than(e)}_value_equal(e){return this.item.value&&e.item.value&&this.item.value.equal_to?this.item.value.equal_to(e.item.value):this.item.value===e.item.value}equal_to(e){return this.item.value===this.item.key&&e.item.value===e.item.key?this.item.key.equal_to(e.item.key):this.item.key.equal_to(e.item.key)&&this._value_equal(e)}intersect(e){return this.item.key.intersect(e.item.key)}copy_data(e){this.item.key=e.item.key,this.item.value=e.item.value}update_max(){if(this.max=this.item.key?this.item.key.max:void 0,this.right&&this.right.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.right.max)}if(this.left&&this.left.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.left.max)}}not_intersect_left_subtree(e){const n=this.item.key.constructor.comparable_less_than;let r=this.left.max.high!==void 0?this.left.max.high:this.left.max;return n(r,e.item.key.low)}not_intersect_right_subtree(e){const n=this.item.key.constructor.comparable_less_than;let r=this.right.max.low!==void 0?this.right.max.low:this.right.item.key.low;return n(e.item.key.high,r)}}class ui{constructor(){this.root=null,this.nil_node=new Zt}get size(){let e=0;return this.tree_walk(this.root,()=>e++),e}get keys(){let e=[];return this.tree_walk(this.root,n=>e.push(n.item.key.output?n.item.key.output():n.item.key)),e}get values(){let e=[];return this.tree_walk(this.root,n=>e.push(n.item.value)),e}get items(){let e=[];return this.tree_walk(this.root,n=>e.push({key:n.item.key.output?n.item.key.output():n.item.key,value:n.item.value})),e}isEmpty(){return this.root==null||this.root===this.nil_node}clear(){this.root=null}insert(e,n=e){if(e===void 0)return;let r=new Zt(e,n,this.nil_node,this.nil_node,null,ce);return this.tree_insert(r),this.recalc_max(r),r}exist(e,n=e){let r=new Zt(e,n);return!!this.tree_search(this.root,r)}remove(e,n=e){let r=new Zt(e,n),i=this.tree_search(this.root,r);return i&&this.tree_delete(i),i}search(e,n=(r,i)=>r===i?i.output():r){let r=new Zt(e),i=[];return this.tree_search_interval(this.root,r,i),i.map(l=>n(l.item.value,l.item.key))}intersect_any(e){let n=new Zt(e);return this.tree_find_any_interval(this.root,n)}forEach(e){this.tree_walk(this.root,n=>e(n.item.key,n.item.value))}map(e){const n=new ui;return this.tree_walk(this.root,r=>n.insert(r.item.key,e(r.item.value,r.item.key))),n}*iterate(e,n=(r,i)=>r===i?i.output():r){let r;for(e?r=this.tree_search_nearest_forward(this.root,new Zt(e)):this.root&&(r=this.local_minimum(this.root));r;)yield n(r.item.value,r.item.key),r=this.tree_successor(r)}recalc_max(e){let n=e;for(;n.parent!=null;)n.parent.update_max(),n=n.parent}tree_insert(e){let n=this.root,r=null;if(this.root==null||this.root===this.nil_node)this.root=e;else{for(;n!==this.nil_node;)r=n,e.less_than(n)?n=n.left:n=n.right;e.parent=r,e.less_than(r)?r.left=e:r.right=e}this.insert_fixup(e)}insert_fixup(e){let n,r;for(n=e;n!==this.root&&n.parent.color===ce;)n.parent===n.parent.parent.left?(r=n.parent.parent.right,r.color===ce?(n.parent.color=j,r.color=j,n.parent.parent.color=ce,n=n.parent.parent):(n===n.parent.right&&(n=n.parent,this.rotate_left(n)),n.parent.color=j,n.parent.parent.color=ce,this.rotate_right(n.parent.parent))):(r=n.parent.parent.left,r.color===ce?(n.parent.color=j,r.color=j,n.parent.parent.color=ce,n=n.parent.parent):(n===n.parent.left&&(n=n.parent,this.rotate_right(n)),n.parent.color=j,n.parent.parent.color=ce,this.rotate_left(n.parent.parent)));this.root.color=j}tree_delete(e){let n,r;e.left===this.nil_node||e.right===this.nil_node?n=e:n=this.tree_successor(e),n.left!==this.nil_node?r=n.left:r=n.right,r.parent=n.parent,n===this.root?this.root=r:(n===n.parent.left?n.parent.left=r:n.parent.right=r,n.parent.update_max()),this.recalc_max(r),n!==e&&(e.copy_data(n),e.update_max(),this.recalc_max(e)),n.color===j&&this.delete_fixup(r)}delete_fixup(e){let n=e,r;for(;n!==this.root&&n.parent!=null&&n.color===j;)n===n.parent.left?(r=n.parent.right,r.color===ce&&(r.color=j,n.parent.color=ce,this.rotate_left(n.parent),r=n.parent.right),r.left.color===j&&r.right.color===j?(r.color=ce,n=n.parent):(r.right.color===j&&(r.color=ce,r.left.color=j,this.rotate_right(r),r=n.parent.right),r.color=n.parent.color,n.parent.color=j,r.right.color=j,this.rotate_left(n.parent),n=this.root)):(r=n.parent.left,r.color===ce&&(r.color=j,n.parent.color=ce,this.rotate_right(n.parent),r=n.parent.left),r.left.color===j&&r.right.color===j?(r.color=ce,n=n.parent):(r.left.color===j&&(r.color=ce,r.right.color=j,this.rotate_left(r),r=n.parent.left),r.color=n.parent.color,n.parent.color=j,r.left.color=j,this.rotate_right(n.parent),n=this.root));n.color=j}tree_search(e,n){if(!(e==null||e===this.nil_node))return n.equal_to(e)?e:n.less_than(e)?this.tree_search(e.left,n):this.tree_search(e.right,n)}tree_search_nearest_forward(e,n){let r,i=e;for(;i&&i!==this.nil_node;)i.less_than(n)?i.intersect(n)?(r=i,i=i.left):i=i.right:((!r||i.less_than(r))&&(r=i),i=i.left);return r||null}tree_search_interval(e,n,r){e!=null&&e!==this.nil_node&&(e.left!==this.nil_node&&!e.not_intersect_left_subtree(n)&&this.tree_search_interval(e.left,n,r),e.intersect(n)&&r.push(e),e.right!==this.nil_node&&!e.not_intersect_right_subtree(n)&&this.tree_search_interval(e.right,n,r))}tree_find_any_interval(e,n){let r=!1;return e!=null&&e!==this.nil_node&&(e.left!==this.nil_node&&!e.not_intersect_left_subtree(n)&&(r=this.tree_find_any_interval(e.left,n)),r||(r=e.intersect(n)),!r&&e.right!==this.nil_node&&!e.not_intersect_right_subtree(n)&&(r=this.tree_find_any_interval(e.right,n))),r}local_minimum(e){let n=e;for(;n.left!=null&&n.left!==this.nil_node;)n=n.left;return n}local_maximum(e){let n=e;for(;n.right!=null&&n.right!==this.nil_node;)n=n.right;return n}tree_successor(e){let n,r,i;if(e.right!==this.nil_node)n=this.local_minimum(e.right);else{for(r=e,i=e.parent;i!=null&&i.right===r;)r=i,i=i.parent;n=i}return n}rotate_left(e){let n=e.right;e.right=n.left,n.left!==this.nil_node&&(n.left.parent=e),n.parent=e.parent,e===this.root?this.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left=e,e.parent=n,e!=null&&e!==this.nil_node&&e.update_max(),n=e.parent,n!=null&&n!==this.nil_node&&n.update_max()}rotate_right(e){let n=e.left;e.left=n.right,n.right!==this.nil_node&&(n.right.parent=e),n.parent=e.parent,e===this.root?this.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.right=e,e.parent=n,e!==null&&e!==this.nil_node&&e.update_max(),n=e.parent,n!=null&&n!==this.nil_node&&n.update_max()}tree_walk(e,n){e!=null&&e!==this.nil_node&&(this.tree_walk(e.left,n),n(e),this.tree_walk(e.right,n))}testRedBlackProperty(){let e=!0;return this.tree_walk(this.root,function(n){n.color===ce&&(n.left.color===j&&n.right.color===j||(e=!1))}),e}testBlackHeightProperty(e){let n=0,r=0,i=0;if(e.color===j&&n++,e.left!==this.nil_node?r=this.testBlackHeightProperty(e.left):r=1,e.right!==this.nil_node?i=this.testBlackHeightProperty(e.right):i=1,r!==i)throw new Error("Red-black height property violated");return n+=r,n}}class rv extends Set{constructor(e){super(e),this.index=new ui,this.forEach(n=>this.index.insert(n))}add(e){let n=this.size;const{key:r,value:i}=e,l=r||e.box,o=i||e;return super.add(o),this.size>n&&this.index.insert(l,o),this}delete(e){const{key:n,value:r}=e,i=n||e.box,l=r||e;let o=super.delete(l);return o&&this.index.remove(i,l),o}clear(){super.clear(),this.index=new ui}search(e){return this.index.search(e)}hit(e){let n=new s.Box(e.x-1,e.y-1,e.x+1,e.y+1);return this.index.search(n).filter(i=>e.on(i))}svg(){return[...this].reduce((n,r)=>n+r.svg(),"")}}s.PlanarSet=rv;class qt{get name(){throw Y.CANNOT_INVOKE_ABSTRACT_METHOD}get box(){throw Y.CANNOT_INVOKE_ABSTRACT_METHOD}clone(){throw Y.CANNOT_INVOKE_ABSTRACT_METHOD}translate(...e){return this.transform(new Ke().translate(...e))}rotate(e,n=new s.Point){return this.transform(new Ke().rotate(e,n.x,n.y))}scale(e,n){return this.transform(new Ke().scale(e,n))}transform(...e){throw Y.CANNOT_INVOKE_ABSTRACT_METHOD}toJSON(){return Object.assign({},this,{name:this.name})}svg(e={}){throw Y.CANNOT_INVOKE_ABSTRACT_METHOD}}let H=class Mh extends qt{constructor(...e){if(super(),this.x=0,this.y=0,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===2){let n=e[0];if(typeof n[0]=="number"&&typeof n[1]=="number"){this.x=n[0],this.y=n[1];return}}if(e.length===1&&e[0]instanceof Object&&e[0].name==="point"){let{x:n,y:r}=e[0];this.x=n,this.y=r;return}if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"){this.x=e[0],this.y=e[1];return}throw Y.ILLEGAL_PARAMETERS}}get box(){return new s.Box(this.x,this.y,this.x,this.y)}clone(){return new s.Point(this.x,this.y)}get vertices(){return[this.clone()]}equalTo(e){return s.Utils.EQ(this.x,e.x)&&s.Utils.EQ(this.y,e.y)}lessThan(e){return!!(s.Utils.LT(this.y,e.y)||s.Utils.EQ(this.y,e.y)&&s.Utils.LT(this.x,e.x))}transform(e){return new s.Point(e.transform([this.x,this.y]))}projectionOn(e){if(this.equalTo(e.pt))return this.clone();let n=new s.Vector(this,e.pt);if(s.Utils.EQ_0(n.cross(e.norm)))return e.pt.clone();let r=n.dot(e.norm),i=e.norm.multiply(r);return this.translate(i)}leftTo(e){let n=new s.Vector(e.pt,this);return s.Utils.GT(n.dot(e.norm),0)}distanceTo(e){if(e instanceof Mh){let n=e.x-this.x,r=e.y-this.y;return[Math.sqrt(n*n+r*r),new s.Segment(this,e)]}if(e instanceof s.Line)return s.Distance.point2line(this,e);if(e instanceof s.Circle)return s.Distance.point2circle(this,e);if(e instanceof s.Segment)return s.Distance.point2segment(this,e);if(e instanceof s.Arc)return s.Distance.point2arc(this,e);if(e instanceof s.Polygon)return s.Distance.point2polygon(this,e);if(e instanceof s.PlanarSet)return s.Distance.shape2planarSet(this,e);if(e instanceof s.Multiline)return s.Distance.shape2multiline(this,e)}on(e){if(e instanceof s.Point)return this.equalTo(e);if(e.contains&&e.contains instanceof Function)return e.contains(this);throw s.Errors.UNSUPPORTED_SHAPE_TYPE}get name(){return"point"}svg(e={}){const n=e.r??3;return`
<circle cx="${this.x}" cy="${this.y}" r="${n}"
            ${vn({fill:"red",...e})} />`}};s.Point=H;const ea=(...t)=>new s.Point(...t);s.point=ea;let zh=class extends qt{constructor(...e){if(super(),this.x=0,this.y=0,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===2){let n=e[0];if(typeof n[0]=="number"&&typeof n[1]=="number"){this.x=n[0],this.y=n[1];return}}if(e.length===1&&e[0]instanceof Object&&e[0].name==="vector"){let{x:n,y:r}=e[0];this.x=n,this.y=r;return}if(e.length===2){let n=e[0],r=e[1];if(typeof n=="number"&&typeof r=="number"){this.x=n,this.y=r;return}if(n instanceof s.Point&&r instanceof s.Point){this.x=r.x-n.x,this.y=r.y-n.y;return}}throw Y.ILLEGAL_PARAMETERS}}clone(){return new s.Vector(this.x,this.y)}get slope(){let e=Math.atan2(this.y,this.x);return e<0&&(e=2*Math.PI+e),e}get length(){return Math.sqrt(this.dot(this))}equalTo(e){return s.Utils.EQ(this.x,e.x)&&s.Utils.EQ(this.y,e.y)}multiply(e){return new s.Vector(e*this.x,e*this.y)}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}normalize(){if(!s.Utils.EQ_0(this.length))return new s.Vector(this.x/this.length,this.y/this.length);throw Y.ZERO_DIVISION}rotate(e,n=new s.Point){if(n.x===0&&n.y===0)return this.transform(new Ke().rotate(e));throw Y.OPERATION_IS_NOT_SUPPORTED}transform(e){return new s.Vector(e.transform([this.x,this.y]))}rotate90CCW(){return new s.Vector(-this.y,this.x)}rotate90CW(){return new s.Vector(this.y,-this.x)}invert(){return new s.Vector(-this.x,-this.y)}add(e){return new s.Vector(this.x+e.x,this.y+e.y)}subtract(e){return new s.Vector(this.x-e.x,this.y-e.y)}angleTo(e){let n=this.normalize(),r=e.normalize(),i=Math.atan2(n.cross(r),n.dot(r));return i<0&&(i+=2*Math.PI),i}projectionOn(e){let n=e.normalize(),r=this.dot(n);return n.multiply(r)}get name(){return"vector"}};s.Vector=zh;const Rh=(...t)=>new s.Vector(...t);s.vector=Rh;let sl=class Gs extends qt{constructor(...e){if(super(),this.ps=new s.Point,this.pe=new s.Point,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===4){let n=e[0];this.ps=new s.Point(n[0],n[1]),this.pe=new s.Point(n[2],n[3]);return}if(e.length===1&&e[0]instanceof Object&&e[0].name==="segment"){let{ps:n,pe:r}=e[0];this.ps=new s.Point(n.x,n.y),this.pe=new s.Point(r.x,r.y);return}if(e.length===1&&e[0]instanceof s.Point){this.ps=e[0].clone();return}if(e.length===2&&e[0]instanceof s.Point&&e[1]instanceof s.Point){this.ps=e[0].clone(),this.pe=e[1].clone();return}if(e.length===4){this.ps=new s.Point(e[0],e[1]),this.pe=new s.Point(e[2],e[3]);return}throw Y.ILLEGAL_PARAMETERS}}clone(){return new s.Segment(this.start,this.end)}get start(){return this.ps}get end(){return this.pe}get vertices(){return[this.ps.clone(),this.pe.clone()]}get length(){return this.start.distanceTo(this.end)[0]}get slope(){return new s.Vector(this.start,this.end).slope}get box(){return new s.Box(Math.min(this.start.x,this.end.x),Math.min(this.start.y,this.end.y),Math.max(this.start.x,this.end.x),Math.max(this.start.y,this.end.y))}equalTo(e){return this.ps.equalTo(e.ps)&&this.pe.equalTo(e.pe)}contains(e){return s.Utils.EQ_0(this.distanceToPoint(e))}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return mi(this,e);if(e instanceof s.Ray)return Zu(e,this);if(e instanceof s.Segment)return no(this,e);if(e instanceof s.Circle)return ro(this,e);if(e instanceof s.Box)return _0(this,e);if(e instanceof s.Arc)return sr(this,e);if(e instanceof s.Polygon)return Ku(this,e);if(e instanceof s.Multiline)return yi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2segment(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.segment2circle(this,e);return[n,r]}if(e instanceof s.Line){let[n,r]=s.Distance.segment2line(this,e);return[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2segment(this,e);return[n,r]}if(e instanceof s.Arc){let[n,r]=s.Distance.segment2arc(this,e);return[n,r]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}if(e instanceof s.PlanarSet){let[n,r]=s.Distance.shape2planarSet(this,e);return[n,r]}if(e instanceof s.Multiline)return s.Distance.shape2multiline(this,e)}tangentInStart(){return new s.Vector(this.start,this.end).normalize()}tangentInEnd(){return new s.Vector(this.end,this.start).normalize()}reverse(){return new Gs(this.end,this.start)}split(e){return this.start.equalTo(e)?[null,this.clone()]:this.end.equalTo(e)?[this.clone(),null]:[new s.Segment(this.start,e),new s.Segment(e,this.end)]}middle(){return new s.Point((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}pointAtLength(e){if(e>this.length||e<0)return null;if(e==0)return this.start;if(e==this.length)return this.end;let n=e/this.length;return new s.Point((this.end.x-this.start.x)*n+this.start.x,(this.end.y-this.start.y)*n+this.start.y)}distanceToPoint(e){let[n,...r]=s.Distance.point2segment(e,this);return n}definiteIntegral(e=0){let n=this.end.x-this.start.x,r=this.start.y-e,i=this.end.y-e;return n*(r+i)/2}transform(e=new s.Matrix){return new Gs(this.ps.transform(e),this.pe.transform(e))}isZeroLength(){return this.ps.equalTo(this.pe)}sortPoints(e){return new s.Line(this.start,this.end).sortPoints(e)}get name(){return"segment"}svg(e={}){return`
<line x1="${this.start.x}" y1="${this.start.y}" x2="${this.end.x}" y2="${this.end.y}" ${vn(e)} />`}};s.Segment=sl;const iv=(...t)=>new s.Segment(...t);s.segment=iv;let{vector:Tr}=s,lo=class Uh extends qt{constructor(...e){if(super(),this.pt=new s.Point,this.norm=new s.Vector(0,1),e.length!==0){if(e.length===1&&e[0]instanceof Object&&e[0].name==="line"){let{pt:n,norm:r}=e[0];this.pt=new s.Point(n),this.norm=new s.Vector(r);return}if(e.length===2){let n=e[0],r=e[1];if(n instanceof s.Point&&r instanceof s.Point){this.pt=n,this.norm=Uh.points2norm(n,r),this.norm.dot(Tr(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(n instanceof s.Point&&r instanceof s.Vector){if(s.Utils.EQ_0(r.x)&&s.Utils.EQ_0(r.y))throw Y.ILLEGAL_PARAMETERS;this.pt=n.clone(),this.norm=r.clone(),this.norm=this.norm.normalize(),this.norm.dot(Tr(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(n instanceof s.Vector&&r instanceof s.Point){if(s.Utils.EQ_0(n.x)&&s.Utils.EQ_0(n.y))throw Y.ILLEGAL_PARAMETERS;this.pt=r.clone(),this.norm=n.clone(),this.norm=this.norm.normalize(),this.norm.dot(Tr(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}}throw Y.ILLEGAL_PARAMETERS}}clone(){return new s.Line(this.pt,this.norm)}get start(){}get end(){}get length(){return Number.POSITIVE_INFINITY}get box(){return new s.Box(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)}get middle(){}get slope(){return new s.Vector(this.norm.y,-this.norm.x).slope}get standard(){let e=this.norm.x,n=this.norm.y,r=this.norm.dot(Tr(this.pt.x,this.pt.y));return[e,n,r]}parallelTo(e){return s.Utils.EQ_0(this.norm.cross(e.norm))}incidentTo(e){return this.parallelTo(e)&&this.pt.on(e)}contains(e){if(this.pt.equalTo(e))return!0;let n=new s.Vector(this.pt,e);return s.Utils.EQ_0(this.norm.dot(n))}coord(e){return Tr(e.x,e.y).cross(this.norm)}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return or(this,e);if(e instanceof s.Ray)return Sh(e,this);if(e instanceof s.Circle)return yn(this,e);if(e instanceof s.Box)return Zn(this,e);if(e instanceof s.Segment)return mi(e,this);if(e instanceof s.Arc)return to(this,e);if(e instanceof s.Polygon)return vi(this,e);if(e instanceof s.Multiline)return yi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2line(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.circle2line(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2line(e,this);return[n,r.reverse()]}if(e instanceof s.Arc){let[n,r]=s.Distance.arc2line(e,this);return[n,r.reverse()]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}}split(e){if(e instanceof s.Point)return[new s.Ray(e,this.norm),new s.Ray(e,this.norm)];{let n=new s.Multiline([this]),r=this.sortPoints(e);return n.split(r),n.toShapes()}}rotate(e,n=new s.Point){return new s.Line(this.pt.rotate(e,n),this.norm.rotate(e))}transform(e){return new s.Line(this.pt.transform(e),this.norm.clone())}sortPoints(e){return e.slice().sort((n,r)=>this.coord(n)<this.coord(r)?-1:this.coord(n)>this.coord(r)?1:0)}get name(){return"line"}svg(e,n={}){let r=Zn(this,e);if(r.length===0)return"";let i=r[0],l=r.length===2?r[1]:r.find(u=>!u.equalTo(i));return l===void 0&&(l=i),new s.Segment(i,l).svg(n)}static points2norm(e,n){if(e.equalTo(n))throw Y.ILLEGAL_PARAMETERS;return new s.Vector(e,n).normalize().rotate90CCW()}};s.Line=lo;const lv=(...t)=>new s.Line(...t);s.line=lv;let ov=class extends qt{constructor(...e){if(super(),this.pc=new s.Point,this.r=1,e.length===1&&e[0]instanceof Object&&e[0].name==="circle"){let{pc:n,r}=e[0];this.pc=new s.Point(n),this.r=r}else{let[n,r]=[...e];n&&n instanceof s.Point&&(this.pc=n.clone()),r!==void 0&&(this.r=r)}}clone(){return new s.Circle(this.pc.clone(),this.r)}get center(){return this.pc}get box(){return new s.Box(this.pc.x-this.r,this.pc.y-this.r,this.pc.x+this.r,this.pc.y+this.r)}contains(e){if(e instanceof s.Point)return s.Utils.LE(e.distanceTo(this.center)[0],this.r);if(e instanceof s.Segment)return s.Utils.LE(e.start.distanceTo(this.center)[0],this.r)&&s.Utils.LE(e.end.distanceTo(this.center)[0],this.r);if(e instanceof s.Arc)return this.intersect(e).length===0&&s.Utils.LE(e.start.distanceTo(this.center)[0],this.r)&&s.Utils.LE(e.end.distanceTo(this.center)[0],this.r);if(e instanceof s.Circle)return this.intersect(e).length===0&&s.Utils.LE(e.r,this.r)&&s.Utils.LE(e.center.distanceTo(this.center)[0],this.r)}toArc(e=!0){return new s.Arc(this.center,this.r,Math.PI,-Math.PI,e)}scale(e,n){if(e!==n||!(this.pc.x===0&&this.pc.y===0))throw Y.OPERATION_IS_NOT_SUPPORTED;return new s.Circle(this.pc,this.r*e)}transform(e=new s.Matrix){return new s.Circle(this.pc.transform(e),this.r)}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return yn(e,this);if(e instanceof s.Ray)return wh(e,this);if(e instanceof s.Segment)return ro(e,this);if(e instanceof s.Circle)return fh(e,this);if(e instanceof s.Box)return w0(this,e);if(e instanceof s.Arc)return qu(e,this);if(e instanceof s.Polygon)return mh(this,e);if(e instanceof s.Multiline)return yi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2circle(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.circle2circle(this,e);return[n,r]}if(e instanceof s.Line){let[n,r]=s.Distance.circle2line(this,e);return[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2circle(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Arc){let[n,r]=s.Distance.arc2circle(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}if(e instanceof s.PlanarSet){let[n,r]=s.Distance.shape2planarSet(this,e);return[n,r]}if(e instanceof s.Multiline){let[n,r]=s.Distance.shape2multiline(this,e);return[n,r]}}get name(){return"circle"}svg(e={}){return`
<circle cx="${this.pc.x}" cy="${this.pc.y}" r="${this.r}"
                ${vn({fill:"none",...e})} />`}};s.Circle=ov;const Dh=(...t)=>new s.Circle(...t);s.circle=Dh;class Ys extends qt{constructor(...e){if(super(),this.pc=new s.Point,this.r=1,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=s.CCW,e.length!==0)if(e.length===1&&e[0]instanceof Object&&e[0].name==="arc"){let{pc:n,r,startAngle:i,endAngle:l,counterClockwise:o}=e[0];this.pc=new s.Point(n.x,n.y),this.r=r,this.startAngle=i,this.endAngle=l,this.counterClockwise=o}else{let[n,r,i,l,o]=[...e];n&&n instanceof s.Point&&(this.pc=n.clone()),r!==void 0&&(this.r=r),i!==void 0&&(this.startAngle=i),l!==void 0&&(this.endAngle=l),o!==void 0&&(this.counterClockwise=o)}}clone(){return new s.Arc(this.pc.clone(),this.r,this.startAngle,this.endAngle,this.counterClockwise)}get sweep(){if(s.Utils.EQ(this.startAngle,this.endAngle))return 0;if(s.Utils.EQ(Math.abs(this.startAngle-this.endAngle),s.PIx2))return s.PIx2;let e;return this.counterClockwise?e=s.Utils.GT(this.endAngle,this.startAngle)?this.endAngle-this.startAngle:this.endAngle-this.startAngle+s.PIx2:e=s.Utils.GT(this.startAngle,this.endAngle)?this.startAngle-this.endAngle:this.startAngle-this.endAngle+s.PIx2,s.Utils.GT(e,s.PIx2)&&(e-=s.PIx2),s.Utils.LT(e,0)&&(e+=s.PIx2),e}get start(){return new s.Point(this.pc.x+this.r,this.pc.y).rotate(this.startAngle,this.pc)}get end(){return new s.Point(this.pc.x+this.r,this.pc.y).rotate(this.endAngle,this.pc)}get center(){return this.pc.clone()}get vertices(){return[this.start.clone(),this.end.clone()]}get length(){return Math.abs(this.sweep*this.r)}get box(){let n=this.breakToFunctional().reduce((r,i)=>r.merge(i.start.box),new s.Box);return n=n.merge(this.end.box),n}contains(e){if(!s.Utils.EQ(this.pc.distanceTo(e)[0],this.r))return!1;if(e.equalTo(this.start))return!0;let n=new s.Vector(this.pc,e).slope,r=new s.Arc(this.pc,this.r,this.startAngle,n,this.counterClockwise);return s.Utils.LE(r.length,this.length)}split(e){if(this.start.equalTo(e))return[null,this.clone()];if(this.end.equalTo(e))return[this.clone(),null];let n=new s.Vector(this.pc,e).slope;return[new s.Arc(this.pc,this.r,this.startAngle,n,this.counterClockwise),new s.Arc(this.pc,this.r,n,this.endAngle,this.counterClockwise)]}middle(){let e=this.counterClockwise?this.startAngle+this.sweep/2:this.startAngle-this.sweep/2;return new s.Arc(this.pc,this.r,this.startAngle,e,this.counterClockwise).end}pointAtLength(e){if(e>this.length||e<0)return null;if(e===0)return this.start;if(e===this.length)return this.end;let n=e/this.length,r=this.counterClockwise?this.startAngle+this.sweep*n:this.startAngle-this.sweep*n;return new s.Arc(this.pc,this.r,this.startAngle,r,this.counterClockwise).end}chordHeight(){return(1-Math.cos(Math.abs(this.sweep/2)))*this.r}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return to(e,this);if(e instanceof s.Ray)return Ju(e,this);if(e instanceof s.Circle)return qu(this,e);if(e instanceof s.Segment)return sr(e,this);if(e instanceof s.Box)return S0(this,e);if(e instanceof s.Arc)return dh(this,e);if(e instanceof s.Polygon)return Xu(this,e);if(e instanceof s.Multiline)return yi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2arc(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.arc2circle(this,e);return[n,r]}if(e instanceof s.Line){let[n,r]=s.Distance.arc2line(this,e);return[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2arc(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Arc){let[n,r]=s.Distance.arc2arc(this,e);return[n,r]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}if(e instanceof s.PlanarSet){let[n,r]=s.Distance.shape2planarSet(this,e);return[n,r]}if(e instanceof s.Multiline)return s.Distance.shape2multiline(this,e)}breakToFunctional(){let e=[],n=[0,Math.PI/2,2*Math.PI/2,3*Math.PI/2],r=[this.pc.translate(this.r,0),this.pc.translate(0,this.r),this.pc.translate(-this.r,0),this.pc.translate(0,-this.r)],i=[];for(let l=0;l<4;l++)r[l].on(this)&&i.push(new s.Arc(this.pc,this.r,this.startAngle,n[l],this.counterClockwise));if(i.length===0)e.push(this.clone());else{i.sort((u,a)=>u.length-a.length);for(let u=0;u<i.length;u++){let a=e.length>0?e[e.length-1]:void 0,c;a?c=new s.Arc(this.pc,this.r,a.endAngle,i[u].endAngle,this.counterClockwise):c=new s.Arc(this.pc,this.r,this.startAngle,i[u].endAngle,this.counterClockwise),s.Utils.EQ_0(c.length)||e.push(c.clone())}let l=e.length>0?e[e.length-1]:void 0,o;l?o=new s.Arc(this.pc,this.r,l.endAngle,this.endAngle,this.counterClockwise):o=new s.Arc(this.pc,this.r,this.startAngle,this.endAngle,this.counterClockwise),!s.Utils.EQ_0(o.length)&&!s.Utils.EQ(o.sweep,2*Math.PI)&&e.push(o.clone())}return e}tangentInStart(){let e=new s.Vector(this.pc,this.start),n=this.counterClockwise?Math.PI/2:-Math.PI/2;return e.rotate(n).normalize()}tangentInEnd(){let e=new s.Vector(this.pc,this.end),n=this.counterClockwise?-Math.PI/2:Math.PI/2;return e.rotate(n).normalize()}reverse(){return new s.Arc(this.pc,this.r,this.endAngle,this.startAngle,!this.counterClockwise)}transform(e=new s.Matrix){let n=this.start.transform(e),r=this.end.transform(e),i=this.pc.transform(e),l=this.counterClockwise;return e.a*e.d<0&&(l=!l),s.Arc.arcSE(i,n,r,l)}static arcSE(e,n,r,i){let{vector:l}=s,o=l(e,n).slope,u=l(e,r).slope;s.Utils.EQ(o,u)&&(u+=2*Math.PI,i=!0);let a=l(e,n).length;return new s.Arc(e,a,o,u,i)}definiteIntegral(e=0){return this.breakToFunctional().reduce((i,l)=>i+l.circularSegmentDefiniteIntegral(e),0)}circularSegmentDefiniteIntegral(e){let n=new s.Line(this.start,this.end),r=this.pc.leftTo(n),l=new s.Segment(this.start,this.end).definiteIntegral(e),o=this.circularSegmentArea();return r?l-o:l+o}circularSegmentArea(){return .5*this.r*this.r*(this.sweep-Math.sin(this.sweep))}sortPoints(e){let{vector:n}=s;return e.slice().sort((r,i)=>{let l=n(this.pc,r).slope,o=n(this.pc,i).slope;return l<o?-1:l>o?1:0})}get name(){return"arc"}svg(e={}){let n=this.sweep<=Math.PI?"0":"1",r=this.counterClockwise?"1":"0";return s.Utils.EQ(this.sweep,2*Math.PI)?new s.Circle(this.pc,this.r).svg(e):`
<path d="M${this.start.x},${this.start.y}
                             A${this.r},${this.r} 0 ${n},${r} ${this.end.x},${this.end.y}"
                    ${vn({fill:"none",...e})} />`}}s.Arc=Ys;const sv=(...t)=>new s.Arc(...t);s.arc=sv;class jt extends qt{constructor(e=void 0,n=void 0,r=void 0,i=void 0){super(),this.xmin=e,this.ymin=n,this.xmax=r,this.ymax=i}clone(){return new jt(this.xmin,this.ymin,this.xmax,this.ymax)}get low(){return new s.Point(this.xmin,this.ymin)}get high(){return new s.Point(this.xmax,this.ymax)}get max(){return this.clone()}get center(){return new s.Point((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)}get width(){return Math.abs(this.xmax-this.xmin)}get height(){return Math.abs(this.ymax-this.ymin)}get box(){return this.clone()}not_intersect(e){return this.xmax<e.xmin||this.xmin>e.xmax||this.ymax<e.ymin||this.ymin>e.ymax}intersect(e){return!this.not_intersect(e)}merge(e){return new jt(this.xmin===void 0?e.xmin:Math.min(this.xmin,e.xmin),this.ymin===void 0?e.ymin:Math.min(this.ymin,e.ymin),this.xmax===void 0?e.xmax:Math.max(this.xmax,e.xmax),this.ymax===void 0?e.ymax:Math.max(this.ymax,e.ymax))}less_than(e){return!!(this.low.lessThan(e.low)||this.low.equalTo(e.low)&&this.high.lessThan(e.high))}equal_to(e){return this.low.equalTo(e.low)&&this.high.equalTo(e.high)}output(){return this.clone()}static comparable_max(e,n){return e.merge(n)}static comparable_less_than(e,n){return e.lessThan(n)}set(e,n,r,i){this.xmin=e,this.ymin=n,this.xmax=r,this.ymax=i}toPoints(){return[new s.Point(this.xmin,this.ymin),new s.Point(this.xmax,this.ymin),new s.Point(this.xmax,this.ymax),new s.Point(this.xmin,this.ymax)]}toSegments(){let e=this.toPoints();return[new s.Segment(e[0],e[1]),new s.Segment(e[1],e[2]),new s.Segment(e[2],e[3]),new s.Segment(e[3],e[0])]}rotate(e,n=new s.Point){throw Y.OPERATION_IS_NOT_SUPPORTED}transform(e=new s.Matrix){return this.toPoints().map(r=>r.transform(e)).reduce((r,i)=>r.merge(i.box),new jt)}contains(e){if(e instanceof s.Point)return e.x>=this.xmin&&e.x<=this.xmax&&e.y>=this.ymin&&e.y<=this.ymax;if(e instanceof s.Segment)return e.vertices.every(n=>this.contains(n));if(e instanceof s.Box)return e.toSegments().every(n=>this.contains(n));if(e instanceof s.Circle)return this.contains(e.box);if(e instanceof s.Arc)return e.vertices.every(n=>this.contains(n))&&e.toSegments().every(n=>sr(n,e).length===0);if(e instanceof s.Line||e instanceof s.Ray)return!1;if(e instanceof s.Multiline)return e.toShapes().every(n=>this.contains(n));if(e instanceof s.Polygon)return this.contains(e.box)}distanceTo(e){const n=this.toSegments().map(i=>i.distanceTo(e));let r=[Number.MAX_SAFE_INTEGER,null];return n.forEach(i=>{i[0]<r[0]&&(r=i)}),r}get name(){return"box"}svg(e={}){const n=this.xmax-this.xmin,r=this.ymax-this.ymin;return`
<rect x="${this.xmin}" y="${this.ymin}" width="${n}" height="${r}"
                ${vn({fill:"none",...e})} />`}}s.Box=jt;const uv=(...t)=>new s.Box(...t);s.box=uv;class av{constructor(e){this.shape=e,this.next=void 0,this.prev=void 0,this.face=void 0,this.arc_length=0,this.bvStart=void 0,this.bvEnd=void 0,this.bv=void 0,this.overlap=void 0}get start(){return this.shape.start}get end(){return this.shape.end}get length(){return this.shape.length}get box(){return this.shape.box}get isSegment(){return this.shape instanceof s.Segment}get isArc(){return this.shape instanceof s.Arc}get isLine(){return this.shape instanceof s.Line}get isRay(){return this.shape instanceof s.Ray}middle(){return this.shape.middle()}pointAtLength(e){return this.shape.pointAtLength(e)}contains(e){return this.shape.contains(e)}setInclusion(e){if(this.bv!==void 0)return this.bv;if(this.shape instanceof s.Line||this.shape instanceof s.Ray)return this.bv=s.OUTSIDE,this.bv;if(this.bvStart===void 0&&(this.bvStart=$r(e,this.start)),this.bvEnd===void 0&&(this.bvEnd=$r(e,this.end)),this.bvStart===s.OUTSIDE||this.bvEnd==s.OUTSIDE)this.bv=s.OUTSIDE;else if(this.bvStart===s.INSIDE||this.bvEnd==s.INSIDE)this.bv=s.INSIDE;else{let n=$r(e,this.middle());this.bv=n}return this.bv}setOverlap(e){let n,r=this.shape,i=e.shape;r instanceof s.Segment&&i instanceof s.Segment?r.start.equalTo(i.start)&&r.end.equalTo(i.end)?n=s.OVERLAP_SAME:r.start.equalTo(i.end)&&r.end.equalTo(i.start)&&(n=s.OVERLAP_OPPOSITE):(r instanceof s.Arc&&i instanceof s.Arc||r instanceof s.Segment&&i instanceof s.Arc||r instanceof s.Arc&&i instanceof s.Segment)&&(r.start.equalTo(i.start)&&r.end.equalTo(i.end)&&r.middle().equalTo(i.middle())?n=s.OVERLAP_SAME:r.start.equalTo(i.end)&&r.end.equalTo(i.start)&&r.middle().equalTo(i.middle())&&(n=s.OVERLAP_OPPOSITE)),this.overlap===void 0&&(this.overlap=n),e.overlap===void 0&&(e.overlap=n)}svg(){if(this.shape instanceof s.Segment)return` L${this.shape.end.x},${this.shape.end.y}`;if(this.shape instanceof s.Arc){let e=this.shape,n,r=e.counterClockwise?"1":"0";if(s.Utils.EQ(e.sweep,2*Math.PI)){let i=e.counterClockwise?1:-1,l=new s.Arc(e.pc,e.r,e.startAngle,e.startAngle+i*Math.PI,e.counterClockwise),o=new s.Arc(e.pc,e.r,e.startAngle+i*Math.PI,e.endAngle,e.counterClockwise);return n="0",` A${l.r},${l.r} 0 ${n},${r} ${l.end.x},${l.end.y}
                    A${o.r},${o.r} 0 ${n},${r} ${o.end.x},${o.end.y}`}else return n=e.sweep<=Math.PI?"0":"1",` A${e.r},${e.r} 0 ${n},${r} ${e.end.x},${e.end.y}`}}toJSON(){return this.shape.toJSON()}}s.Edge=av;class cv extends Yu{constructor(e,n){super(e,n),this.setCircularLinks()}setCircularLinks(){this.isEmpty()||(this.last.next=this.first,this.first.prev=this.last)}[Symbol.iterator](){let e;return{next:()=>{let n=e||this.first,r=this.first?e?e===this.first:!1:!0;return e=n?n.next:void 0,{value:n,done:r}}}}append(e){return super.append(e),this.setCircularLinks(),this}insert(e,n){return super.insert(e,n),this.setCircularLinks(),this}remove(e){return super.remove(e),this}}class zn extends cv{constructor(e,...n){if(super(),this._box=void 0,this._orientation=void 0,n.length!==0){if(n.length===1){if(n[0]instanceof Array){let r=n[0];if(r.length===0)return;if(r.every(i=>i instanceof s.Point)){let i=zn.points2segments(r);this.shapes2face(e.edges,i)}else if(r.every(i=>i instanceof Array&&i.length===2)){let i=r.map(o=>new s.Point(o[0],o[1])),l=zn.points2segments(i);this.shapes2face(e.edges,l)}else if(r.every(i=>i instanceof s.Segment||i instanceof s.Arc))this.shapes2face(e.edges,r);else if(r.every(i=>i.name==="segment"||i.name==="arc")){let i=[];for(let l of r){let o;l.name==="segment"?o=new s.Segment(l):o=new s.Arc(l),i.push(o)}this.shapes2face(e.edges,i)}}else if(n[0]instanceof zn){let r=n[0];this.first=r.first,this.last=r.last;for(let i of r)e.edges.add(i)}else if(n[0]instanceof s.Circle)this.shapes2face(e.edges,[n[0].toArc(lh)]);else if(n[0]instanceof s.Box){let r=n[0];this.shapes2face(e.edges,[new s.Segment(new s.Point(r.xmin,r.ymin),new s.Point(r.xmax,r.ymin)),new s.Segment(new s.Point(r.xmax,r.ymin),new s.Point(r.xmax,r.ymax)),new s.Segment(new s.Point(r.xmax,r.ymax),new s.Point(r.xmin,r.ymax)),new s.Segment(new s.Point(r.xmin,r.ymax),new s.Point(r.xmin,r.ymin))])}}n.length===2&&n[0]instanceof s.Edge&&n[1]instanceof s.Edge&&(this.first=n[0],this.last=n[1],this.last.next=this.first,this.first.prev=this.last,this.setArcLength())}}get edges(){return this.toArray()}get shapes(){return this.edges.map(e=>e.shape.clone())}get box(){if(this._box===void 0){let e=new s.Box;for(let n of this)e=e.merge(n.box);this._box=e}return this._box}get perimeter(){return this.last.arc_length+this.last.length}pointAtLength(e){if(e>this.perimeter||e<0)return null;let n=null;for(let r of this)if(e>=r.arc_length&&(r===this.last||e<r.next.arc_length)){n=r.pointAtLength(e-r.arc_length);break}return n}static points2segments(e){let n=[];for(let r=0;r<e.length;r++)e[r].equalTo(e[(r+1)%e.length])||n.push(new s.Segment(e[r],e[(r+1)%e.length]));return n}shapes2face(e,n){for(let r of n){let i=new s.Edge(r);this.append(i),e.add(i)}}append(e){return super.append(e),this.setOneEdgeArcLength(e),e.face=this,this}insert(e,n){return super.insert(e,n),this.setOneEdgeArcLength(e),e.face=this,this}remove(e){return super.remove(e),this.setArcLength(),this}merge_with_next_edge(e){return e.shape.end.x=e.next.shape.end.x,e.shape.end.y=e.next.shape.end.y,this.remove(e.next),this}reverse(){let e=[],n=this.last;do n.shape=n.shape.reverse(),e.push(n),n=n.prev;while(n!==this.last);this.first=void 0,this.last=void 0;for(let r of e)this.first===void 0?(r.prev=r,r.next=r,this.first=r,this.last=r):(r.prev=this.last,this.last.next=r,this.last=r,this.last.next=this.first,this.first.prev=this.last),this.setOneEdgeArcLength(r);this._orientation!==void 0&&(this._orientation=void 0,this._orientation=this.orientation())}setArcLength(){for(let e of this)this.setOneEdgeArcLength(e),e.face=this}setOneEdgeArcLength(e){e===this.first?e.arc_length=0:e.arc_length=e.prev.arc_length+e.prev.length}area(){return Math.abs(this.signedArea())}signedArea(){let e=0,n=this.box.ymin;for(let r of this)e+=r.shape.definiteIntegral(n);return e}orientation(){if(this._orientation===void 0){let e=this.signedArea();s.Utils.EQ_0(e)?this._orientation=ol.NOT_ORIENTABLE:s.Utils.LT(e,0)?this._orientation=ol.CCW:this._orientation=ol.CW}return this._orientation}isSimple(e){return zn.getSelfIntersections(this,e,!0).length===0}static getSelfIntersections(e,n,r=!1){let i=[];for(let l of e){let o=n.search(l.box);for(let u of o){if(l===u||u.face!==e||l.shape instanceof s.Segment&&u.shape instanceof s.Segment&&(l.next===u||l.prev===u))continue;let a=l.shape.intersect(u.shape);for(let c of a)if(!(c.equalTo(l.start)&&c.equalTo(u.end)&&u===l.prev)&&!(c.equalTo(l.end)&&c.equalTo(u.start)&&u===l.next)&&(i.push(c),r))break;if(i.length>0&&r)break}if(i.length>0&&r)break}return i}findEdgeByPoint(e){let n;for(let r of this)if(!e.equalTo(r.shape.start)&&(e.equalTo(r.shape.end)||r.shape.contains(e))){n=r;break}return n}toPolygon(){return new s.Polygon(this.shapes)}toJSON(){return this.edges.map(e=>e.toJSON())}svg(){let e=`M${this.first.start.x},${this.first.start.y}`;for(let n of this)e+=n.svg();return e+=" z",e}}s.Face=zn;class ta extends qt{constructor(...e){if(super(),this.pt=new s.Point,this.norm=new s.Vector(0,1),e.length!==0&&(e.length>=1&&e[0]instanceof s.Point&&(this.pt=e[0].clone()),e.length!==1)){if(e.length===2&&e[1]instanceof s.Vector){this.norm=e[1].clone();return}throw Y.ILLEGAL_PARAMETERS}}clone(){return new ta(this.pt,this.norm)}get slope(){return new s.Vector(this.norm.y,-this.norm.x).slope}get box(){let e=this.slope;return new s.Box(e>Math.PI/2&&e<3*Math.PI/2?Number.NEGATIVE_INFINITY:this.pt.x,e>=0&&e<=Math.PI?this.pt.y:Number.NEGATIVE_INFINITY,e>=Math.PI/2&&e<=3*Math.PI/2?this.pt.x:Number.POSITIVE_INFINITY,e>=Math.PI&&e<=2*Math.PI||e===0?this.pt.y:Number.POSITIVE_INFINITY)}get start(){return this.pt}get end(){}get length(){return Number.POSITIVE_INFINITY}contains(e){if(this.pt.equalTo(e))return!0;let n=new s.Vector(this.pt,e);return s.Utils.EQ_0(this.norm.dot(n))&&s.Utils.GE(n.cross(this.norm),0)}coord(e){return Rh(e.x,e.y).cross(this.norm)}split(e){return this.contains(e)?this.pt.equalTo(e)?[this]:[new s.Segment(this.pt,e),new s.Ray(e,this.norm)]:[]}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Segment)return Zu(this,e);if(e instanceof s.Arc)return Ju(this,e);if(e instanceof s.Line)return Sh(this,e);if(e instanceof s.Ray)return L0(this,e);if(e instanceof s.Circle)return wh(this,e);if(e instanceof s.Box)return C0(this,e);if(e instanceof s.Polygon)return xh(this,e)}rotate(e,n=new s.Point){return new s.Ray(this.pt.rotate(e,n),this.norm.rotate(e))}transform(e){return new s.Ray(this.pt.transform(e),this.norm.clone())}get name(){return"ray"}svg(e,n={}){let r=new s.Line(this.pt,this.norm),i=Zn(r,e);return i=i.filter(o=>this.contains(o)),i.length===0||i.length===2?"":new s.Segment(this.pt,i[0]).svg(n)}}s.Ray=ta;const fv=(...t)=>new s.Ray(...t);s.ray=fv;let dv=class Sn{constructor(){this.faces=new s.PlanarSet,this.edges=new s.PlanarSet;let e=[...arguments];if(e.length===1&&(e[0]instanceof Array&&e[0].length>0||e[0]instanceof s.Circle||e[0]instanceof s.Box)){let n=e[0];if(e[0]instanceof Array&&e[0].every(r=>r instanceof Array))if(n.every(r=>r instanceof Array&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"))this.faces.add(new s.Face(this,n));else for(let r of n)if(r instanceof Array&&r[0]instanceof Array&&r[0].every(i=>i instanceof Array&&i.length===2&&typeof i[0]=="number"&&typeof i[1]=="number"))for(let i of r)this.faces.add(new s.Face(this,i));else this.faces.add(new s.Face(this,r));else this.faces.add(new s.Face(this,n))}}get box(){return[...this.faces].reduce((e,n)=>e.merge(n.box),new s.Box)}get vertices(){return[...this.edges].map(e=>e.start)}clone(){let e=new Sn;for(let n of this.faces)e.addFace(n.shapes);return e}isEmpty(){return this.edges.size===0}isValid(){let e=!0;for(let n of this.faces)if(!n.isSimple(this.edges)){e=!1;break}return e}area(){let e=[...this.faces].reduce((n,r)=>n+r.signedArea(),0);return Math.abs(e)}addFace(...e){let n=new s.Face(this,...e);return this.faces.add(n),n}deleteFace(e){for(let n of e)this.edges.delete(n);return this.faces.delete(e)}recreateFaces(){this.faces.clear();for(let r of this.edges)r.face=null;let e,n=!0;for(;n;){n=!1;for(let r of this.edges)if(r.face===null){e=r,n=!0;break}if(n){let r=e;do r=r.next;while(r.next!==e);this.addFace(e,r)}}}removeChain(e,n,r){if(r.next===n){this.deleteFace(e);return}for(let i=n;i!==r.next;i=i.next)if(e.remove(i),this.edges.delete(i),e.isEmpty()){this.deleteFace(e);break}}addVertex(e,n){let r=n.shape.split(e);if(r[0]===null)return n.prev;if(r[1]===null)return n;let i=new s.Edge(r[0]),l=n.prev;return n.face.insert(i,l),this.edges.delete(n),this.edges.add(i),n.shape=r[1],this.edges.add(n),i}removeEndVertex(e){const n=e.next;n!==e&&(e.face.merge_with_next_edge(e),this.edges.delete(n))}cut(e){let n=this.clone(),r={int_points1:[],int_points2:[],int_points1_sorted:[],int_points2_sorted:[]};for(let o of e.edges)for(let u of n.edges){let a=vh(o,u);for(let c of a)Jn(o,c,r.int_points1),Jn(u,c,r.int_points2)}if(r.int_points1.length===0)return n;r.int_points1_sorted=kt(r.int_points1),r.int_points2_sorted=kt(r.int_points2),er(e,r.int_points1_sorted),er(n,r.int_points2_sorted),bu(r),r.int_points1_sorted=kt(r.int_points1),r.int_points2_sorted=kt(r.int_points2),Fs(r.int_points1),Bs(r.int_points1,n);for(let o of r.int_points1_sorted)o.edge_before&&o.edge_after&&o.edge_before.bv===o.edge_after.bv&&(r.int_points2[o.id]=-1,o.id=-1);if(r.int_points1=r.int_points1.filter(o=>o.id>=0),r.int_points2=r.int_points2.filter(o=>o.id>=0),r.int_points1.forEach((o,u)=>{o.id=u}),r.int_points2.forEach((o,u)=>{o.id=u}),r.int_points1.length===0)return n;r.int_points1_sorted=kt(r.int_points1),r.int_points2_sorted=kt(r.int_points2);let i,l;for(let o=1;o<r.int_points1_sorted.length;o++)if(l=r.int_points1_sorted[o],i=r.int_points1_sorted[o-1],l.edge_before&&l.edge_before.bv===Ol){let u=i.edge_after,a=l.edge_before,c=e.getChain(u,a);Cc(r.int_points2[i.id],r.int_points2[l.id],c),c.forEach(f=>n.edges.add(f)),c=c.reverse().map(f=>new s.Edge(f.shape.reverse()));for(let f=0;f<c.length-1;f++)c[f].next=c[f+1],c[f+1].prev=c[f];Cc(r.int_points2[l.id],r.int_points2[i.id],c),c.forEach(f=>n.edges.add(f))}return n.recreateFaces(),n}cutWithLine(e){let n=new _n([e]);return this.cut(n)}findEdgeByPoint(e){let n;for(let r of this.faces)if(n=r.findEdgeByPoint(e),n!==void 0)break;return n}splitToIslands(){if(this.isEmpty())return[];let e=this.toArray();e.sort((i,l)=>l.area()-i.area());let n=[...e[0].faces][0].orientation(),r=e.filter(i=>[...i.faces][0].orientation()===n);for(let i of e){let l=[...i.faces][0];if(l.orientation()!==n){for(let o of r)if(l.shapes.every(u=>o.contains(u))){o.addFace(l.shapes);break}}}return r}reverse(){for(let e of this.faces)e.reverse();return this}contains(e){if(e instanceof s.Point){let n=$r(this,e);return n===Ol||n===rt}else return Nh(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2polygon(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle||e instanceof s.Line||e instanceof s.Segment||e instanceof s.Arc){let[n,r]=s.Distance.shape2polygon(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Polygon){let n=[Number.POSITIVE_INFINITY,new s.Segment],r,i;for(let l of this.edges){let o=n[0];[r,i]=s.Distance.shape2planarSet(l.shape,e.edges,o),s.Utils.LT(r,o)&&(n=[r,i])}return n}}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return vi(e,this);if(e instanceof s.Ray)return xh(e,this);if(e instanceof s.Circle)return mh(e,this);if(e instanceof s.Segment)return Ku(e,this);if(e instanceof s.Arc)return Xu(e,this);if(e instanceof s.Polygon)return T0(e,this);if(e instanceof s.Multiline)return P0(e,this)}translate(e){let n=new Sn;for(let r of this.faces)n.addFace(r.shapes.map(i=>i.translate(e)));return n}rotate(e=0,n=new s.Point){let r=new Sn;for(let i of this.faces)r.addFace(i.shapes.map(l=>l.rotate(e,n)));return r}scale(e,n){let r=new Sn;for(let i of this.faces)r.addFace(i.shapes.map(l=>l.scale(e,n)));return r}transform(e=new s.Matrix){let n=new Sn;for(let r of this.faces)n.addFace(r.shapes.map(i=>i.transform(e)));return n}toJSON(){return[...this.faces].map(e=>e.toJSON())}toArray(){return[...this.faces].map(e=>e.toPolygon())}dpath(){return[...this.faces].reduce((e,n)=>e+n.svg(),"")}svg(e={}){let n=`
<path ${vn({fillRule:"evenodd",fill:"lightcyan",...e})} d="`;for(let r of this.faces)n+=`
${r.svg()}`;return n+=`" >
</path>`,n}};s.Polygon=dv;const hv=(...t)=>new s.Polygon(...t);s.polygon=hv;const{Circle:jo,Line:zc,Point:Rc,Vector:Qi,Utils:Vo}=s;class Hr{constructor(e){this.circle=e}get inversion_circle(){return this.circle}static inversePoint(e,n){const r=new Qi(e.pc,n),i=e.r*e.r,l=r.dot(r);return Vo.EQ_0(l)?new Rc(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY):e.pc.translate(r.multiply(i/l))}static inverseCircle(e,n){const r=e.pc.distanceTo(n.pc)[0];if(Vo.EQ(r,n.r)){let i=e.r*e.r/(2*n.r),l=new Qi(e.pc,n.pc);l=l.normalize();let o=e.pc.translate(l.multiply(i));return new zc(o,l)}else{let i=new Qi(e.pc,n.pc),l=e.r*e.r/(i.dot(i)-n.r*n.r),o=e.pc.translate(i.multiply(l)),u=Math.abs(l)*n.r;return new jo(o,u)}}static inverseLine(e,n){const[r,i]=e.pc.distanceTo(n);if(Vo.EQ_0(r))return n.clone();{let l=e.r*e.r/(2*r),o=new Qi(e.pc,i.end);return o=o.multiply(l/r),new jo(e.pc.translate(o),l)}}inverse(e){if(e instanceof Rc)return Hr.inversePoint(this.circle,e);if(e instanceof jo)return Hr.inverseCircle(this.circle,e);if(e instanceof zc)return Hr.inverseLine(this.circle,e)}}s.Inversion=Hr;const pv=t=>new s.Inversion(t);s.inversion=pv;class E{static point2point(e,n){return e.distanceTo(n)}static point2line(e,n){let r=e.projectionOn(n);return[new s.Vector(e,r).length,new s.Segment(e,r)]}static point2circle(e,n){let[r,i]=e.distanceTo(n.center);if(s.Utils.EQ_0(r))return[n.r,new s.Segment(e,n.toArc().start)];{let l=Math.abs(r-n.r),o=new s.Vector(n.pc,e).normalize().multiply(n.r),u=n.pc.translate(o);return[l,new s.Segment(e,u)]}}static point2segment(e,n){if(n.start.equalTo(n.end))return E.point2point(e,n.start);let r=new s.Vector(n.start,n.end),i=new s.Vector(n.start,e),l=new s.Vector(n.end,e),o=r.dot(i),u=-r.dot(l),a,c;if(s.Utils.GE(o,0)&&s.Utils.GE(u,0)){let f=n.tangentInStart();return a=Math.abs(f.cross(i)),c=n.start.translate(f.multiply(f.dot(i))),[a,new s.Segment(e,c)]}else return o<0?e.distanceTo(n.start):e.distanceTo(n.end)}static point2arc(e,n){let r=new s.Circle(n.pc,n.r),i=[],l,o;return[l,o]=E.point2circle(e,r),o.end.on(n)&&i.push(E.point2circle(e,r)),i.push(E.point2point(e,n.start)),i.push(E.point2point(e,n.end)),E.sort(i),i[0]}static point2edge(e,n){return n.shape instanceof s.Segment?E.point2segment(e,n.shape):E.point2arc(e,n.shape)}static segment2line(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=[];return i.push(E.point2line(e.start,n)),i.push(E.point2line(e.end,n)),E.sort(i),i[0]}static segment2segment(e,n){let r=no(e,n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=[],l,o;return[l,o]=E.point2segment(n.start,e),i.push([l,o.reverse()]),[l,o]=E.point2segment(n.end,e),i.push([l,o.reverse()]),i.push(E.point2segment(e.start,n)),i.push(E.point2segment(e.end,n)),E.sort(i),i[0]}static segment2circle(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Line(e.ps,e.pe),[l,o]=E.point2line(n.center,i);if(s.Utils.GE(l,n.r)&&o.end.on(e))return E.point2circle(o.end,n);{let[u,a]=E.point2circle(e.start,n),[c,f]=E.point2circle(e.end,n);return s.Utils.LT(u,c)?[u,a]:[c,f]}}static segment2arc(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Line(e.ps,e.pe),l=new s.Circle(n.pc,n.r),[o,u]=E.point2line(l.center,i);if(s.Utils.GE(o,l.r)&&u.end.on(e)){let[m,g]=E.point2circle(u.end,l);if(g.end.on(n))return[m,g]}let a=[];a.push(E.point2arc(e.start,n)),a.push(E.point2arc(e.end,n));let c,f;return[c,f]=E.point2segment(n.start,e),a.push([c,f.reverse()]),[c,f]=E.point2segment(n.end,e),a.push([c,f.reverse()]),E.sort(a),a[0]}static circle2circle(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];if(e.center.equalTo(n.center)){let i=e.toArc(),l=n.toArc();return E.point2point(i.start,l.start)}else{let i=new s.Line(e.center,n.center),l=i.intersect(e),o=i.intersect(n),u=[];return u.push(E.point2point(l[0],o[0])),u.push(E.point2point(l[0],o[1])),u.push(E.point2point(l[1],o[0])),u.push(E.point2point(l[1],o[1])),E.sort(u),u[0]}}static circle2line(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let[i,l]=E.point2line(e.center,n),[o,u]=E.point2circle(l.end,e);return u=u.reverse(),[o,u]}static arc2line(e,n){let r=n.intersect(e);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Circle(e.center,e.r),[l,o]=E.point2line(i.center,n);if(s.Utils.GE(l,i.r)){let[u,a]=E.point2circle(o.end,i);if(a.end.on(e))return[u,a]}else{let u=[];return u.push(E.point2line(e.start,n)),u.push(E.point2line(e.end,n)),E.sort(u),u[0]}}static arc2circle(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Circle(e.center,e.r),[l,o]=E.circle2circle(i,n);if(o.start.on(e))return[l,o];{let u=[];return u.push(E.point2circle(e.start,n)),u.push(E.point2circle(e.end,n)),E.sort(u),u[0]}}static arc2arc(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Circle(e.center,e.r),l=new s.Circle(n.center,n.r),[o,u]=E.circle2circle(i,l);if(u.start.on(e)&&u.end.on(n))return[o,u];{let a=[],c,f;return[c,f]=E.point2arc(e.start,n),f.end.on(n)&&a.push([c,f]),[c,f]=E.point2arc(e.end,n),f.end.on(n)&&a.push([c,f]),[c,f]=E.point2arc(n.start,e),f.end.on(e)&&a.push([c,f.reverse()]),[c,f]=E.point2arc(n.end,e),f.end.on(e)&&a.push([c,f.reverse()]),[c,f]=E.point2point(e.start,n.start),a.push([c,f]),[c,f]=E.point2point(e.start,n.end),a.push([c,f]),[c,f]=E.point2point(e.end,n.start),a.push([c,f]),[c,f]=E.point2point(e.end,n.end),a.push([c,f]),E.sort(a),a[0]}}static point2polygon(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of n.edges){let[l,o]=E.point2edge(e,i);s.Utils.LT(l,r[0])&&(r=[l,o])}return r}static shape2polygon(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of n.edges){let[l,o]=e.distanceTo(i.shape);s.Utils.LT(l,r[0])&&(r=[l,o])}return r}static polygon2polygon(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of e.edges)for(let l of n.edges){let[o,u]=i.shape.distanceTo(l.shape);s.Utils.LT(o,r[0])&&(r=[o,u])}return r}static box2box_minmax(e,n){let r=Math.max(Math.max(e.xmin-n.xmax,0),Math.max(n.xmin-e.xmax,0)),i=Math.max(Math.max(e.ymin-n.ymax,0),Math.max(n.ymin-e.ymax,0)),l=r*r+i*i,o=e.merge(n),u=o.xmax-o.xmin,a=o.ymax-o.ymin,c=u*u+a*a;return[l,c]}static minmax_tree_process_level(e,n,r,i){let l,o;for(let f of n)[l,o]=E.box2box_minmax(e.box,f.item.key),f.item.value instanceof s.Edge?i.insert([l,o],f.item.value.shape):i.insert([l,o],f.item.value),s.Utils.LT(o,r)&&(r=o);if(n.length===0)return r;let u=n.map(f=>f.left.isNil()?void 0:f.left).filter(f=>f!==void 0),a=n.map(f=>f.right.isNil()?void 0:f.right).filter(f=>f!==void 0),c=[...u,...a].filter(f=>{let[m,g]=E.box2box_minmax(e.box,f.max);return s.Utils.LE(m,r)});return r=E.minmax_tree_process_level(e,c,r,i),r}static minmax_tree(e,n,r){let i=new ui,l=[n.index.root],o=r<Number.POSITIVE_INFINITY?r*r:Number.POSITIVE_INFINITY;return o=E.minmax_tree_process_level(e,l,o,i),i}static minmax_tree_calc_distance(e,n,r){let i,l;if(n!=null&&!n.isNil()){if([i,l]=E.minmax_tree_calc_distance(e,n.left,r),l)return[i,l];if(s.Utils.LT(i[0],Math.sqrt(n.item.key.low)))return[i,!0];let[o,u]=E.distance(e,n.item.value);return s.Utils.LT(o,i[0])&&(i=[o,u]),[i,l]=E.minmax_tree_calc_distance(e,n.right,i),[i,l]}return[r,!1]}static shape2planarSet(e,n,r=Number.POSITIVE_INFINITY){let i=[r,new s.Segment],l=!1;if(n instanceof s.PlanarSet){let o=E.minmax_tree(e,n,r);[i,l]=E.minmax_tree_calc_distance(e,o.root,i)}return i}static sort(e){e.sort((n,r)=>s.Utils.LT(n[0],r[0])?-1:s.Utils.GT(n[0],r[0])?1:0)}static distance(e,n){return e.distanceTo(n)}static shape2multiline(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of n){let[l,o]=E.distance(e,i.shape);s.Utils.LT(l,r[0])&&(r=[l,o])}return r}static multiline2multiline(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of e)for(let l of n){let[o,u]=E.distance(i.shape,l.shape);s.Utils.LT(o,r[0])&&(r=[o,u])}return r}}s.Distance=E;const{Multiline:gv,Point:Fh,Segment:mv,Polygon:Bh}=s;function na(t){return new Fh(t.split(" ").map(Number))}function jh(t){return t.split(", ").map(na)}function ra(t){const e=jh(t);let n=[];for(let r=0;r<e.length-1;r++)n.push(new mv(e[r],e[r+1]));return new gv(n)}function vv(t){return t.replace(/\(\(/,"").replace(/\)\)$/,"").split("), (").map(ra)}function Vh(t){const e=t.replace(/\(\(/,"").replace(/\)\)$/,"").split("), ("),n=new Bh;let r;return e.forEach((i,l)=>{let o=i.split(", ").map(a=>new Fh(a.split(" ").map(Number)));const u=n.addFace(o);l===0?r=u.orientation():u.orientation()===r&&u.reverse()}),n}function yv(t){const n=t.split(/\)\), \(\(/).map(l=>"(("+l+"))").map(Vh),r=new Bh;return n.reduce((l,o)=>[...l,...o==null?void 0:o.faces],[]).forEach(l=>r.addFace([...l==null?void 0:l.shapes])),r}function _v(t){if(t.startsWith("POLYGON")){const e=t.replace(/^POLYGON /,"");return Vh(e)}else{const e=t.replace(/^MULTIPOLYGON \(\(\((.*)\)\)\)$/,"$1");return yv(e)}}function wv(t){return t.split(`
`).map(n=>n.match(/\(([^)]+)\)/)[1]).map(na)}function Sv(t){return t.split(`
`).map(n=>n.match(/\(([^)]+)\)/)[1]).map(ra).reduce((n,r)=>[...n,...r],[])}function $h(t){if(t.startsWith("POINT")){const e=t.replace(/^POINT \(/,"").replace(/\)$/,"");return na(e)}else if(t.startsWith("MULTIPOINT")){const e=t.replace(/^MULTIPOINT \(/,"").replace(/\)$/,"");return jh(e)}else if(t.startsWith("LINESTRING")){const e=t.replace(/^LINESTRING \(/,"").replace(/\)$/,"");return ra(e)}else if(t.startsWith("MULTILINESTRING")){const e=t.replace(/^MULTILINESTRING /,"");return vv(e)}else{if(t.startsWith("POLYGON")||t.startsWith("MULTIPOLYGON"))return _v(t);if(t.startsWith("GEOMETRYCOLLECTION")){const e=/(?<type>POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON) \((?:[^\(\)]|\([^\)]*\))*\)/g,n=t.match(e);return n[0].startsWith("GEOMETRYCOLLECTION")&&(n[0]=n[0].replace("GEOMETRYCOLLECTION (","")),n.map($h).map(i=>i instanceof Array?i:[i]).reduce((i,l)=>[...i,...l],[])}else{if(Hh(t))return wv(t);if(Wh(t))return Sv(t)}}return[]}function Hh(t){var e;return(e=t.split(`
`))==null?void 0:e.every(n=>n.includes("POINT"))}function Wh(t){var e;return(e=t.split(`
`))==null?void 0:e.every(n=>n.includes("LINESTRING"))}function xv(t){return t.startsWith("POINT")||Hh(t)||t.startsWith("LINESTRING")||Wh(t)||t.startsWith("MULTILINESTRING")||t.startsWith("POLYGON")||t.startsWith("MULTIPOINT")||t.startsWith("MULTIPOLYGON")||t.startsWith("GEOMETRYCOLLECTION")}s.isWktString=xv;s.parseWKT=$h;s.BooleanOperations=V0;s.Relations=Oh;function ft(t){const e=xi(),n=Wt();return new H((t.x-e.x)*n,(t.y-e.y)*n)}function oo(t){const e=xi(),n=Wt();return new H(t.x/n+e.x,t.y/n+e.y)}var V=(t=>(t.canvasSize="canvasSize",t.canvas="canvas",t.context="context",t.screenMouseLocation="screenMouseLocation",t.activeTool="activeTool",t.entities="entities",t.activeEntity="activeEntity",t.shouldDrawCursor="shouldDrawCursor",t.helperEntities="helperEntities",t.debugEntities="debugEntities",t.angleStep="angleStep",t.screenOffset="screenOffset",t.screenScale="screenScale",t.panStartLocation="panStartLocation",t.snapPoint="snapPoint",t.snapPointOnAngleGuide="snapPointOnAngleGuide",t.hoveredSnapPoints="hoveredSnapPoints",t.lastDrawTimestamp="lastDrawTimestamp",t))(V||{});function Ev(){let t=[],e=t.length;function n(){return t[e-1]}return{push:r=>(t.length=e,t[e++]=r,console.log("stack push",JSON.stringify(t,null,2)),n()),replace:r=>(t[e-1]=r,console.log("stack replace",JSON.stringify(t,null,2)),n()),peek:()=>n(),undo:()=>(e>1&&(e-=1),console.log("stack undo",JSON.stringify(t,null,2)),n()),redo:()=>(e<t.length&&(e+=1),console.log("stack redo",JSON.stringify(t,null,2)),n()),clear:r=>{e=e-t.slice(0,e).filter(i=>i.variable===r).length,t=t.filter(i=>i.variable!==r)}}}function pn(t){const e=[];for(const n of t)n&&e.push(n);return e}function Pv(t,e,n){return t<e?n==="asc"?-1:1:t>e?n==="asc"?1:-1:0}function so(t,e){return t.slice().sort((n,r)=>{for(let i=0;i<e.length;i++){const l=e[i],o=typeof l=="function",u=o?l(n):n[l],a=o?l(r):r[l],c=Pv(u,a,"asc");if(c!==0)return c}return 0})}function Si(t,e){const n=[];for(const r of t)n.every(l=>!e(l,r))&&n.push(r);return n}function Uc(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(t.toString()!=="[object Object]")return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Tv="[object RegExp]",kv="[object String]",Cv="[object Number]",Lv="[object Boolean]",Dc="[object Arguments]",Iv="[object Symbol]",Av="[object Date]",Nv="[object Map]",Ov="[object Set]",Mv="[object Array]",zv="[object Function]",Rv="[object ArrayBuffer]",$o="[object Object]",Uv="[object Error]",Dv="[object DataView]",Fv="[object Uint8Array]",Bv="[object Uint8ClampedArray]",jv="[object Uint16Array]",Vv="[object Uint32Array]",$v="[object BigUint64Array]",Hv="[object Int8Array]",Wv="[object Int16Array]",Qv="[object Int32Array]",Gv="[object BigInt64Array]",Yv="[object Float32Array]",qv="[object Float64Array]";function Fc(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Bc(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function Kv(t,e){if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return ht(t,e)}return ht(t,e)}function ht(t,e,n){if(Object.is(t,e))return!0;let r=Bc(t),i=Bc(e);if(r===Dc&&(r=$o),i===Dc&&(i=$o),r!==i)return!1;switch(r){case kv:return t.toString()===e.toString();case Cv:{const u=t.valueOf(),a=e.valueOf();return u===a||Number.isNaN(u)&&Number.isNaN(a)}case Lv:case Av:case Iv:return Object.is(t.valueOf(),e.valueOf());case Tv:return t.source===e.source&&t.flags===e.flags;case zv:return t===e}n=n??new Map;const l=n.get(t),o=n.get(e);if(l!=null&&o!=null)return l===e;n.set(t,e),n.set(e,t);try{switch(r){case Nv:{if(t.size!==e.size)return!1;for(const[u,a]of t.entries())if(!e.has(u)||!ht(a,e.get(u),n))return!1;return!0}case Ov:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),a=Array.from(e.values());for(let c=0;c<u.length;c++){const f=u[c],m=a.findIndex(g=>ht(f,g,n));if(m===-1)return!1;a.splice(m,1)}return!0}case Mv:case Fv:case Bv:case jv:case Vv:case $v:case Hv:case Wv:case Qv:case Gv:case Yv:case qv:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!ht(t[u],e[u],n))return!1;return!0}case Rv:return t.byteLength!==e.byteLength?!1:ht(new Uint8Array(t),new Uint8Array(e),n);case Dv:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:ht(t.buffer,e.buffer,n);case Uv:return t.name===e.name&&t.message===e.message;case $o:{if(!(ht(t.constructor,e.constructor,n)||Uc(t)&&Uc(e)))return!1;const a=[...Object.keys(t),...Fc(t)],c=[...Object.keys(e),...Fc(e)];if(a.length!==c.length)return!1;for(let f=0;f<a.length;f++){const m=a[f],g=t[m];if(!Object.prototype.hasOwnProperty.call(e,m))return!1;const v=e[m];if(!ht(g,v,n))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}let Qh=new H(0,0),Gh=null,ia=new H(0,0),Yh=W.Line,ai=[],qh=[],uo=[],zl=null,Kh=!1,Xh=[],Zh=[],Rl=45,Ul=new H(0,0),Dl=1,Jh=null,bh=null,ep=null,tp=[],np=0;const rp=()=>Qh,Xv=()=>Gh,ip=()=>ia,lt=()=>Yh,Ae=()=>ai,Ho=()=>uo,cr=()=>zl,Zv=()=>Kh,Jv=()=>Xh,bv=()=>Zh,qs=()=>Rl,xi=()=>Ul,Wt=()=>Dl,e1=()=>Jh,la=()=>bh,lp=()=>ep,oa=()=>tp,t1=()=>np,fr=()=>oo(ia),n1=()=>ai.filter(t=>!uo.includes(t.id)),Hn=t=>uo.includes(t.id),sa=t=>qh.includes(t.id),r1=t=>Qh=t,i1=t=>Gh=t,l1=t=>ia=t,Nr=(t,e=!0)=>{e&&cp(V.activeTool),Yh=t},dr=t=>{Ei(V.entities,ai),ai=t},de=t=>{Ei(V.activeEntity,zl),zl=t},ci=t=>qh=t,Pe=t=>uo=t,ua=t=>Kh=t,o1=t=>Xh=t,aa=t=>Zh=t,s1=(t,e=!0)=>{e&&cp(V.activeTool),Ei(V.angleStep,Rl),Rl=t},op=t=>{Ei(V.screenOffset,Ul),Ul=t},u1=t=>{Ei(V.screenScale,Dl),Dl=t},ca=t=>Jh=t,a1=t=>bh=t,c1=t=>ep=t,f1=t=>tp=t,d1=t=>np=t,tr=t=>{const e=Ae().filter(n=>n.id!==t.id);return dr(e),e},ao=(...t)=>{const e=[...Ae(),...t];return dr(e),e},h1=[V.activeTool,V.angleStep],p1=[V.entities,V.activeEntity,V.angleStep,V.screenOffset,V.screenScale],g1=[V.angleStep,V.screenOffset,V.screenScale],Rn=Ev();function Ei(t,e){if(!p1.includes(t))return;const n=Rn.peek();if(!Kv(e,n==null?void 0:n.value)){if(t!==V.activeEntity&&Rn.clear(V.activeEntity),g1.includes(t)&&(n==null?void 0:n.variable)===t){Rn.replace({variable:t,value:e});return}Rn.push({variable:t,value:e})}}function sp(t){const e=t.variable,n=t.value;switch(e){case V.entities:ai=n;break;case V.activeEntity:zl=n;break;case V.angleStep:Rl=n;break;case V.screenOffset:Ul=n;break;case V.screenScale:Dl=n;break}}function up(){const t=Rn.undo();t&&sp(t)}function ap(){const t=Rn.redo();t&&sp(t)}function cp(t){h1.includes(t)&&(console.log("triggering react update for: ",t),window.dispatchEvent(new CustomEvent(t)))}const Ks=1e-6,Gi=10,Yi=30,m1="#111",v1="#fff",y1="#666666",_1="#FFFF00",fa=15,w1=15,da=15,R=15,ha=1e3,S1=3,x1="#b6ff9a",E1="#6899f3",P1=.1;var fp={exports:{}};(function(t,e){(function(n,r){r()})(mr,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,m){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){a(g.response,f,m)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function l(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof mr=="object"&&mr.global===mr?mr:void 0,u=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(c,f,m){var g=o.URL||o.webkitURL,v=document.createElement("a");f=f||c.name||"download",v.download=f,v.rel="noopener",typeof c=="string"?(v.href=c,v.origin===location.origin?l(v):i(v.href)?r(c,f,m):l(v,v.target="_blank")):(v.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(v.href)},4e4),setTimeout(function(){l(v)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,m){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,m),f);else if(i(c))r(c,f,m);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){l(g)})}}:function(c,f,m,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,m);var v=c.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||v&&w||u)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var h=I.result;h=_?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=h:location=h,g=null},I.readAsDataURL(c)}else{var p=o.URL||o.webkitURL,d=p.createObjectURL(c);g?g.location=d:location.href=d,g=null,setTimeout(function(){p.revokeObjectURL(d)},4e4)}});o.saveAs=a.saveAs=a,t.exports=a})})(fp);var T1=fp.exports;function k1(t,e){let n=e.x,r=e.y,i=0,l=0;const o=[];t.forEach(c=>{const f=c.getBoundingBox();f&&(n=Math.min(n,f.xmin),r=Math.min(r,f.ymin),i=Math.max(i,f.xmax),l=Math.max(l,f.ymax))}),console.log("exporting svg",o);const u=i-n+Gi*2,a=l-r+Gi*2;return t.forEach(c=>{const f=c.getShape();if(!f)return;const g=f.translate(new zh(new H(n,r),new H(Gi,Gi))).svg();g&&o.push(g)}),`
      <svg width="${u}" height="${a}" xmlns="http://www.w3.org/2000/svg">
        <rect x="0" y="0" width="${u}" height="${a}" fill="white" />
        ${o.join("")}
      </svg>
    `}function C1(){const t=Ae(),e=rp(),n=k1(t,e),r=new Blob([n],{type:"text/svg;charset=utf-8"});T1.saveAs(r,"open-web-cad--drawing.svg")}const L1=()=>{const[t,e]=O.useState(W.Line),[n,r]=O.useState(45),i=O.useCallback(()=>{console.log("fetching state updates from outside: ",{activeTool:lt(),angleStep:qs()}),e(lt()),r(qs())},[]);O.useEffect(()=>(window.addEventListener(V.activeTool,i),window.addEventListener(V.angleStep,i),()=>{window.removeEventListener(V.activeTool,i),window.removeEventListener(V.angleStep,i)}),[i]);const l=O.useCallback(u=>{console.log("set active tool: ",u),e(u),Nr(u,!1),de(null),Pe([])},[]),o=O.useCallback(u=>{r(u),s1(u,!1)},[]);return B.jsxs("div",{className:"controls absolute top-0 left-0 flex flex-col gap-1 m-1",children:[B.jsx(_e,{title:"Select (s)",icon:nt.Direction,onClick:()=>l(W.Select),active:t===W.Select}),B.jsx(_e,{title:"Line (l)",icon:nt.Line,onClick:()=>l(W.Line),active:t===W.Line}),B.jsx(_e,{title:"Rectangle (r)",icon:nt.Square,onClick:()=>l(W.Rectangle),active:t===W.Rectangle}),B.jsx(_e,{title:"Circle (c)",icon:nt.Circle,onClick:()=>l(W.Circle),active:t===W.Circle}),B.jsx(_e,{className:"mt-2",title:"Undo (ctrl + z)",icon:nt.AntiClockwise,onClick:()=>up()}),B.jsx(_e,{title:"Redo (ctrl + shift + z)",icon:nt.Clockwise,onClick:()=>ap()}),B.jsx(_e,{className:"mt-2",title:"Delete segments",icon:nt.Crop,onClick:()=>l(W.Eraser),active:t===W.Eraser}),B.jsxs(s0,{className:"mt-2",title:"Snap angles",label:n+"°",children:[B.jsx(_e,{title:"Add guide every 5 degrees",label:"5°",onClick:()=>o(5),active:n===5}),B.jsx(_e,{title:"Add guide every 15 degrees",label:"15°",onClick:()=>o(15),active:n===15}),B.jsx(_e,{title:"Add guide every 30 degrees",label:"30°",onClick:()=>o(30),active:n===30}),B.jsx(_e,{title:"Add guide every 45 degrees",label:"45°",onClick:()=>o(45),active:n===45}),B.jsx(_e,{title:"Add guide every 90 degrees",label:"90°",onClick:()=>o(90),active:n===90})]}),B.jsx(_e,{className:"mt-2",title:"Export SVG",label:"SVG",onClick:()=>C1()}),B.jsx(_e,{className:"mt-2",title:"Github",icon:nt.Github,onClick:()=>window.open("https://github.com/bertyhell/openwebcad","_blank")})]})};function I1(){return B.jsx("div",{children:B.jsx(L1,{})})}var F=(t=>(t.AngleGuide="AngleGuide",t.LineEndPoint="LineEndPoint",t.Intersection="Intersection",t.CircleCenter="CircleCenter",t.CircleCardinal="CircleCardinal",t.CircleTangent="CircleTangent",t.LineMidPoint="LineMidPoint",t.Point="Point",t))(F||{}),Fl=(t=>(t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t))(Fl||{});function jc(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];for(let i=n;i<t.length;i++){if(n===i)continue;const l=t[i];e.push(...r.getIntersections(l))}}return e}function on(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Xs(t,e){let n=null,r=1/0;return t.forEach(i=>{const l=on(i.point,e);l<r&&(r=l,n=i)}),{distance:r,snapPoint:n}}function Zs(t,e,n){const{distance:r,snapPoint:i}=Xs(t.filter(u=>u.type!==F.AngleGuide),e);if(r<n)return i;const{distance:l,snapPoint:o}=Xs(t.filter(u=>u.type===F.AngleGuide),e);return l<n?o:null}var je=(t=>(t.Line="Line",t.Circle="Circle",t.Arc="Arc",t.Rectangle="Rectangle",t.SelectionRectangle="SelectionRectangle",t.Point="Point",t))(je||{});function be(t,e){return Math.abs(t.x-e.x)<Ks&&Math.abs(t.y-e.y)<Ks}class nr{constructor(e,n){re(this,"id",crypto.randomUUID());re(this,"segment",null);re(this,"startPoint",null);e instanceof sl?(this.startPoint=e.start,this.segment=e):e&&n?(this.startPoint=e,this.segment=new sl(e,n)):e&&(this.startPoint=e)}send(e){if(this.startPoint){if(!this.segment)return this.segment=new sl(this.startPoint,e),!0}else return this.startPoint=e,!1;return!0}draw(e){if(!this.startPoint)return;let n,r;this.segment?(n=this.segment.start,r=this.segment.end):(n=this.startPoint,r=new H(e.worldMouseLocation.x,e.worldMouseLocation.y));const i=ft(n),l=ft(r);e.context.beginPath(),e.context.moveTo(i.x,i.y),e.context.lineTo(l.x,l.y),e.context.stroke()}intersectsWithBox(e){return this.segment?this.segment.intersect(e).length>0:!1}isContainedInBox(e){return this.segment?e.contains(this.segment):!1}getBoundingBox(){return this.segment?this.segment.box:null}getShape(){return this.segment}getSnapPoints(){var e,n;return!((e=this.segment)!=null&&e.start)||!((n=this.segment)!=null&&n.end)?[]:[{point:this.segment.start,type:F.LineEndPoint},{point:this.segment.end,type:F.LineEndPoint},{point:this.segment.middle(),type:F.LineMidPoint}]}getIntersections(e){const n=e.getShape();return!this.segment||!n?[]:this.segment.intersect(n)}getFirstPoint(){return this.startPoint}distanceTo(e){return this.segment?this.segment.distanceTo(e):null}getSvgString(){var e;return((e=this.segment)==null?void 0:e.svg())||null}getType(){return je.Line}containsPointOnLine(e){return this.segment?this.segment.contains(e):!1}cutAtPoints(e){if(!this.segment)return[this];const n=Si([this.segment.start,this.segment.end,...e],be),r=so(n,[l=>on(this.segment.start,l)]),i=[];for(let l=0;l<r.length-1;l++)i.push(new nr(r[l],r[l+1]));return i}}function A1(t,e){let n=0;const r=[];for(;n<t;)r.push(e(n)),n++;return r}function N1(t,e){return A1(180/e,n=>{const i=n*e*(Math.PI/180),l=t.x+Math.cos(i),o=t.y+Math.sin(i);return new nr(new H(t.x-1e4*(l-t.x),t.y-1e4*(o-t.y)),new H(t.x+1e4*(l-t.x),t.y+1e4*(o-t.y)))})}function Pi(t,e){let n=null,r=[Number.MAX_SAFE_INTEGER,null];return e.forEach(i=>{const l=i.distanceTo(t);l&&l[0]<r[0]&&(r=l,n=i)}),{distance:r[0],segment:r[1],entity:n}}function O1(t,e,n,r,i){let l=null,o=null;const u=[],a=[];e.forEach(v=>{const w=N1(v,r),_=Pi(n,w);_.distance<w1&&(a.push(_.entity),u.push({point:_.segment.start,type:F.AngleGuide}))});const c=[...t.flatMap(v=>v.getSnapPoints()),...jc(pn(t)).map(v=>({point:v,type:F.Intersection}))],f=Zs(c,n,i);f&&(l=f);const m=[...u,...jc([...pn(t),...a]).map(v=>({point:v,type:F.Intersection}))],g=Zs(m,n,i);return g&&(o=g),{angleGuides:a,entitySnapPoint:l,angleSnapPoint:o}}function hr(t,e,n,r=v1,i=[]){t.strokeStyle=r,t.lineWidth=1,t.setLineDash(i),e&&(t.lineWidth=2),n&&t.setLineDash([5,5])}function M1(t,e){e.forEach(n=>{hr(t.context,sa(n),Hn(n)),n.draw(t)})}function z1(t,e){e.forEach(n=>{hr(t.context,sa(n),Hn(n),"#FF5500"),n.draw(t)})}function R1(t,e,n){if(!e)return;const r=ft(e.point);hr(t.context,!1,!1,_1);const i=t.context;switch(n&&(i.beginPath(),i.moveTo(r.x-R/2,r.y),i.lineTo(r.x+R/2,r.y),i.moveTo(r.x,r.y-R/2),i.lineTo(r.x,r.y+R/2),i.stroke()),e.type){case F.LineEndPoint:i.strokeRect(r.x-R/2,r.y-R/2,R,R);break;case F.LineMidPoint:i.beginPath(),i.moveTo(r.x,r.y-R/2),i.lineTo(r.x-R/2,r.y+R/2),i.lineTo(r.x+R/2,r.y+R/2),i.closePath(),i.stroke();break;case F.AngleGuide:i.beginPath(),i.moveTo(r.x-R/2,r.y-R/2),i.lineTo(r.x+R/2,r.y-R/2),i.lineTo(r.x-R/2,r.y+R/2),i.lineTo(r.x+R/2,r.y+R/2),i.closePath(),i.stroke();break;case F.Intersection:i.beginPath(),i.moveTo(r.x-R/2,r.y-R/2),i.lineTo(r.x+R/2,r.y+R/2),i.moveTo(r.x+R/2,r.y-R/2),i.lineTo(r.x-R/2,r.y+R/2),i.stroke();break;case F.CircleCenter:i.beginPath(),i.arc(r.x,r.y,R/2,0,2*Math.PI),i.stroke();break;case F.CircleCardinal:i.beginPath(),i.moveTo(r.x,r.y-R/2),i.lineTo(r.x-R/2,r.y),i.lineTo(r.x,r.y+R/2),i.lineTo(r.x+R/2,r.y),i.closePath(),i.stroke();break}}function U1(t,e){e.forEach(n=>{hr(t.context,sa(n),Hn(n),y1,[1,5]),n.draw(t)})}function D1(t,e){hr(t.context,!1,!1),e==null||e.draw(t)}function F1(t,e){e&&(hr(t.context,!1,!1),t.context.beginPath(),t.context.moveTo(t.screenMouseLocation.x,t.screenMouseLocation.y-Yi),t.context.lineTo(t.screenMouseLocation.x,t.screenMouseLocation.y+Yi),t.context.moveTo(t.screenMouseLocation.x-Yi,t.screenMouseLocation.y),t.context.lineTo(t.screenMouseLocation.x+Yi,t.screenMouseLocation.y),t.context.stroke())}function B1(t){var e,n;t.canvasSize!==null&&t.context&&(t.context.fillStyle=m1,t.context.fillRect(0,0,(e=t.canvasSize)==null?void 0:e.x,(n=t.canvasSize)==null?void 0:n.y))}function j1(t){B1(t),U1(t,Jv()),M1(t,Ae()),z1(t,bv()),D1(t,cr());const{snapPoint:e}=Xs(pn([la(),lp()]),fr()),n=!!e&&oa().some(r=>r.milliSecondsHovered>ha&&be(r.snapPoint.point,e.point));R1(t,e,n),F1(t,Zv())}function V1(t){const e=Ae();let r=cr();r||(r=new nr,de(r)),r.send(t)&&(dr([...e,r]),r=new nr,de(r),r.send(t))}class $1{constructor(){re(this,"id",crypto.randomUUID());re(this,"rectangle",null);re(this,"startPoint",null)}send(e){if(this.startPoint){if(!this.rectangle)return this.rectangle=new jt(Math.min(this.startPoint.x,e.x),Math.min(this.startPoint.y,e.y),Math.max(this.startPoint.x,e.x),Math.max(this.startPoint.y,e.y)),!0}else return this.startPoint=e,!1;return!0}draw(e){if(!this.startPoint&&!this.rectangle)return;let n,r;this.rectangle?(n=this.rectangle.high,r=this.rectangle.low):(n=this.startPoint,r=new H(e.worldMouseLocation.x,e.worldMouseLocation.y));const i=ft(n),l=ft(r);e.context.beginPath(),e.context.strokeRect(i.x,i.y,l.x-i.x,l.y-i.y)}intersectsWithBox(e){return this.rectangle?Oh.relate(this.rectangle,e).B2B.length>0:!1}isContainedInBox(e){return this.rectangle?e.contains(this.rectangle):!1}distanceTo(e){if(!this.rectangle)return null;const n=this.rectangle.toSegments().map(i=>i.distanceTo(e));let r=[Number.MAX_SAFE_INTEGER,null];return n.forEach(i=>{i[0]<r[0]&&(r=i)}),r}getBoundingBox(){return this.rectangle?this.rectangle:null}getShape(){return this.rectangle}getSnapPoints(){if(!this.rectangle)return[];const e=this.rectangle.toPoints(),n=this.rectangle.toSegments();return[{point:e[0],type:F.LineEndPoint},{point:e[1],type:F.LineEndPoint},{point:e[2],type:F.LineEndPoint},{point:e[3],type:F.LineEndPoint},{point:n[0].middle(),type:F.LineMidPoint},{point:n[1].middle(),type:F.LineMidPoint},{point:n[2].middle(),type:F.LineMidPoint},{point:n[3].middle(),type:F.LineMidPoint}]}getIntersections(e){const n=e.getShape();return!this.rectangle||!n?[]:this.rectangle.toSegments().flatMap(r=>r.intersect(n))}getFirstPoint(){return this.startPoint}getSvgString(){var n,r;const e=(n=this.rectangle)==null?void 0:n.svg();return((r=e==null?void 0:e.replace(/width=([0-9]+)/g,'width="$1"'))==null?void 0:r.replace(/height=([0-9]+)/g,'height="$1"'))||null}getType(){return je.Rectangle}containsPointOnLine(e){return this.rectangle?this.rectangle.toSegments().some(n=>n.contains(e)):!1}}function H1(t){const e=Ae();let r=cr();r||(r=new $1,de(r)),r.send(new H(t.x,t.y))&&(dr([...e,r]),de(null))}function dp(t,e,n){const r=It.getAngle(e,n),i=t.map(l=>({point:l,angle:(new lo(e,l).slope-r+2*Math.PI)%(2*Math.PI)}));return so(i,[l=>l.angle]).map(l=>l.point)}class It{constructor(e,n,r,i){re(this,"id",crypto.randomUUID());re(this,"arc",null);re(this,"centerPoint",null);re(this,"firstPoint",null);if(e&&(this.centerPoint=e),e&&n&&(this.firstPoint=n),e&&n&&r){const l=It.getAngle(e,n),o=It.getAngle(e,r);this.arc=new Ys(e,on(e,n),l,o,i)}}static getAngle(e,n){return new lo(e,n).slope}send(e){if(this.centerPoint){if(!this.firstPoint)this.firstPoint=new H(e.x,e.y);else if(!this.arc){const n=It.getAngle(this.centerPoint,this.firstPoint),r=It.getAngle(this.centerPoint,e);return this.arc=new Ys(this.centerPoint,on(this.centerPoint,this.firstPoint),n,r,r>n),!0}}else return this.centerPoint=ea(e.x,e.y),!1;return!0}draw(e){var l,o;if(!this.centerPoint)return;let n;if(this.arc)n=this.arc.r.valueOf();else if(this.centerPoint&&this.firstPoint)n=on(this.centerPoint,this.firstPoint);else return;const r=ft(this.centerPoint),i=n*e.screenZoom;e.context.beginPath(),e.context.arc(r.x,r.y,i,((l=this.arc)==null?void 0:l.startAngle)||0,((o=this.arc)==null?void 0:o.endAngle)||2*Math.PI),e.context.stroke()}intersectsWithBox(e){return this.arc?this.arc.intersect(e).length>0:!1}isContainedInBox(e){return this.arc?e.contains(this.arc):!1}getBoundingBox(){return this.arc?this.arc.box:null}getShape(){return this.arc}getSnapPoints(){return this.centerPoint===null||this.arc===null?[]:[{point:this.centerPoint,type:F.CircleCenter},{point:this.arc.start,type:F.LineEndPoint},{point:this.arc.end,type:F.LineEndPoint}]}getIntersections(e){const n=e.getShape();return!this.arc||!n?[]:this.arc.intersect(n)}getFirstPoint(){return this.centerPoint}distanceTo(e){return this.arc?this.arc.distanceTo(e):null}getSvgString(){var e;return((e=this.arc)==null?void 0:e.svg())||null}getType(){return je.Arc}containsPointOnLine(e){return this.arc?this.arc.contains(e):!1}cutAtPoints(e){if(!this.arc)return[this];const n=Si([this.arc.start,this.arc.end,...e],be),r=dp(n,this.arc.center,this.arc.start),i=[];for(let l=0;l<r.length-1;l++){const o=r[l],u=r[l+1],a=new It(this.centerPoint||void 0,o,u,this.arc.counterClockwise);i.push(a)}return i}}function Vc(t,e){return(t+e)%e}class W1{constructor(){re(this,"id",crypto.randomUUID());re(this,"circle",null);re(this,"centerPoint",null)}send(e){if(this.centerPoint){if(!this.circle)return this.circle=Dh(this.centerPoint,this.centerPoint.distanceTo(e)[0]),!0}else return this.centerPoint=ea(e.x,e.y),!1;return!0}draw(e){if(!this.centerPoint)return;let n;this.circle?n=this.circle.r:n=this.centerPoint.distanceTo(e.worldMouseLocation)[0];const r=ft(this.centerPoint),i=n*e.screenZoom;e.context.beginPath(),e.context.arc(r.x,r.y,i,0,2*Math.PI),e.context.stroke()}intersectsWithBox(e){return this.circle?this.circle.intersect(e).length>0:!1}isContainedInBox(e){return this.circle?e.contains(this.circle):!1}getBoundingBox(){return this.circle?this.circle.box:null}getShape(){return this.circle}getSnapPoints(){return this.centerPoint===null||this.circle===null?[]:[{point:this.centerPoint,type:F.CircleCenter},{point:new H(this.centerPoint.x+this.circle.r,this.centerPoint.y),type:F.CircleCardinal},{point:new H(this.centerPoint.x-this.circle.r,this.centerPoint.y),type:F.CircleCardinal},{point:new H(this.centerPoint.x,this.centerPoint.y+this.circle.r),type:F.CircleCardinal},{point:new H(this.centerPoint.x,this.centerPoint.y-this.circle.r),type:F.CircleCardinal}]}getIntersections(e){const n=e.getShape();return!this.circle||!n?[]:this.circle.intersect(n)}getFirstPoint(){return this.centerPoint}distanceTo(e){return this.circle?this.circle.distanceTo(e):null}getSvgString(){var e;return((e=this.circle)==null?void 0:e.svg())||null}getType(){return je.Circle}containsPointOnLine(e){return this.circle?this.circle.contains(e):!1}cutAtPoints(e){if(!this.circle)return[this];const n=[],r=e.length;for(let i=0;i<r;i++){const l=e[Vc(i,r)],o=e[Vc(i+1,r)],u=new It(this.centerPoint||void 0,l,o,!0);n.push(u)}return n}}function Q1(t){const e=Ae();let r=cr();r||(r=new W1,de(r)),r.send(t)&&(dr([...e,r]),de(null))}class $c{constructor(){re(this,"id",crypto.randomUUID());re(this,"rectangle",null);re(this,"startPoint",null)}send(e){if(this.startPoint){if(!this.rectangle)return this.rectangle=new jt(Math.min(this.startPoint.x,e.x),Math.min(this.startPoint.y,e.y),Math.max(this.startPoint.x,e.x),Math.max(this.startPoint.y,e.y)),!0}else return this.startPoint=e,!1;return!0}draw(e){if(!this.startPoint&&!this.rectangle)return;let n,r;this.rectangle?(n=this.rectangle.high,r=this.rectangle.low):(n=this.startPoint,r=new H(e.worldMouseLocation.x,e.worldMouseLocation.y));const i=n.x>r.x,l=ft(n),o=ft(r);e.context.setLineDash([5,5]),e.context.strokeStyle=i?x1:E1,e.context.lineWidth=1,e.context.beginPath(),e.context.strokeRect(l.x,l.y,o.x-l.x,o.y-l.y)}isIntersectionSelection(){var e;return!this.rectangle||!this.startPoint?!1:Math.abs(this.startPoint.x-((e=this.rectangle)==null?void 0:e.xmin))>Ks}intersectsWithBox(e){return this.rectangle?this.rectangle.intersect(e):!1}isContainedInBox(e){return this.rectangle?e.contains(this.rectangle):!1}getBoundingBox(){return this.rectangle?this.rectangle:null}getShape(){return this.rectangle}getSnapPoints(){return[]}getIntersections(){return[]}getFirstPoint(){return this.startPoint}distanceTo(){return null}getSvgString(){var e;return((e=this.rectangle)==null?void 0:e.svg())||null}getType(){return je.SelectionRectangle}containsPointOnLine(){return!1}}function G1(t,e,n){const r=cr();let i=null;r instanceof $c&&(i=r);const l=Pi(t,Ae());if(l&&l.distance<da&&!i){const u=l.entity;console.log("selecting entity close to the mouse: ",u),!e&&!n?Pe([u.id]):e?Hn(u)?Pe(Ho().filter(a=>a!==u.id)):Pe([...Ho(),u.id]):Pe([...Ho(),u.id]);return}i||(console.log("Start a new selection rectangle drag: ",i),i=new $c,de(i));const o=i.send(new H(t.x,t.y));if(ci([]),o){console.log("Finish selection: ",i);const u=i.isIntersectionSelection(),a=pn(Ae().map(c=>{if(u){if(c.intersectsWithBox(i.getBoundingBox())||c.isContainedInBox(i.getBoundingBox()))return e&&Hn(c)?null:c.id}else if(c.isContainedInBox(i.getBoundingBox()))return e&&Hn(c)?null:c.id;return null}));Pe(a),console.log("Set active entity to null"),de(null)}}function Y1(t,e,n,r,i){if(!t)return;const l=e.at(-1);let o;l?on(t.point,l.snapPoint.point)<r?o=[...e.slice(0,e.length-1),{...l,milliSecondsHovered:l.milliSecondsHovered+i}]:l.milliSecondsHovered>=ha?o=[...e,{snapPoint:t,milliSecondsHovered:i}]:o=[...e.slice(0,e.length-1),{snapPoint:t,milliSecondsHovered:i}]:o=[{snapPoint:t,milliSecondsHovered:i}];const u=o.slice(0,S1);n(u)}function q1(t,e,n,r){const i=so(Si([e,...r,t,n],be),[o=>on(e,o)]),l=i.findIndex(o=>be(t,o));if(l===-1)throw new Error("Clicked point not found on line in function findNeighboringPointsOnLine");return[i[l-1]||e,i[l+1]||n]}class pa{constructor(e,n){re(this,"id",crypto.randomUUID());re(this,"point");n?this.point=new H(e,n):this.point=e}draw(e){const n=ft(this.point);e.context.beginPath(),e.context.arc(n.x,n.y,5,0,Math.PI*2),e.context.stroke()}intersectsWithBox(){return!1}isContainedInBox(e){return this.point?e.contains(this.point):!1}getBoundingBox(){return new jt(this.point.x,this.point.y,this.point.x,this.point.y)}getShape(){return this.point}getSnapPoints(){return this.point?[{point:this.point,type:F.Point}]:[]}getIntersections(){return[]}getFirstPoint(){return this.point}distanceTo(e){return this.point?this.point.distanceTo(e):null}getSvgString(){var e;return((e=this.point)==null?void 0:e.svg())||null}getType(){return je.Point}containsPointOnLine(e){return this.point.equalTo(e)}}function K1(t,e){const n=t.map(r=>({point:r,angle:new lo(e,r).slope}));return so(n,[r=>r.angle]).map(r=>r.point)}function X1(t,e,n){const r=K1(Si([...n,t],be),e.getShape().center),i=r.findIndex(l=>be(t,l));if(i===-1)throw new Error("Clicked point not found on line in function findNeighboringPointsOnCircle");return[r[(i+r.length-1)%r.length],r[(i+r.length+1)%r.length]]}function Z1(t,e,n){const r=dp(Si([...n,t],be),e.getShape().center,e.getShape().start),i=r.findIndex(l=>be(t,l));if(i===-1)throw new Error("Clicked point not found on line in function findNeighboringPointsOnArc");return[r[(i+r.length-1)%r.length],r[(i+r.length+1)%r.length]]}function J1(t){const e=Pi(t,Ae());if(!e)return;const n=e.segment.start,r=b1(e.entity,Ae());switch(e.entity.getType()){case je.Line:{const i=e.entity;Hc(i,n,r);break}case je.Circle:{const i=e.entity;ey(i,n,r);break}case je.Arc:{const i=e.entity;ty(i,n,r);break}case je.Rectangle:{const i=e.entity,u=i.getShape().toSegments().map(a=>new nr(a));tr(i),ao(...u),u.forEach(a=>Hc(a,n,r));break}case je.SelectionRectangle:break}}function b1(t,e){return pn(e.flatMap(n=>t.id===n.id?null:t.getIntersections(n)))}function Hc(t,e,n){const r=t.getShape(),[i,l]=q1(e,r.start,r.end,n);aa([i,l].map(a=>new pa(a)));const u=t.cutAtPoints([i,l]).filter(a=>!a.containsPointOnLine(e));tr(t),ao(...u)}function ey(t,e,n){const[r,i]=X1(e,t,n);aa([r,i].map(o=>new pa(o)));const l=t.cutAtPoints([r,i]);if(be(r,i))tr(t);else{const o=l.filter(u=>!u.containsPointOnLine(e));tr(t),ao(...o)}}function ty(t,e,n){const[r,i]=Z1(e,t,n);aa([r,i].map(o=>new pa(o)));const l=t.cutAtPoints([r,i]);if(be(r,i))tr(t);else{const o=l.filter(u=>!u.containsPointOnLine(e));tr(t),ao(...o)}}Wo.createRoot(document.getElementById("root")).render(B.jsx(Mp.StrictMode,{children:B.jsx(I1,{})}));function ny(){ua(!0)}function ry(t){ua(!0),l1(new H(t.clientX,t.clientY));const e=e1(),n=xi(),r=Wt();if(e){const i=new H(n.x-(t.clientX-e.x)/r,n.y-(t.clientY-e.y)/r);ca(new H(t.clientX,t.clientY)),op(i)}if(ay(),lt()===W.Select){const i=Pi(fr(),Ae());i.distance<da?ci([i.entity.id]):ci([])}}function iy(){ua(!1)}function ly(t){const e=xi(),n=Wt(),r=fr(),i=n*(1-P1*(t.deltaY/Math.abs(t.deltaY)));u1(i);const l=oo(ip());op(new H(e.x+(r.x-l.x),e.y+(r.y-l.y)))}function oy(t){t.button===Fl.Middle&&ca(new H(t.clientX,t.clientY))}function sy(t){if(t.button===Fl.Middle&&ca(null),t.button===Fl.Left){const e=Zs(pn([la(),lp()]),fr(),fa/Wt()),n=oo(new H(t.clientX,t.clientY)),r=e?e.point:n;lt()===W.Line&&V1(r),lt()===W.Rectangle&&H1(r),lt()===W.Circle&&Q1(r),lt()===W.Select&&G1(r,t.ctrlKey,t.shiftKey),lt()===W.Eraser&&J1(r)}}function uy(t){t.key==="Escape"?(t.preventDefault(),de(null),ci([]),Pe([])):t.key==="Delete"?(t.preventDefault(),dr(n1()),Pe([]),de(null)):t.key==="z"&&t.ctrlKey&&!t.shiftKey?(t.preventDefault(),up(),de(null),Pe([])):t.key==="z"&&t.ctrlKey&&t.shiftKey?(t.preventDefault(),ap(),de(null),Pe([])):t.key==="l"?(t.preventDefault(),Nr(W.Line),de(null),Pe([])):t.key==="c"?(t.preventDefault(),Nr(W.Circle),de(null),Pe([])):t.key==="r"?(t.preventDefault(),Nr(W.Rectangle),de(null),Pe([])):t.key==="s"&&(t.preventDefault(),Nr(W.Select),de(null),Pe([]))}function ay(){const t=lt(),e=qs(),n=cr(),r=Ae(),i=Wt(),l=fr(),a=oa().filter(c=>c.milliSecondsHovered>ha).map(c=>c.snapPoint.point);if([W.Line,W.Rectangle,W.Circle].includes(t)){let c=null;n&&!n.getShape()&&n.getFirstPoint()&&(c=n.getFirstPoint());const{angleGuides:f,entitySnapPoint:m,angleSnapPoint:g}=O1(r,pn([c,...a]),l,e,fa/i);o1(f),a1(m),c1(g)}}function hp(t,e){const n=rp(),r=ip(),i=fr(),l=Wt(),o=xi(),u=t1(),a=e-u;d1(e);const c={context:t,canvasSize:n,worldMouseLocation:i,screenMouseLocation:r,screenOffset:o,screenZoom:l};if(lt()===W.Select){const{distance:f,entity:m}=Pi(oo(r),Ae());f<da&&ci([m.id])}Y1(la(),oa(),f1,fa/Wt(),a),j1(c),requestAnimationFrame(f=>{hp(t,f)})}function Wc(){console.log("handle window resize",{width:window.innerWidth,height:window.innerHeight}),r1(new H(window.innerWidth,window.innerHeight));const t=Xv();t&&(t.width=window.innerWidth,t.height=window.innerHeight)}function cy(){const t=document.getElementsByTagName("canvas")[0];if(t){i1(t),t.addEventListener("mousedown",oy),t.addEventListener("mousemove",ry),t.addEventListener("mouseup",sy),t.addEventListener("wheel",ly),t.addEventListener("mouseout",iy),t.addEventListener("mouseenter",ny),document.addEventListener("keyup",uy),window.addEventListener("resize",Wc),Wc();const e=t.getContext("2d");if(!e)return;hp(e,0)}}document.addEventListener("DOMContentLoaded",()=>{cy()});
